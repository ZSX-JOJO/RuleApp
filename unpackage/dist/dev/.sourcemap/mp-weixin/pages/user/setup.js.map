{"version":3,"sources":["uni-app:///main.js","webpack:///E:/APPpro/voss/规则之树/pages/user/setup.vue?bd79","webpack:///E:/APPpro/voss/规则之树/pages/user/setup.vue?b392","webpack:///E:/APPpro/voss/规则之树/pages/user/setup.vue?541a","webpack:///E:/APPpro/voss/规则之树/pages/user/setup.vue?0348","uni-app:///pages/user/setup.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","StatusBar","CustomBar","NavBar","AppStyle","modalName","localdata","systemBan","versionCode","wgtVer","Update","versionUrl","userInfo","token","code","name","onPullDownRefresh","onShow","that","onLoad","methods","back","uni","delta","showModal","hideModal","rmlocal","title","content","success","console","getUserData","url","header","method","dataType","fail","icon","closeLocal","userinfo","localStorage","duration","position","get_cache_size","logout","setTimeout","clearTimeout","selfDelete"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;;;AAGpD;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAinB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;ACqHroB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MAEAC;MAEAC;MACAC;MAEAC;MACAC;MAEAC;MACAC;MAEAC;MACAC;MACAC;MAEAC;IAGA;EACA;EACAC;IACA;EAEA;EACAC;IACA;IAOA;MAEAC;MACAA;MACA;IACA;EAGA;EACAC;IACA;IAEAD;IAEA;MAEAA;IACA;IACAA;IACAA;EACA;EACAE;IACAC;MACAC;QACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACAJ;QACAK;QACAC;QACAC;UACA;YACAX;UACA;YACAY;UACA;QACA;MACA;IACA;IACAC;MACA;MACAb;QAEAc;QACAhC;UACA;QACA;QACAiC;UACA;QACA;QACAC;QACAC;QACAN;UACA;UACA;YACAX;UACA;QACA;QACAkB;UACAd;YACAK;YACAU;UACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;QACAC;QACA1B;MACA;MACA2B;MACAlB;QACAK;QACAU;QACAI;QACAC;MACA;MACAxB;MACAsB;MACAA;IACA;IACAG;MACA;MACA;MACA;QACAzB;MACA;QACAY;MACA;IACA;IAEAc;MACA;MACAtB;QACAK;QACAC;QACAC;UACA;YAEAP;cACAK;YACA;YACA;cACA;YACA;YACAT;cACAc;cACAhC;cACAiC;gBACA;cACA;cACAC;cACAC;cACAN;gBACAgB;kBACAvB;gBACA;gBAEA;kBACAkB;kBACAA;kBACAlB;oBACAK;oBACAU;oBACAI;oBACAC;kBACA;kBACA;oBACApB;sBACAU;oBACA;oBACAc;kBACA;gBACA;kBACAxB;oBACAK;oBACAU;kBACA;gBACA;cAEA;cACAD;gBACAS;kBACAvB;gBACA;gBACAA;kBACAK;kBACAU;gBACA;cACA;YACA;UAIA,wBAEA;QACA;MACA;IACA;IACAU;MACA;MACA;MAEA;QACA;QACAlC;MACA;MACA;QACA;MACA;MACAK;MACAI;QACAK;QACAE;UACA;YACAP;cACAK;YACA;YAEAT;cACAc;cACAhC;cACAiC;gBACA;cACA;cACAC;cACAC;cACAN;gBACAgB;kBACAvB;gBACA;gBACAA;kBACAK;kBACAU;gBACA;gBACA;kBACAG;kBACAA;kBACA;oBACAlB;sBACAU;oBACA;oBACAc;kBACA;gBACA;cAEA;cACAV;gBACAS;kBACAvB;gBACA;gBACAA;kBACAK;kBACAU;gBACA;cACA;YACA;UACA;YACAP;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B","file":"pages/user/setup.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/uni-stat/dist/uni-stat.es.js';\nimport Vue from 'vue'\nimport Page from './pages/user/setup.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./setup.vue?vue&type=template&id=f978c81c&\"\nvar renderjs\nimport script from \"./setup.vue?vue&type=script&lang=js&\"\nexport * from \"./setup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/user/setup.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setup.vue?vue&type=template&id=f978c81c&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setup.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"user\" :class=\"$store.state.AppStyle\">\n\t\t<view class=\"header\" :style=\"[{height:CustomBar + 'px'}]\">\n\t\t\t<view class=\"cu-bar bg-white\" :style=\"{'height': CustomBar + 'px','padding-top':StatusBar + 'px'}\">\n\t\t\t\t<view class=\"action\" @tap=\"back\">\n\t\t\t\t\t<text class=\"cuIcon-back\"></text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"content text-bold\" :style=\"[{top:StatusBar + 'px'}]\">\n\t\t\t\t\t设置\n\t\t\t\t</view>\n\t\t\t\t<view class=\"action\">\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view :style=\"[{padding:NavBar + 'px 10px 0px 10px'}]\"></view>\n\t\t<view class=\"cu-list menu margin-top\">\r\n\t\t\t<block v-if=\"token!=''\">\r\n\t\t\t\t<view class=\"cu-item\">\r\n\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t<text>账号状态<text class=\"cuIcon-question margin-left-xs\" @tap=\"showModal\" data-target=\"Modal\"></text></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t<block v-if=\"systemBan==-1\">\r\n\t\t\t\t\t\t\t<text class=\"text-blue\">获取中…</text>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<block v-if=\"systemBan==1\">\r\n\t\t\t\t\t\t\t<text class=\"text-red\">功能限制</text>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<block v-if=\"systemBan==0\">\r\n\t\t\t\t\t\t\t<text class=\"text-green\">正常</text>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-item\">\r\n\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t<text>注销账户<text class=\"cuIcon-question margin-left-xs\" @tap=\"showModal\" data-target=\"deleteTips\"></text></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t<text class=\"text-blue\"  @tap=\"showModal\" data-target=\"deleteUser\">申请注销</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\n\t\t\t\n\t\t\t<view class=\"cu-item\" @tap=\"rmlocal\">\n\t\t\t\t<view class=\"content\">\n\t\t\t\t\t<text>清除缓存</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"action\">\n\t\t\t\t\t<text class=\"text-gray\">{{ localdata }}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t</view>\n\t\t<view class=\"logout\" v-if=\"token!=''\" @tap=\"logout\">\n\t\t\t<view class=\"logout-main\">\n\t\t\t\t<text class=\"text-red\">退出登录</text>\n\t\t\t</view>\n\t\t\t\n\t\t</view>\r\n\t\t\n\t\t<view class=\"cu-modal\" :class=\"modalName=='Modal'?'show':''\">\n\t\t\t<view class=\"cu-dialog\">\n\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\n\t\t\t\t\t<view class=\"content\">账号状态说明</view>\n\t\t\t\t\t<view class=\"action\" @tap=\"hideModal\">\n\t\t\t\t\t\t<text class=\"cuIcon-close text-red\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"padding-xl text-left\">\n\t\t\t\t\t如果您的账号存在刷评论、文章、动态，或频繁出现疑似非人工操作行为，即会进入<text class=\"text-red text-bold\">功能限制</text>状态，该状态持续时间为10-30分钟，期间平台内部分功能将操作受限，并且无法以任何方式解除。\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\r\n\t\t<view class=\"cu-modal\" :class=\"modalName=='deleteTips'?'show':''\">\r\n\t\t\t<view class=\"cu-dialog\">\r\n\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\r\n\t\t\t\t\t<view class=\"content\">用户注销说明</view>\r\n\t\t\t\t\t<view class=\"action\" @tap=\"hideModal\">\r\n\t\t\t\t\t\t<text class=\"cuIcon-close text-red\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"padding-xl text-left\">\r\n\t\t\t\t\t申请注销后，您的用户信息将从本平台数据库删除，但您发布的文章等信息将继续保留，此时内容作者将不在提示具体信息，将以“账号已注销”代替。如您需要删除您发布的所有信息，可联系管理员处理。\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"cu-modal bottom-modal\" :class=\"modalName=='deleteUser'?'show':''\">\r\n\t\t\t<view class=\"cu-dialog\">\r\n\t\t\t\t<view class=\"cu-bar bg-white\">\r\n\t\t\t\t\t<view class=\"action\">注销账户</view>\r\n\t\t\t\t\t<view class=\"action text-blue\" @tap=\"hideModal\">取消</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"padding-top padding-bottom text-left\">\r\n\t\t\t\t\t<form>\r\n\t\t\t\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t\t\t\t<view class=\"title\">用户名</view>\r\n\t\t\t\t\t\t\t<input name=\"input\" disabled=\"disabled\" :value=\"name\"></input>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"all-btn\">\r\n\t\t\t\t\t\t\t<view class=\"user-btn flex flex-direction\">\r\n\t\t\t\t\t\t\t\t<button class=\"cu-btn bg-blue margin-tb-sm lg\" @tap=\"selfDelete()\">确认注销</button>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t</view>\n\t\t\n\t</view>\n</template>\n\n<script>\n\timport { localStorage } from '../../js_sdk/mp-storage/mp-storage/index.js'\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tStatusBar: this.StatusBar,\n\t\t\t\tCustomBar: this.CustomBar,\n\t\t\t\tNavBar:this.StatusBar +  this.CustomBar,\n\t\t\t\tAppStyle:this.$store.state.AppStyle,\n\t\t\t\t\n\t\t\t\tmodalName: null,\n\t\t\t\t\n\t\t\t\tlocaldata: '',\n\t\t\t\tsystemBan:\"-1\",\n\t\t\t\t\n\t\t\t\tversionCode:0,\n\t\t\t\twgtVer:'',\n\t\t\t\t\n\t\t\t\tUpdate:0,\n\t\t\t\tversionUrl:\"\",\n\t\t\t\t\n\t\t\t\tuserInfo:null,\n\t\t\t\ttoken:\"\",\r\n\t\t\t\tcode:'',\r\n\t\t\t\t\r\n\t\t\t\tname:\"\"\n\t\t\t\t\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tonPullDownRefresh(){\n\t\t\tvar that = this;\n\t\t\t\n\t\t},\n\t\tonShow(){\n\t\t\tvar that = this;\n\t\t\t// #ifdef APP-PLUS\n\t\t\t\n\t\t\t//plus.navigator.setStatusBarStyle(\"dark\")\n\t\t\t\n\t\t\t\n\t\t\t// #endif\n\t\t\tif(localStorage.getItem('userinfo')){\n\t\t\t\t\n\t\t\t\tthat.userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\tthat.name = that.userInfo.name;\n\t\t\t\t//that.userInfo.style = \"background-image:url(\"+that.userInfo.avatar+\");\"\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t},\n\t\tonLoad() {\n\t\t\tvar that = this;\n\t\t\t// #ifdef APP-PLUS || MP\n\t\t\tthat.NavBar = this.CustomBar;\n\t\t\t// #endif\n\t\t\tif(localStorage.getItem('token')){\n\t\t\t\t\n\t\t\t\tthat.token = localStorage.getItem('token');\n\t\t\t}\n\t\t\tthat.get_cache_size();\n\t\t\tthat.getUserData();\n\t\t},\n\t\tmethods: {\n\t\t\tback(){\n\t\t\t\tuni.navigateBack({\n\t\t\t\t\tdelta: 1\n\t\t\t\t});\n\t\t\t},\n\t\t\tshowModal(e) {\n\t\t\t\tthis.modalName = e.currentTarget.dataset.target\n\t\t\t},\n\t\t\thideModal(e) {\n\t\t\t\tthis.modalName = null\n\t\t\t},\n\t\t\trmlocal(){\n\t\t\t\tvar that = this;\n\t\t\t\tuni.showModal({\n\t\t\t\t    title: '提示',\n\t\t\t\t    content: '是否清除缓存？',\n\t\t\t\t    success: function (res) {\n\t\t\t\t        if (res.confirm) {\n\t\t\t\t            that.closeLocal();\n\t\t\t\t        } else if (res.cancel) {\n\t\t\t\t            console.log('用户点击取消');\n\t\t\t\t        }\n\t\t\t\t    }\n\t\t\t\t});\n\t\t\t},\n\t\t\tgetUserData() {\n\t\t\t\tvar that = this;\n\t\t\t\tthat.$Net.request({\n\t\t\t\t\t\n\t\t\t\t\turl: that.$API.getUserData(),\n\t\t\t\t\tdata:{\n\t\t\t\t\t\t\"token\":that.token\n\t\t\t\t\t},\n\t\t\t\t\theader:{\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\n\t\t\t\t\t},\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t//console.log(JSON.stringify(res));\n\t\t\t\t\t\tif(res.data.code==1){\n\t\t\t\t\t\t\tthat.systemBan = res.data.data.systemBan;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"网络开小差了哦\",\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tcloseLocal() {\n\t\t\t\tvar that = this\n\t\t\t\tvar userinfo = \"\";\n\t\t\t\tvar token = \"\";\n\t\t\t\t//绕过用户状态\n\t\t\t\tif(localStorage.getItem('userinfo')){\n\t\t\t\t\tuserinfo = localStorage.getItem('userinfo')\n\t\t\t\t\ttoken = localStorage.getItem('token');\n\t\t\t\t}\n\t\t\t\tlocalStorage.clear();\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '操作成功！',\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tduration: 1000,\n\t\t\t\t\tposition: 'bottom'\n\t\t\t\t})\n\t\t\t\tthat.localdata = '0 KB'\n\t\t\t\tlocalStorage.setItem('userinfo',userinfo);\n\t\t\t\tlocalStorage.setItem('token',token);\n\t\t\t},\n\t\t\tget_cache_size() {\n\t\t\t\tvar that = this\n\t\t\t\tvar obj = uni.getStorageInfoSync()\n\t\t\t\tif (obj) {\n\t\t\t\t\tthat.localdata = obj.currentSize + ' KB'\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('浏览器不支持localStorage')\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tlogout(){\n\t\t\t\tvar that = this;\n\t\t\t\tuni.showModal({\n\t\t\t\t    title: '提示',\n\t\t\t\t    content: '确认退出账户？',\n\t\t\t\t    success: function (res) {\n\t\t\t\t        if (res.confirm) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\t\ttitle: \"加载中\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tvar data={\n\t\t\t\t\t\t\t\t\"token\":that.token\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthat.$Net.request({\n\t\t\t\t\t\t\t\turl: that.$API.signOut(),\n\t\t\t\t\t\t\t\tdata:data,\n\t\t\t\t\t\t\t\theader:{\n\t\t\t\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif(res.data.code==1){\n\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('userinfo');\n\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle:\"退出成功\",\n\t\t\t\t\t\t\t\t\t\t\ticon:'none',\n\t\t\t\t\t\t\t\t\t\t\tduration: 1000,\n\t\t\t\t\t\t\t\t\t\t\tposition:'bottom',\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tvar timer = setTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\t\t\turl: '/pages/home/home'\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\tclearTimeout('timer')\n\t\t\t\t\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: \"网络开小差了哦\",\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t            \n\t\t\t\t        } else if (res.cancel) {\n\t\t\t\t            \n\t\t\t\t        }\n\t\t\t\t    }\n\t\t\t\t});\n\t\t\t},\r\n\t\t\tselfDelete(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar token = \"\";\r\n\t\t\t\t\r\n\t\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\t\ttoken=userInfo.token;\r\n\t\t\t\t}\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\t\"token\":token\r\n\t\t\t\t}\r\n\t\t\t\tthat.hideModal();\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t    title: '确定要注销自己的账号吗',\r\n\t\t\t\t    success: function (res) {\r\n\t\t\t\t        if (res.confirm) {\r\n\t\t\t\t            uni.showLoading({\r\n\t\t\t\t            \ttitle: \"加载中\"\r\n\t\t\t\t            });\r\n\t\t\t\t            \r\n\t\t\t\t            that.$Net.request({\r\n\t\t\t\t            \turl: that.$API.selfDelete(),\r\n\t\t\t\t            \tdata:data,\r\n\t\t\t\t            \theader:{\r\n\t\t\t\t            \t\t'Content-Type':'application/x-www-form-urlencoded'\r\n\t\t\t\t            \t},\r\n\t\t\t\t            \tmethod: \"get\",\r\n\t\t\t\t            \tdataType: 'json',\r\n\t\t\t\t            \tsuccess: function(res) {\r\n\t\t\t\t            \t\tsetTimeout(function () {\r\n\t\t\t\t            \t\t\tuni.hideLoading();\r\n\t\t\t\t            \t\t}, 1000);\r\n\t\t\t\t            \t\tuni.showToast({\r\n\t\t\t\t            \t\t\ttitle: res.data.msg,\r\n\t\t\t\t            \t\t\ticon: 'none'\r\n\t\t\t\t            \t\t})\r\n\t\t\t\t            \t\tif(res.data.code==1){\r\n\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('userinfo');\r\n\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\t\t\tvar timer = setTimeout(function() {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\t\t\turl: '/pages/home/home'\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\tclearTimeout('timer')\r\n\t\t\t\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t            \t\t}\r\n\t\t\t\t            \t\t\r\n\t\t\t\t            \t},\r\n\t\t\t\t            \tfail: function(res) {\r\n\t\t\t\t            \t\tsetTimeout(function () {\r\n\t\t\t\t            \t\t\tuni.hideLoading();\r\n\t\t\t\t            \t\t}, 1000);\r\n\t\t\t\t            \t\tuni.showToast({\r\n\t\t\t\t            \t\t\ttitle: \"网络开小差了哦\",\r\n\t\t\t\t            \t\t\ticon: 'none'\r\n\t\t\t\t            \t\t})\r\n\t\t\t\t            \t}\r\n\t\t\t\t            })\r\n\t\t\t\t        } else if (res.cancel) {\r\n\t\t\t\t            console.log('用户点击取消');\r\n\t\t\t\t        }\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":""}