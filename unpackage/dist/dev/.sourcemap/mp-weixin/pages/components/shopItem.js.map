{"version":3,"sources":["webpack:///E:/APPpro/voss/规则之树/pages/components/shopItem.vue?3618","webpack:///E:/APPpro/voss/规则之树/pages/components/shopItem.vue?da0b","webpack:///E:/APPpro/voss/规则之树/pages/components/shopItem.vue?69cb","webpack:///E:/APPpro/voss/规则之树/pages/components/shopItem.vue?0141","uni-app:///pages/components/shopItem.vue"],"names":["props","item","type","default","isAdmin","name","data","vipDiscount","vipPrice","scale","isvip","vip","currencyName","group","created","that","mounted","methods","shopInfo","uni","url","getVipInfo","header","method","dataType","success","clearTimeout","fail","getUserInfo","title","setTimeout","icon","toUserContents","deleteShop","token","duration","position","key","content","auditShop","editShop"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;;;AAGvD;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAonB,CAAgB,knBAAG,EAAC,C;;;;;;;;;;;;;;;;;;ACwDxoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBACA;EACAA;IACAC;MACAC;MACAC;QAAA;MAAA;IACA;IACAC;MACAF;MACAC;IACA;EAEA;EACAE;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;MAEA;MACAC;MACAA;IACA;EACA;EACAC;IACA;IACAD;IACAA;EACA;EACAE;IACAC;MACA;MACA;QACAH;MACA;QACAI;UACAC;QACA;MACA;IAEA;IACAC;MACA;MACAN;QACAK;QACAE;UACA;QACA;QACAC;QACAC;QACAC;UACA;YACAV;YACAA;YACAA;UACA;UACA;YACAA;YACAW;UACA;QACA;QACAC;UACA;YACAZ;YACAW;UACA;QACA;MACA;IACA;IACAE;MACA;MACAT;QACAU;MACA;MACAd;QAEAK;QACAd;UACA;QACA;QACAgB;UACA;QACA;QACAC;QACAC;QACAC;UACAK;YACAX;UACA;UACA;YACA;YACAJ;UACA;YACAI;cACAU;cACAE;YACA;UACA;QACA;QACAJ;UACAG;YACAX;UACA;UACAA;YACAU;YACAE;UACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;QACAH;QACAxB;MACA;MACA;MACA;MACAc;QACAC;MACA;IACA;IACAa;MACA;MACA;MACA;QACA;QACAC;MACA;QACAf;UACAU;UACAE;UACAI;UACAC;QACA;QACA;UACAjB;YACAC;UACA;UACAM;QACA;QACA;MACA;MACA;QACAW;QACAH;MACA;MACAf;QACAU;QACAS;QACAb;UACA;YACAN;cACAU;YACA;YACAd;cAEAK;cACAd;cACAgB;gBACA;cACA;cACAC;cACAC;cACAC;gBACAK;kBACAX;gBACA;gBACAA;kBACAU;kBACAE;gBACA;gBACAhB;cACA;cACAY;gBACAG;kBACAX;gBACA;gBACAA;kBACAU;kBACAE;gBACA;gBACAZ;cACA;YACA;UACA;QACA;MACA;IAEA;IACAoB;MACA;MACA;MACA;QACA;QACAL;MACA;QACAf;UACAU;UACAE;UACAI;UACAC;QACA;QACA;UACAjB;YACAC;UACA;UACAM;QACA;QACA;MACA;MACA;QACAW;QACAH;MACA;MACAf;QACAU;QACAS;QACAb;UACA;YACAN;cACAU;YACA;YACAd;cAEAK;cACAd;cACAgB;gBACA;cACA;cACAC;cACAC;cACAC;gBACAK;kBACAX;gBACA;gBACAA;kBACAU;kBACAE;gBACA;gBACA;kBACAhB;gBACA;cACA;cACAY;gBACAG;kBACAX;gBACA;gBACAA;kBACAU;kBACAE;gBACA;gBACAZ;cACA;YACA;UACA;QACA;MACA;IACA;IACAqB;MACA;MACA;MACA;MACA;QACArB;UACAC;QACA;MACA;QACA;QACAD;UACAC;QACA;MACA;IAEA;EACA;AACA;AAAA,4B","file":"pages/components/shopItem.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./shopItem.vue?vue&type=template&id=9cbad3ce&\"\nvar renderjs\nimport script from \"./shopItem.vue?vue&type=script&lang=js&\"\nexport * from \"./shopItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/components/shopItem.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shopItem.vue?vue&type=template&id=9cbad3ce&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 =\n    _vm.isvip == 1 ? parseInt(_vm.item.price * _vm.item.vipDiscount) : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shopItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shopItem.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"shop-box\">\r\n\t\t<view class=\"shop-main\">\r\n\t\t\t<view class=\"shop-img\" @tap=\"shopInfo(item)\">\r\n\t\t\t\t<image :src=\"item.imgurl\" mode=\"widthFix\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"shop-concent\" @tap=\"shopInfo(item)\">\r\n\t\t\t\t<text class=\"cuIcon-cart\"></text>\r\n\t\t\t\t<view class=\"shop-title\">\r\n\t\t\t\t\t<block v-if=\"isAdmin\">\r\n\t\t\t\t\t\t<text class=\"text-orange\" v-if=\"item.status==0\">[待审核]</text>\r\n\t\t\t\t\t\t<text class=\"text-green\" v-if=\"item.status==1\">[已上架]</text>\r\n\t\t\t\t\t\t<text class=\"text-red\" v-if=\"item.status==2\">[已禁用]</text>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<block v-if=\"item.isView==0\">\r\n\t\t\t\t\t\t<text class=\"text-gray\">[隐藏]</text>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t{{item.title||\"无标题商品\"}}\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"shop-list-value\">\r\n\t\t\t\t\t{{item.sellNum}}人付款\r\n\t\t\t\t\t<text class=\"margin-right-xs margin-left-xs\">|</text>\r\n\t\t\t\t\t<block v-if=\"item.num==-1\">无限</block>\r\n\t\t\t\t\t<block v-else>剩余{{item.num}}</block>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"shop-info\">\r\n\t\t\t\t\t<text class=\"shop-price text-red text-bold\" :class=\"isvip==1?'text-decoration':''\">{{item.price}}</text>\r\n\t\t\t\t\t<text class=\"shop-price text-vip-style text-bold margin-left-xs\"  v-if=\"isvip==1\">{{parseInt(item.price * item.vipDiscount)}}</text>\r\n\t\t\t\t\t<text class=\"text-sm margin-left-xs\">{{currencyName}}</text>\r\n\t\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"shop-list-user\" v-if=\"item.userJson\">\r\n\t\t\t\t\t<view class=\"content-author\">\r\n\t\t\t\t\t\t<image :src=\"item.userJson.avatar\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t<text class=\"content-author-name\">{{item.userJson.name}}</text>\r\n\t\t\t\t\t</view>\r\n\t\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"shop-list-user\" v-else>\r\n\t\t\t\t\t<view class=\"content-author\">\r\n\t\t\t\t\t\t<text class=\"content-author-name\">用户已注销</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t\t<view class=\"shop-admin-info text-center\"  v-if=\"isAdmin\">\r\n\t\t\t\t<text class=\"shop-btn text-blue\" v-if=\"item.status==0\" @tap=\"getUserInfo(item.uid)\">用户信息</text>\r\n\t\t\t\t<text class=\"shop-btn text-yellow\" v-if=\"item.status==0\" @tap=\"auditShop(item.id)\">审核</text>\r\n\t\t\t\t<text class=\"shop-btn text-red\" @tap=\"deleteShop(item.id)\" v-if=\"group=='administrator'\">删除</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t</view>\r\n\t</view>\n</template>\n\n<script>\r\n\timport { localStorage } from '../../js_sdk/mp-storage/mp-storage/index.js'\r\n\texport default {\r\n\t    props: {\r\n\t        item: {\r\n\t\t\t  type: Object,\r\n\t\t\t  default: () => ({})\r\n\t\t\t},\r\n\t\t\tisAdmin: {\r\n\t\t\t  type: Boolean,\r\n\t\t\t  default: false\r\n\t\t\t},\r\n\t\t\t\r\n\t    },\r\n\t\tname: \"forumItem\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvipDiscount:0,\r\n\t\t\t\tvipPrice:0,\r\n\t\t\t\tscale:0,\r\n\t\t\t\tisvip:0,\r\n\t\t\t\tvip:0,\r\n\t\t\t\tcurrencyName:\"\",\r\n\t\t\t\tgroup:\"\",\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tvar that = this;\r\n\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\tthat.group = userInfo.group;\r\n\t\t\t\tthat.isvip = userInfo.isvip;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tvar that = this;\r\n\t\t\tthat.getVipInfo();\r\n\t\t\tthat.currencyName = that.$API.getCurrencyName();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tshopInfo(data){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(that.isAdmin){\r\n\t\t\t\t\tthat.editShop(data);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t    url: '/pages/contents/shopinfo?sid='+data.id\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tgetVipInfo(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.$Net.request({\r\n\t\t\t\t\turl: that.$API.getVipInfo(),\r\n\t\t\t\t\theader:{\r\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif(res.data.code==1){\r\n\t\t\t\t\t\t\tthat.vipDiscount=res.data.data.vipDiscount;\r\n\t\t\t\t\t\t\tthat.vipPrice=res.data.data.vipPrice;\r\n\t\t\t\t\t\t\tthat.scale=res.data.data.scale;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar timer = setTimeout(function() {\r\n\t\t\t\t\t\t\tthat.isLoading=1;\r\n\t\t\t\t\t\t\tclearTimeout('timer')\r\n\t\t\t\t\t\t}, 300)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tvar timer = setTimeout(function() {\r\n\t\t\t\t\t\t\tthat.isLoading=1;\r\n\t\t\t\t\t\t\tclearTimeout('timer')\r\n\t\t\t\t\t\t}, 300)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetUserInfo(uid){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: \"加载中\"\r\n\t\t\t\t});\r\n\t\t\t\tthat.$Net.request({\r\n\t\t\t\t\t\r\n\t\t\t\t\turl: that.$API.getUserInfo(),\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\"key\":uid\r\n\t\t\t\t\t},\r\n\t\t\t\t\theader:{\r\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t\tif(res.data.code==1){\r\n\t\t\t\t\t\t\tvar data = res.data.data;\r\n\t\t\t\t\t\t\tthat.toUserContents(data);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"网络开小差了哦\",\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoUserContents(data){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar name = data.name;\r\n\t\t\t\tvar title = data.name+\"的信息\";\r\n\t\t\t\tif(data.screenName){\r\n\t\t\t\t\ttitle = data.screenName+\" 的信息\";\r\n\t\t\t\t\tname = data.screenName\r\n\t\t\t\t}\r\n\t\t\t\tvar id= data.uid;\r\n\t\t\t\tvar type=\"user\";\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t    url: '/pages/contents/userinfo?title='+title+\"&name=\"+name+\"&uid=\"+id+\"&avatar=\"+encodeURIComponent(data.avatar)\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdeleteShop(sid) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar token= \"\";\r\n\t\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\t\ttoken=userInfo.token;\r\n\t\t\t\t}else{\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t    title:\"请先登录\",\r\n\t\t\t\t\ticon:'none',\r\n\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\tposition:'bottom',\r\n\t\t\t\t});\r\n\t\t\t\tvar timer = setTimeout(function() {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/user/login'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tclearTimeout('timer')\r\n\t\t\t\t}, 1000)\r\n\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tkey: sid,\r\n\t\t\t\t\ttoken: token,\r\n\t\t\t\t}\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '确定要删除此商品吗?',\r\n\t\t\t\t\tcontent: ' ',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\ttitle: \"加载中\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.$Net.request({\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\turl: that.$API.deleteShop(),\r\n\t\t\t\t\t\t\t\tdata:data,\r\n\t\t\t\t\t\t\t\theader:{\r\n\t\t\t\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tthat.$emit('updateList','updateList');\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"网络开小差了哦\",\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tuni.stopPullDownRefresh()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tauditShop(sid){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar token= \"\";\r\n\t\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\t\ttoken=userInfo.token;\r\n\t\t\t\t}else{\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t    title:\"请先登录\",\r\n\t\t\t\t\ticon:'none',\r\n\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\tposition:'bottom',\r\n\t\t\t\t});\r\n\t\t\t\tvar timer = setTimeout(function() {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/user/login'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tclearTimeout('timer')\r\n\t\t\t\t}, 1000)\r\n\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tkey: sid,\r\n\t\t\t\t\ttoken: token,\r\n\t\t\t\t}\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '确定审核通过该商品吗?',\r\n\t\t\t\t\tcontent: ' ',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\ttitle: \"加载中\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.$Net.request({\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\turl: that.$API.auditShop(),\r\n\t\t\t\t\t\t\t\tdata:data,\r\n\t\t\t\t\t\t\t\theader:{\r\n\t\t\t\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tif(res.data.code==1){\r\n\t\t\t\t\t\t\t\t\t\tthat.$emit('updateList','updateList');\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"网络开小差了哦\",\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tuni.stopPullDownRefresh()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\teditShop(data){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar sid = data.id;\r\n\t\t\t\tvar isMd = data.isMd;\r\n\t\t\t\tif(isMd==1){\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t    url: '/pages/user/addshop?type=edit'+'&sid='+sid\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\t//富文本编辑器\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/edit/addshop?type=edit'+'&id='+sid\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t}\r\n\t}\n</script>\n\n<style>\n</style>"],"sourceRoot":""}