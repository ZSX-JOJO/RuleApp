{"version":3,"sources":["webpack:///E:/APPpro/voss/规则之树/pages/tabPage/home.vue?ea83","webpack:///E:/APPpro/voss/规则之树/pages/tabPage/home.vue?9b26","webpack:///E:/APPpro/voss/规则之树/pages/tabPage/home.vue?84cc","webpack:///E:/APPpro/voss/规则之树/pages/tabPage/home.vue?9dbb","uni-app:///pages/tabPage/home.vue"],"names":["props","curPage","type","default","name","data","StatusBar","CustomBar","NavBar","cardCur","swiperList","contentsList","topContents","metaList","Topic","dotStyle","towerStart","direction","TabCur","scrollLeft","page","moreText","isLoad","token","isLoading","dataLoad","pushAds","pushAdsInfo","bannerAds","bannerAdsInfo","noticeSum","userInfo","mounted","uni","console","that","curStyle","beforeDestroy","methods","getCID","setClientId","url","header","method","dataType","success","fail","title","icon","getAds","getAdsCache","getAdsList","localStorage","goAds","loading","tabSelect","loadMore","allCache","clearTimeout","getSwiper","cid","intro","swiper","getMetaList","mid","parent","getTopPic","getTopContents","list","getContentsList","getMetaContents","userStatus","unreadNum","toForeverblog","toComments","toSearch","toUsers","toCategoryContents","toAllContents","toInfo","subText","toShop","formatDate","month","date","hour","minute","toGroup","formatNumber","toImagetoday","toTopContents","goUserInfo","toMetas","goCategory","closeUpdate","toRand","replaceSpecialChar","text","toLink","scanLogin","goLogin","components","waves"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAgnB,CAAgB,8mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACqOpoB;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAEA;EACAA;IACAC;MACAC;MACAC;IACA;EACA;EACAC;EACAC;IAAA;IACA;MACAC;MACAC;MACAC;MAEAC;MACAC;MAEAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEAC;MACAC;MAEAC;MACAC;MAEAC;MAEAC;MAEAC;MAGAC;MAEAC;MACAC;MACAC;MACAC;MAIAC;MAEAC;IAAA,gDACA,oDAEA;EAGA;EACAC;IACA;IACAC;MACA;QACA;MACA;MACAC;MACA;QAEAC;QACAA;QACAA;MACA;QACAA;MACA;MACA;QAEAA;MACA;QACAA;MACA;MACA;QACA;QAEA;QACA;UACAC;QACA;QACA;UACAA;QACA;QACA;UACAA;QAEA;QACA;UACAA;QACA;QACA;QACAD;QACAD;MAGA;MACA;QAEAC;QACAA;QACAA;MACA;QACAA;MACA;MACA;QAEAA;MACA;QACAA;MACA;;MAUA;MACAA;MACAA;MACA;QAEAA;MACA;MACAA;MACAA;MACAA;MACAA;IAOA;IAEAF;MACA;QACA;MACA;MACAC;MAEA;QACAC;MACA;IACA;IAEAF;MACA;QACA;MACA;MACAC;MACAC;MACAA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAMAA;EAGA;EACAE;IACAJ;IACAA;IACAA;EACA;EACAK;IACA;IACAC;MACA;MACA;IAQA;IACAC;MACA;MACA;MACA;QAEAjB;MACA;QACA;MACA;MACAY;QAEAM;QACApC;UACA;UACA;QACA;QACAqC;UACA;QACA;QACAC;QACAC;QACAC;UACA,yBAGA;QACA;QACAC;UACAZ;UACAD;YACAc;YACAC;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;IAWA;IACAC;MACA;MACA;QACAf;MACA;MAEA;QACAA;QAEA;QACA;UACA;UACAA;QACA;MACA;IAEA;IACAgB;MACA;MACA;QACA;MACA;MACAhB;QACAM;QACApC;UACA;UACA;QACA;QACAqC;UACA;QACA;QACAC;QACAC;QACAC;UACA;YACA;YACA;cACAV;cACAiB;YACA;YACA;cACAjB;cAEAiB;YAEA;YACA;cACAjB;cACAiB;YACA;UACA;QAGA;QACAN,0BAEA;MACA;IACA;IACAO;MACA;MACA;MACA;IAYA;IACA;IACAC;MACA;MACA;MACA;MACAnB;MACAA;MACAA;MACA;QACA;UACAA;QACA;UACAA;QACA;MACA;IAEA;IACAoB;MACA;MACApB;MACAA;MACAA;MACAA;MACAA;MACA;QACAA;MACA;QACAA;MACA;IACA;IACAqB;MACA;MACArB;MACAA;MACA;QACAA;MACA;QACAA;MACA;IACA;IACA;IACAsB;MACA;MACA;MACA;QACAtB;QACA;UACAA;UACAuB;QACA;MACA;MAEA;QACAvB;MACA;MACA;QACAA;MACA;MACA;QACAA;MACA;MAEA;QACAA;MACA;IACA;IACAwB;MACA;MACA;QACA;QACA;MACA;MACA;MACA;QACA;QACApC;MACA;MACAY;QACAM;QACApC;UACA;UACA;UACA;UACA;UACA;QACA;QACAqC;UACA;QACA;QACAC;QACAC;QACAC;UAEA;YACAV;YACA;YACA;YACA;cACA;gBACA;kBACA;oBACAyB;oBACA1D;oBACAuC;oBACAM;oBACAc;kBACA;kBACAC;gBACA;cAEA;cACA3B;YAEA;cACAA;YACA;YACAiB;UACA;YACA;cACAjB;YACA;UACA;QACA;QACAW,0BAEA;MACA;IACA;IAEAiB;MACA;MACA;QACA;MACA;MACA5B;QACAM;QACApC;UACA;UACA;UACA;QACA;QACAqC;UACA;QACA;QACAC;QACAC;QACAC;UACA;YACA;YACA;cACA;gBACAmB;gBACA5D;gBACA6D;cACA;cACA9B;YAEA;cACAA;YACA;YACAiB;UACA;UACA;YACAjB;YACAuB;UACA;QACA;QACAZ;UACA;YACAX;YACAuB;UACA;QACA;MACA;IACA;IACAQ;MACA;MACA;QACA;MACA;MACA/B;QACAM;QACApC;UACA;UACA;UACA;QACA;QACAqC;UACA;QACA;QACAC;QACAC;QACAC;UACA;YACA;YACA;cACAV;YAEA;cACAA;YACA;YACAiB;UACA;UACA;YACAjB;YACAuB;UACA;QACA;QACAZ;UACA;YACAX;YACAuB;UACA;QACA;MACA;IACA;IACAS;MACA;MACA;QACA;QACA;MACA;MACA;MACA;QACA;QACA5C;MACA;MACAY;QACAM;QACApC;UACA;UACA;UACA;UACA;UACA;QACA;QACAqC;UACA;QACA;QACAC;QACAC;QACAC;UACA;YACA;YACA;cAEA;cACA;cACA;cACA;gBACA;gBACA;kBACA;oBACA;sBACAuB;oBACA;kBACA;gBACA;gBACAzD;cACA;cAEAwB;YACA;cACAA;YACA;YACAiB;UACA;QACA;QACAN,0BACA;MACA;IACA;IACAuB;MACA;MACA;QACA;QACA;MACA;MACA;MACA;QACA;QACA9C;MACA;MACA;MACA;QACAH;MACA;MACAe;QACAM;QACApC;UACA;UACA;UACA;UACA;UACA;QACA;QACAsC;QACAC;QACAC;UACAV;UACAA;UACA;YACAA;UACA;UACA;YACA;YACA;cAEA;cACA;cACA;cAYA;cACA;cACA;cACA;gBACA;gBACA;kBACA;oBACA;sBACAiC;oBACA;kBACA;gBACA;gBACAzD;cAWA;cACA;cACA;gBACAwB;gBACAA;cACA;gBACAA;cACA;cAGAiB;YACA;cACAjB;YACA;UACA;QACA;QACAW;UAEAX;UACAA;QACA;MACA;IACA;IACAmC;MACA;MACA;QACA;QACA;MACA;MACA;MACA;QACA;QACA/C;MACA;MACA;MACA;QACAH;MACA;MACAe;QACAM;QACApC;UACA;UACA;UACA;UACA;UACA;QACA;QACAqC;UACA;QACA;QACAC;QACAC;QACAC;UACA;YACAV;UACA;UACAA;UAEAA;UACA;YACA;YACA;cACA;cACA;cACA;cACA;gBACA;gBACA;kBACA;oBACA;sBACAiC;oBACA;kBACA;gBACA;gBACAzD;cACA;cACA;gBACAwB;gBACAA;cACA;gBACAA;cACA;cAGAiB;YACA;cACAjB;YACA;UACA;QACA;QACAW;UAEAX;UACAA;QACA;MACA;IACA;IACAoC;MACA;MACApC;QAEAM;QACApC;UACA;QACA;QACAqC;UACA;QACA;QACAC;QACAC;QACAC;UACA;YACAO;YACAA;YACAjB;YACAA;UACA;QACA;QACAW;UACAZ;UACAD;YACAc;YACAC;UACA;QACA;MACA;IACA;IACAwB;MACA;MACA;QACArC;MACA;IACA;IAEAsC;MACA;MAEAxC;QACAQ;MACA;IAEA;IACAiC;MACA;MAEAzC;QACAQ;MACA;IACA;IACAkC;MACA;MACA;QACA1C;UACAQ;QACA;QACA;MACA;MACAR;QACAQ;MACA;IACA;IACAmC;MACA;MAEA3C;QACAQ;MACA;IACA;IACAoC;MACA;MACA;MACA5C;QACAQ;MACA;IACA;IAEAqC;MACA;MACA;MACA;MACA7C;QACAQ;MACA;IACA;IACAsC;MACA;MAEA9C;QACAQ;MACA;IACA;IACAuC;MACA;QACA;MACA;QACA;MACA;IAEA;IACAC;MACA;MACAhD;QACAQ;MACA;IACA;IACAyC;MACA;MACA;QACAC;QACAC;QACAC;QACAC;MACA;MACA;IACA;IACAC;MACA;IAOA;IACAC;MACA;IACA;IAEAC;MACA;MAEAxD;QACAQ;MACA;IACA;IACAiD;MACA;MACA;MACAzD;QACAQ;MACA;IACA;IACAkD;MAEA;MACA;QACA1D;UACAQ;QACA;QACA;MACA;MACAR;IACA;IACA2D;MACA;MAEA3D;QACAQ;MACA;IACA;IAEAoD;MACA;MACA5D;QACAQ;MACA;IACA;IACAqD;MACA;MACA3D;IACA;IACA4D;MACA;MAEA9D;QACAQ;MACA;IACA;IACAuD;MACAC;MACAA;MACAA;MACAA;MACAA;MACA;IACA;IACAC;MACA;MAEA;QACAjE;UACAc;UACAC;QACA;QACA;MACA;MACAf;QACAQ;MACA;IACA;IACA0D;MACA;MACA;MACA;QACAlE;UACAc;UACAC;QACA;QACA;MACA;MACAf;QACAQ;MACA;IACA;IAEA2D;MACA;MACAnE;QACAQ;MACA;IACA;EACA;EASA4D;IACAC;EACA;AAEA;AAAA,2B","file":"pages/tabPage/home.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./home.vue?vue&type=template&id=8d1dc77a&\"\nvar renderjs\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/tabPage/home.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=template&id=8d1dc77a&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.metaList.length\n  var l0 =\n    _vm.TabCur == 0\n      ? _vm.__map(_vm.Topic, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var m0 = item.type == \"tag\" ? _vm.replaceSpecialChar(item.name) : null\n          var m1 = !(item.type == \"tag\")\n            ? _vm.replaceSpecialChar(item.name)\n            : null\n          return {\n            $orig: $orig,\n            m0: m0,\n            m1: m1,\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=script&lang=js&\"","<template>\n\t<view :class=\"$store.state.AppStyle\">\n\t\t<view class=\"header\" :style=\"[{height:CustomBar + 'px'}]\" >\n\t\t\t<view class=\"cu-bar bg-white\" :style=\"{'height': CustomBar + 'px','padding-top':StatusBar + 'px'}\">\n\t\t\t\t<!--  #ifdef H5 || APP-PLUS -->\n\t\t\t\t<!-- <view class=\"action\" @tap=\"toGroup\">\n\t\t\t\t\t<text class=\"toGroup\">社交</text>\n\t\t\t\t</view> -->\n\t\t\t\t<!--  #endif -->\n\t\t\t\t<!--  #ifdef MP -->\n\t\t\t\t<view class=\"action\" @tap=\"toSearch\">\n\t\t\t\t\t<text class=\"cuIcon-search\"></text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"content text-bold\" :style=\"[{top:StatusBar + 'px'}]\">\n\t\t\t\t\t首页\n\t\t\t\t</view>\n\t\t\t\t<!--  #endif -->\n\t\t\t\t<!--  #ifdef H5 || APP-PLUS -->\n\t\t\t\t<view class=\"cu-avatar round\" @tap=\"goUserInfo()\" :style=\"userInfo.style\" v-if=\"token!=''\"></view>\n\t\t\t\t<view class=\"cu-avatar round\" @tap=\"goUserInfo()\" v-else>\n\t\t\t\t\t<text class=\"home-noLogin\">登录</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"search-form radius\">\n\t\t\t\t\t<text class=\"cuIcon-search\"></text>\n\t\t\t\t\t<input type=\"text\" placeholder=\"搜索内容、评论、用户\" confirm-type=\"search\" disabled=\"disabled\"  @tap=\"toSearch\"></input>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"action header-btn\">\n\t\t\t\t\t\n\t\t\t\t\t<text class=\"cuIcon-notice\" @tap=\"toLink('/pages/user/inbox')\">\n\t\t\t\t\t\t<text class=\"noticeSum bg-red\" v-if=\"noticeSum>0\">{{noticeSum}}</text>\n\t\t\t\t\t</text>\n\t\t\t\t\t<!-- <text class=\"cuIcon-search\" @tap=\"toSearch\"></text> -->\n\t\t\t\t</view>\n\t\t\t\t<!--  #endif -->\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"home-nav metaList\" :style=\"'top:'+CustomBar+'px'\">\r\n\t\t\t<block v-if=\"metaList.length>0\">\r\n\t\t\t\t<scroll-view scroll-x class=\"bg-white nav \" scroll-with-animation :scroll-left=\"scrollLeft\" >\r\n\t\t\t\t\t<view class=\"cu-item\" :class=\"item.mid==TabCur?'text-blue cur':''\" v-for=\"(item,index) in metaList\" :key=\"index\" @tap=\"tabSelect\" :data-id=\"item.mid\" v-if=\"item.parent==0\">\r\n\t\t\t\t\t\t{{item.name}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</block>\n\t\t\t<view class=\"goCategory\" @tap=\"goCategory\">\n\t\t\t\t<text class=\"cuIcon-more\"></text>\n\t\t\t</view>\n\t\t</view>\n\t\t<view :style=\"[{padding:NavBar+45 + 'px 10px 0px 10px'}]\"></view>\n\t\t<block v-if=\"TabCur==0\">\n\t\t\t<swiper class=\"screen-swiper\" :class=\"dotStyle?'square-dot':'round-dot'\" :indicator-dots=\"true\" :circular=\"true\"\n\t\t\t :autoplay=\"true\" interval=\"5000\" duration=\"500\">\n\t\t\t\t<swiper-item v-for=\"(item,index) in swiperList\" :key=\"index\"  @tap=\"toInfo(item)\">\n\t\t\t\t\t<view class=\"swiper-box\">\n\t\t\t\t\t\t<image :src=\"item.url\" mode=\"aspectFill\" v-if=\"item.type=='image'\"></image>\n\t\t\t\t\t\t<video :src=\"item.url\" autoplay loop muted :show-play-btn=\"false\" :controls=\"false\" objectFit=\"cover\" v-if=\"item.type=='video'\"></video>\n\t\t\t\t\t\t<view class=\"swiper-text\">\n\t\t\t\t\t\t\t<view class=\"swiper-title\">\n\t\t\t\t\t\t\t\t{{item.title}}\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"swiper-intro\">\n\t\t\t\t\t\t\t\t{{item.intro}}\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t</swiper-item>\n\t\t\t</swiper>\n\t\t\t<view class=\"index-sort grid col-4\">\n\t\t\t\t\n\t\t\t\t<view class=\"index-sort-box\">\n\t\t\t\t\t<waves itemClass=\"butclass\">\n\t\t\t\t\t\t<view class=\"index-sort-main\" @tap='toTopContents(\"排行榜\",\"commentsNum\")'>\n\t\t\t\t\t\t\t<view class=\"index-sort-i\" style=\"background: rgba(255, 0, 127, 0.2);\">\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-crownfill\" style=\"color:  #ff007f;\"></text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"index-sort-text\">\n\t\t\t\t\t\t\t\t排行榜\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</waves>\n\t\t\t\t</view>\n\t\t\t\t<!--  #ifdef H5 || APP-PLUS -->\n\t\t\t\t<view class=\"index-sort-box\">\n\t\t\t\t\t<waves itemClass=\"butclass\">\n\t\t\t\t\t\t<view class=\"index-sort-main\" @tap=\"toComments\">\n\t\t\t\t\t\t\t<view class=\"index-sort-i\" style=\"background: rgba(3, 154, 84, 0.2);\">\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-commentfill\" style=\"color:  #039a54;\"></text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"index-sort-text\">\n\t\t\t\t\t\t\t\t评论区\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</waves>\n\t\t\t\t</view>\n\t\t\t\t<!--  #endif -->\n\t\t\t\t<!--  #ifdef MP -->\n\t\t\t\t<view class=\"index-sort-box\">\n\t\t\t\t\t<waves itemClass=\"butclass\">\n\t\t\t\t\t\t<view class=\"index-sort-main\" @tap=\"toImagetoday\">\n\t\t\t\t\t\t\t<view class=\"index-sort-i\" style=\"background: rgba(3, 154, 84, 0.2);\">\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-picfill\" style=\"color:  #039a54;\"></text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"index-sort-text\">\n\t\t\t\t\t\t\t\t图库\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</waves>\n\t\t\t\t</view>\n\t\t\t\t<!--  #endif -->\n\t\t\t\t<!--  #ifdef H5 || APP-PLUS -->\n\t\t\t\t<view class=\"index-sort-box\">\n\t\t\t\t\t<waves itemClass=\"butclass\">\n\t\t\t\t\t\t<view class=\"index-sort-main\" @tap=\"toShop\">\n\t\t\t\t\t\t\t<view class=\"index-sort-i\" style=\"background: rgba(255,51,51, 0.2);\">\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-shopfill\" style=\"color:  #ff3333;\"></text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"index-sort-text\">\n\t\t\t\t\t\t\t\t积分商城\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</waves>\n\t\t\t\t</view>\n\t\t\t\t<!--  #endif -->\n\t\t\t\t<!--  #ifdef MP -->\n\t\t\t\t<view class=\"index-sort-box\">\n\t\t\t\t\t<waves itemClass=\"butclass\">\n\t\t\t\t\t\t<view class=\"index-sort-main\" @tap=\"toRand\">\n\t\t\t\t\t\t\t<view class=\"index-sort-i\" style=\"background: rgba(255,51,51, 0.2);\">\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-refresh\" style=\"color:  #ff3333;\"></text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"index-sort-text\">\n\t\t\t\t\t\t\t\t随机阅读\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</waves>\n\t\t\t\t</view>\n\t\t\t\t<!--  #endif -->\n\t\t\t\t<view class=\"index-sort-box\">\n\t\t\t\t\t<waves itemClass=\"butclass\">\n\t\t\t\t\t\t<view class=\"index-sort-main\" @tap=\"toUsers\">\n\t\t\t\t\t\t\t<view class=\"index-sort-i\" style=\"background: rgba(170,85,255, 0.2);\">\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-peoplefill\" style=\"color:  #aa55ff;\"></text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"index-sort-text\">\n\t\t\t\t\t\t\t\t用户列表\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</waves>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"data-box\">\n\t\t\t\t<view class=\"cu-bar bg-white\">\n\t\t\t\t\t<view class=\"action data-box-title\">\n\t\t\t\t\t\t<text class=\"cuIcon-titles text-rule\"></text> 热门专题\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"action more\" @tap=\"toMetas\">\n\t\t\t\t\t\t<text>查看全部</text><text class=\"cuIcon-right\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"topic grid col-2\">\n\t\t\t\t\t<view class=\"topic-box\" v-for=\"(item,index) in Topic\" @tap=\"toCategoryContents(item.name,item.mid)\" :key=\"index\">\n\t\t\t\t\t\t<view class=\"topic-main\">\n\t\t\t\t\t\t\t<image :src=\"item.imgurl\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t\t<view class=\"topic-text\" v-if=\"item.type=='tag'\">#{{replaceSpecialChar(item.name)}}#</view>\n\t\t\t\t\t\t\t<view class=\"topic-text\" v-else>{{replaceSpecialChar(item.name)}}</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</block>\n\t\t<view class=\"ads-banner\" v-if=\"bannerAdsInfo!=null\">\n\t\t\t<image :src=\"bannerAdsInfo.img\" mode=\"widthFix\" @tap=\"goAds(bannerAdsInfo)\"></image>\n\t\t</view>\n\t\t<!--底下改成滑动形式-->\n\t\t<view class=\"all-box\" :style=\"TabCur!=0?'margin-top:0;':''\">\n\t\t\t<view class=\"cu-bar bg-white\" v-if=\"TabCur==0\">\n\t\t\t\t<view class=\"action data-box-title\">\n\t\t\t\t\t<text class=\"cuIcon-titles text-rule\"></text>最新文章\n\t\t\t\t</view>\n\t\t\t\t<view class=\"action more\" @tap='toTopContents(\"排行榜\",\"commentsNum\")'>\n\t\t\t\t\t<text>阅读更多</text><text class=\"cuIcon-right\"></text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<block v-for=\"(item,index) in topContents\" :key=\"'top'+index\" v-if=\"TabCur==0&&dataLoad\">\n\t\t\t\t<articleItem :item=\"item\" :isTop=\"true\"></articleItem>\n\t\t\t</block>\n\t\t\t<view class=\"dataLoad\" v-if=\"!dataLoad\">\n\t\t\t\t<image src=\"../../static/loading.gif\"></image>\n\t\t\t</view>\n\t\t\t<block v-for=\"(item,index) in contentsList\" :key=\"index\" v-if=\"dataLoad\">\n\t\t\t\t<articleItem :item=\"item\"></articleItem>\n\t\t\t</block>\n\t\t\t\n\t\t\t\n\t\t\t<view class=\"load-more\" @tap=\"loadMore\" v-if=\"dataLoad\">\n\t\t\t\t<text>{{moreText}}</text>\n\t\t\t</view>\n\t\t</view>\n\t\t<!--加载遮罩-->\n\t\t<view class=\"loading\" v-if=\"isLoading==0\">\n\t\t\t<view class=\"loading-main\">\n\t\t\t\t<image src=\"../../static/loading.gif\"></image>\n\t\t\t</view>\n\t\t</view>\n\t\t<!--加载遮罩结束-->\n\t\t<!--登录遮罩-->\n\t\t<view class=\"full-noLogin\" v-if=\"noLogin\">\n\t\t\t<view class=\"full-noLogin-main\">\n\t\t\t\t<view class=\"full-noLogin-text\">\n\t\t\t\t\t您需要登录后才可以查看内容哦！\n\t\t\t\t</view>\n\t\t\t\t<view class=\"full-noLogin-btn\">\n\t\t\t\t\t<view class=\"cu-btn bg-blue\" @tap=\"goLogin()\">\n\t\t\t\t\t\t立即登录\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<!--登录遮罩结束-->\r\n\t\t<view style=\"width: 100%; height: 100upx;\"></view>\n\t</view>\n</template>\n\n<script>\n\t\n\timport waves from '@/components/xxley-waves/waves.vue';\n\timport { localStorage } from '../../js_sdk/mp-storage/mp-storage/index.js'\n\t\n\texport default {\r\n\t\tprops: {\r\n\t\t\tcurPage: {\r\n\t\t\t  type: Number,\r\n\t\t\t  default: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tname: \"home\",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tStatusBar: this.StatusBar,\n\t\t\t\tCustomBar: this.CustomBar,\n\t\t\t\tNavBar:this.StatusBar +  this.CustomBar,\n\t\t\t\t\n\t\t\t\tcardCur: 0,\n\t\t\t\tswiperList: [],\n\t\t\t\t\n\t\t\t\tcontentsList:[],\n\t\t\t\ttopContents:[],\n\t\t\t\tmetaList:[],\n\t\t\t\tTopic:[],\n\t\t\t\tdotStyle: false,\n\t\t\t\ttowerStart: 0,\n\t\t\t\tdirection: '100000',\n\t\t\t\t\n\t\t\t\tTabCur: 0,\n\t\t\t\tscrollLeft: 0,\n\t\t\t\t\n\t\t\t\tpage:1,\n\t\t\t\tmoreText:\"加载更多\",\n\t\t\t\t\n\t\t\t\tisLoad:0,\n\t\t\t\t\n\t\t\t\ttoken:\"\",\n\t\t\t\t\n\t\t\t\tisLoading:0,\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tdataLoad:false,\n\t\t\t\t\n\t\t\t\tpushAds:[],\n\t\t\t\tpushAdsInfo:null,\n\t\t\t\tbannerAds:[],\n\t\t\t\tbannerAdsInfo:null,\r\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tnoticeSum:0,\n\t\t\t\t\n\t\t\t\tuserInfo:null,\n\t\t\t\ttoken:\"\",\n\t\t\t\t\n\t\t\t\tnoLogin:false,\n\t\t\t\t\n\t\t\t}\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tvar that = this;\r\n\t\t\tuni.$on('onShow', function(data) {\r\n\t\t\t\tif(Number(data)!=Number(that.curPage)){\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(\"触发Tab-\"+data+\"||页面下标\"+that.curPage);\r\n\t\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\t\tthat.userInfo.style = \"background-image:url(\"+that.userInfo.avatar+\");\"\r\n\t\t\t\t\tthat.group = that.userInfo.group;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.userInfo =null;\r\n\t\t\t\t}\r\n\t\t\t\tif(localStorage.getItem('token')){\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.token = localStorage.getItem('token');\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.token = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tif(localStorage.getItem('appStyle')){\r\n\t\t\t\t\tvar appStyle = localStorage.getItem('appStyle');\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar curStyle = \"blue\";\r\n\t\t\t\t\tif(appStyle.indexOf(\"blue\")!=-1){\r\n\t\t\t\t\t\tcurStyle = \"blue\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(appStyle.indexOf(\"pink\")!=-1){\r\n\t\t\t\t\t\tcurStyle = \"pink\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(appStyle.indexOf(\"orange\")!=-1){\r\n\t\t\t\t\t\tcurStyle = \"orange\";\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(appStyle.indexOf(\"green\")!=-1){\r\n\t\t\t\t\t\tcurStyle = \"green\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// that.$store.state.AppStyle = that.appStyle;\r\n\t\t\t\t\tthat.$store.commit('setStyle', appStyle);\r\n\t\t\t\t\tconsole.log(that.$store.state.AppStyle)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\t\tthat.userInfo.style = \"background-image:url(\"+that.userInfo.avatar+\");\"\r\n\t\t\t\t\tthat.group = that.userInfo.group;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.userInfo =null;\r\n\t\t\t\t}\r\n\t\t\t\tif(localStorage.getItem('token')){\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.token = localStorage.getItem('token');\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.token = \"\";\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t//如果启动图还没有缓存过，第一次进来就不显示启动图了\r\n\t\t\t\tif(!localStorage.getItem('appStart')){\r\n\t\t\t\t\tthat.isStart = true;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t////plus.navigator.setStatusBarStyle(\"dark\")\r\n\t\t\t\t// #endif\r\n\t\t\t\t//获取缓存\r\n\t\t\t\tthat.allCache();\r\n\t\t\t\tthat.loading();\r\n\t\t\t\tif(localStorage.getItem('token')){\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.token = localStorage.getItem('token');\r\n\t\t\t\t}\r\n\t\t\t\tthat.userStatus();\r\n\t\t\t\tthat.unreadNum();\r\n\t\t\t\tthat.getSwiper();\r\n\t\t\t\tthat.getCID();\r\n\t\t\t\t// #ifdef APP-PLUS || H5\r\n\t\t\t\t\r\n\t\t\t\tthat.getAdsCache();\r\n\t\t\t\tthat.getAds();\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tuni.$on('onReachBottom', function(data) {\r\n\t\t\t\tif(Number(data)!=Number(that.curPage)){\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(\"触发触底刷新\");\r\n\t\t\t\t\r\n\t\t\t\tif(that.isLoad==0){\r\n\t\t\t\t\tthat.loadMore();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tuni.$on('onPullDownRefresh', function(data) {\r\n\t\t\t\tif(Number(data)!=Number(that.curPage)){\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(\"触发下拉刷新\");\r\n\t\t\t\tthat.page = 1;\r\n\t\t\t\tthat.loading();\r\n\t\t\t});\r\n\t\t\t// if(localStorage.getItem('userinfo')){\r\n\t\t\t\t\r\n\t\t\t// \tthat.userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t// \tthat.userInfo.style = \"background-image:url(\"+that.userInfo.avatar+\");\"\r\n\t\t\t// \tthat.group = that.userInfo.group;\r\n\t\t\t// }else{\r\n\t\t\t// \tthat.userInfo =null;\r\n\t\t\t// }\r\n\t\t\t// if(localStorage.getItem('token')){\r\n\t\t\t\t\r\n\t\t\t// \tthat.token = localStorage.getItem('token');\r\n\t\t\t// }else{\r\n\t\t\t// \tthat.token = \"\";\r\n\t\t\t// }\r\n\t\t\t// //第一次加载执行\r\n\t\t\t// //如果启动图还没有缓存过，第一次进来就不显示启动图了\r\n\t\t\t// if(!localStorage.getItem('appStart')){\r\n\t\t\t// \tthat.isStart = true;\r\n\t\t\t// }\r\n\t\t\t// that.loading();\r\n\t\t\t// that.userStatus();\r\n\t\t\t// that.unreadNum();\r\n\t\t\t// that.getSwiper();\r\n\t\t\t// that.getCID();\r\n\t\t\t// // #ifdef APP-PLUS || H5\r\n\t\t\t// that.getAdsCache();\r\n\t\t\t// that.getAds();\r\n\t\t\t// // #endif\r\n\t\t\t\r\n\t\t\t// #ifdef APP-PLUS || MP\r\n\t\t\tthat.NavBar = this.CustomBar;\r\n\t\t\t// #endif\r\n\t\t\t\r\n\t\t},\n\t\tbeforeDestroy(){\r\n\t\t\tuni.$off('onReachBottom')\r\n\t\t\tuni.$off('onShow')\r\n\t\t\tuni.$off('onPullDownRefresh')\r\n\t\t},\n\t\tmethods: {\n\t\t\t//获取客户端id用于消息通知\n\t\t\tgetCID() {\n\t\t\t\tvar that = this;\n\t\t\t\tlet cid = ''\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\tlet pinf = plus.push.getClientInfo();\n\t\t\t\tcid = pinf.clientid;\n\t\t\t\tif(cid){\n\t\t\t\t\tthat.setClientId(cid);\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\tsetClientId(cid){\n\t\t\t\tvar that = this;\n\t\t\t\tvar token = \"\";\n\t\t\t\tif(localStorage.getItem('token')){\n\t\t\t\t\t\n\t\t\t\t\ttoken = localStorage.getItem('token');\n\t\t\t\t}else{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthat.$Net.request({\n\t\t\t\t\t\n\t\t\t\t\turl: that.$API.setClientId(),\n\t\t\t\t\tdata:{\n\t\t\t\t\t\t\"clientId\":cid,\n\t\t\t\t\t\t\"token\":token\n\t\t\t\t\t},\n\t\t\t\t\theader:{\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\n\t\t\t\t\t},\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tif(res.data.code==1){\n\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"网络开小差了哦\",\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//获取并缓存广告\n\t\t\tgetAds(){\n\t\t\t\tvar that = this;\n\t\t\t\t// #ifdef APP-PLUS || H5\n\t\t\t\t//获取推流广告\n\t\t\t\tthat.getAdsList(0);\n\t\t\t\t//获取横幅广告\n\t\t\t\tthat.getAdsList(1);\n\t\t\t\t//#endif\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\t//获取启动图广告\n\t\t\t\tthat.getAdsList(2);\n\t\t\t\t//#endif\n\t\t\t},\n\t\t\tgetAdsCache(){\n\t\t\t\tvar that = this;\n\t\t\t\tif(localStorage.getItem('pushAds')){\n\t\t\t\t\tthat.pushAds = JSON.parse(localStorage.getItem('pushAds'));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(localStorage.getItem('bannerAds')){\n\t\t\t\t\tthat.bannerAds = JSON.parse(localStorage.getItem('bannerAds'));\n\t\t\t\t\t\n\t\t\t\t\tvar num = that.bannerAds.length;\n\t\t\t\t\tif(num>0){\n\t\t\t\t\t\tvar rand = Math.floor(Math.random()*num);\n\t\t\t\t\t\tthat.bannerAdsInfo = that.bannerAds[rand];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\tgetAdsList(type){\n\t\t\t\tvar that = this;\n\t\t\t\tvar data = {\n\t\t\t\t\t\"type\":type,\n\t\t\t\t}\n\t\t\t\tthat.$Net.request({\n\t\t\t\t\turl: that.$API.adsList(),\n\t\t\t\t\tdata:{\n\t\t\t\t\t\t\"searchParams\":JSON.stringify(that.$API.removeObjectEmptyKey(data)),\n\t\t\t\t\t\t\"limit\":100,\n\t\t\t\t\t},\n\t\t\t\t\theader:{\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\n\t\t\t\t\t},\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tif(res.data.code==1){\n\t\t\t\t\t\t\tvar list = res.data.data;\n\t\t\t\t\t\t\tif(type==0){\n\t\t\t\t\t\t\t\tthat.pushAds = res.data.data;\n\t\t\t\t\t\t\t\tlocalStorage.setItem('pushAds',JSON.stringify(that.pushAds));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(type==1){\n\t\t\t\t\t\t\t\tthat.bannerAds = res.data.data;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlocalStorage.setItem('bannerAds',JSON.stringify(that.bannerAds));\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(type==2){\n\t\t\t\t\t\t\t\tthat.startAds = res.data.data;\n\t\t\t\t\t\t\t\tlocalStorage.setItem('startAds',JSON.stringify(that.startAds));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tgoAds(data){\n\t\t\t\tvar that = this;\n\t\t\t\tvar url = data.url;\n\t\t\t\tvar type = data.urltype;\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\tif(type==1){\n\t\t\t\t\tplus.runtime.openURL(url);\n\t\t\t\t}\n\t\t\t\tif(type==0){\n\t\t\t\t\tplus.runtime.openWeb(url);\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t\t// #ifdef H5\n\t\t\t\twindow.open(url)\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\t//全部请求\n\t\t\tloading(){\n\t\t\t\tvar that = this;\n\t\t\t\t// that.page = 1;\n\t\t\t\t//that.getSwiper();\n\t\t\t\tthat.getTopPic();\n\t\t\t\tthat.getMetaList();\n\t\t\t\tthat.getTopContents();\r\n\t\t\t\tif(that.page < 2){\r\n\t\t\t\t\tif(that.TabCur==0){\r\n\t\t\t\t\t\tthat.getContentsList(false);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.getMetaContents(false,that.TabCur);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\ttabSelect(e) {\n\t\t\t\tvar that = this;\n\t\t\t\tthat.TabCur = e.currentTarget.dataset.id;\n\t\t\t\tthat.page = 1;\n\t\t\t\tthat.scrollLeft = (e.currentTarget.dataset.id - 1) * 60;\n\t\t\t\tthat.contentsList = [];\n\t\t\t\tthat.dataLoad = false;\n\t\t\t\tif(that.TabCur==0){\n\t\t\t\t\tthat.getContentsList(false);\n\t\t\t\t}else{\n\t\t\t\t\tthat.getMetaContents(false,that.TabCur);\n\t\t\t\t}\n\t\t\t},\n\t\t\tloadMore(){\n\t\t\t\tvar that = this;\n\t\t\t\tthat.moreText=\"正在加载中...\";\n\t\t\t\tthat.isLoad=1;\n\t\t\t\tif(that.TabCur==0){\n\t\t\t\t\tthat.getContentsList(true);\n\t\t\t\t}else{\n\t\t\t\t\tthat.getMetaContents(true,that.TabCur);\n\t\t\t\t}\n\t\t\t},\n\t\t\t//公共缓存\n\t\t\tallCache(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar meta = that.TabCur;\n\t\t\t\tif(localStorage.getItem('swiperList')){\n\t\t\t\t\tthat.swiperList = JSON.parse(localStorage.getItem('swiperList'));\n\t\t\t\t\tvar timer = setTimeout(function() {\n\t\t\t\t\t\tthat.isLoading=1;\n\t\t\t\t\t\tclearTimeout('timer')\n\t\t\t\t\t}, 300)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(localStorage.getItem('metaList')){\n\t\t\t\t\tthat.metaList = JSON.parse(localStorage.getItem('metaList'));\n\t\t\t\t}\n\t\t\t\tif(localStorage.getItem('contentsList_'+meta)){\n\t\t\t\t\tthat.contentsList = JSON.parse(localStorage.getItem('contentsList_'+meta));\n\t\t\t\t}\n\t\t\t\tif(localStorage.getItem('topContents')){\n\t\t\t\t\tthat.topContents = JSON.parse(localStorage.getItem('topContents'));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(localStorage.getItem('Topic')){\n\t\t\t\t\tthat.Topic = JSON.parse(localStorage.getItem('Topic'));\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetSwiper(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar data = {\n\t\t\t\t\t\"type\":\"post\",\n\t\t\t\t\t\"isswiper\":1\n\t\t\t\t}\n\t\t\t\tvar token = \"\";\n\t\t\t\tif(localStorage.getItem('userinfo')){\n\t\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\n\t\t\t\t\ttoken=userInfo.token;\n\t\t\t\t}\n\t\t\t\tthat.$Net.request({\n\t\t\t\t\turl: that.$API.getContentsList(),\n\t\t\t\t\tdata:{\n\t\t\t\t\t\t\"searchParams\":JSON.stringify(that.$API.removeObjectEmptyKey(data)),\n\t\t\t\t\t\t\"limit\":8,\n\t\t\t\t\t\t\"page\":1,\n\t\t\t\t\t\t\"order\":\"modified\",\n\t\t\t\t\t\t\"token\":token\n\t\t\t\t\t},\n\t\t\t\t\theader:{\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\n\t\t\t\t\t},\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(res.data.code==1){\n\t\t\t\t\t\t\tthat.noLogin = false;\n\t\t\t\t\t\t\tvar list = res.data.data;\n\t\t\t\t\t\t\tvar swiper = [];\n\t\t\t\t\t\t\tif(list.length>0){\n\t\t\t\t\t\t\t\tfor(var i in list){\n\t\t\t\t\t\t\t\t\tif(list[i].images.length>0){\n\t\t\t\t\t\t\t\t\t\tvar arr = {\n\t\t\t\t\t\t\t\t\t\t\tcid: list[i].cid,\n\t\t\t\t\t\t\t\t\t\t\ttype: 'image',\n\t\t\t\t\t\t\t\t\t\t\turl: list[i].images[0],\n\t\t\t\t\t\t\t\t\t\t\ttitle:list[i].title,\n\t\t\t\t\t\t\t\t\t\t\tintro:that.subText(list[i].text,20),\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tswiper.push(arr);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthat.swiperList = swiper;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthat.swiperList = [];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlocalStorage.setItem('swiperList',JSON.stringify(that.swiperList));\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(res.data.msg==\"用户未登录或Token验证失败\"){\n\t\t\t\t\t\t\t\tthat.noLogin = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tgetMetaList(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar data = {\n\t\t\t\t\t\"type\":\"category\"\n\t\t\t\t}\n\t\t\t\tthat.$Net.request({\n\t\t\t\t\turl: that.$API.getMetasList(),\n\t\t\t\t\tdata:{\n\t\t\t\t\t\t\"searchParams\":JSON.stringify(that.$API.removeObjectEmptyKey(data)),\n\t\t\t\t\t\t\"limit\":15,\n\t\t\t\t\t\t\"page\":1,\n\t\t\t\t\t},\n\t\t\t\t\theader:{\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\n\t\t\t\t\t},\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tif(res.data.code==1){\n\t\t\t\t\t\t\tvar list = res.data.data;\n\t\t\t\t\t\t\tif(list.length>0){\n\t\t\t\t\t\t\t\tvar meta = [{\n\t\t\t\t\t\t\t\t\tmid:0,\n\t\t\t\t\t\t\t\t\tname:\"推荐\",\n\t\t\t\t\t\t\t\t\tparent:0\n\t\t\t\t\t\t\t\t}];\n\t\t\t\t\t\t\t\tthat.metaList = meta.concat(list);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthat.metaList = [];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlocalStorage.setItem('metaList',JSON.stringify(that.metaList));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar timer = setTimeout(function() {\n\t\t\t\t\t\t\tthat.isLoading=1;\n\t\t\t\t\t\t\tclearTimeout('timer')\n\t\t\t\t\t\t}, 300)\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\tvar timer = setTimeout(function() {\n\t\t\t\t\t\t\tthat.isLoading=1;\n\t\t\t\t\t\t\tclearTimeout('timer')\n\t\t\t\t\t\t}, 300)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetTopPic(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar data = {\n\t\t\t\t\t\"isrecommend\":\"1\"\n\t\t\t\t}\n\t\t\t\tthat.$Net.request({\n\t\t\t\t\turl: that.$API.getMetasList(),\n\t\t\t\t\tdata:{\n\t\t\t\t\t\t\"searchParams\":JSON.stringify(that.$API.removeObjectEmptyKey(data)),\n\t\t\t\t\t\t\"limit\":4,\n\t\t\t\t\t\t\"page\":1,\n\t\t\t\t\t},\n\t\t\t\t\theader:{\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\n\t\t\t\t\t},\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tif(res.data.code==1){\n\t\t\t\t\t\t\tvar list = res.data.data;\n\t\t\t\t\t\t\tif(list.length>0){\n\t\t\t\t\t\t\t\tthat.Topic = list;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthat.Topic = [];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlocalStorage.setItem('Topic',JSON.stringify(that.Topic));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar timer = setTimeout(function() {\n\t\t\t\t\t\t\tthat.isLoading=1;\n\t\t\t\t\t\t\tclearTimeout('timer')\n\t\t\t\t\t\t}, 300)\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\tvar timer = setTimeout(function() {\n\t\t\t\t\t\t\tthat.isLoading=1;\n\t\t\t\t\t\t\tclearTimeout('timer')\n\t\t\t\t\t\t}, 300)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetTopContents(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar data = {\n\t\t\t\t\t\"type\":\"post\",\n\t\t\t\t\t\"istop\":1,\n\t\t\t\t}\n\t\t\t\tvar token = \"\";\n\t\t\t\tif(localStorage.getItem('userinfo')){\n\t\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\n\t\t\t\t\ttoken=userInfo.token;\n\t\t\t\t}\n\t\t\t\tthat.$Net.request({\n\t\t\t\t\turl: that.$API.getContentsList(),\n\t\t\t\t\tdata:{\n\t\t\t\t\t\t\"searchParams\":JSON.stringify(that.$API.removeObjectEmptyKey(data)),\n\t\t\t\t\t\t\"limit\":5,\n\t\t\t\t\t\t\"page\":1,\n\t\t\t\t\t\t\"order\":\"modified\",\n\t\t\t\t\t\t\"token\":token\n\t\t\t\t\t},\n\t\t\t\t\theader:{\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\n\t\t\t\t\t},\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tif(res.data.code==1){\n\t\t\t\t\t\t\tvar list = res.data.data;\n\t\t\t\t\t\t\tif(list.length>0){\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tvar contentsList = [];\n\t\t\t\t\t\t\t\t//将自定义字段获取并添加到数据\n\t\t\t\t\t\t\t\tvar curFields = that.$API.GetFields();\n\t\t\t\t\t\t\t\tfor(var i in list){\n\t\t\t\t\t\t\t\t\tvar fields = list[i].fields;\n\t\t\t\t\t\t\t\t\tif(fields.length>0){\n\t\t\t\t\t\t\t\t\t\tfor(var j in fields){\n\t\t\t\t\t\t\t\t\t\t\tif(curFields.indexOf(fields[j].name)!=-1){\n\t\t\t\t\t\t\t\t\t\t\t\tlist[i][fields[j].name]=fields[j].strValue;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcontentsList.push(list[i]);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tthat.topContents = contentsList;\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthat.topContents = [];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlocalStorage.setItem('topContents',JSON.stringify(that.topContents));\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetContentsList(isPage){\n\t\t\t\tvar that = this;\n\t\t\t\tvar data = {\n\t\t\t\t\t\"type\":\"post\",\n\t\t\t\t\t\"istop\":0,\n\t\t\t\t}\n\t\t\t\tvar token = \"\";\n\t\t\t\tif(localStorage.getItem('userinfo')){\n\t\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\n\t\t\t\t\ttoken=userInfo.token;\n\t\t\t\t}\n\t\t\t\tvar page = that.page;\n\t\t\t\tif(isPage){\n\t\t\t\t\tpage++;\n\t\t\t\t}\n\t\t\t\tthat.$Net.request({\n\t\t\t\t\turl: that.$API.getContentsList(),\n\t\t\t\t\tdata:{\n\t\t\t\t\t\t\"searchParams\":JSON.stringify(that.$API.removeObjectEmptyKey(data)),\n\t\t\t\t\t\t\"limit\":5,\n\t\t\t\t\t\t\"page\":page,\n\t\t\t\t\t\t\"order\":\"created\",\n\t\t\t\t\t\t\"token\":token\n\t\t\t\t\t},\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tthat.isLoad=0;\n\t\t\t\t\t\tthat.moreText=\"加载更多\";\n\t\t\t\t\t\tif(!isPage){\n\t\t\t\t\t\t\tthat.dataLoad = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(res.data.code==1){\n\t\t\t\t\t\t\tvar list = res.data.data;\n\t\t\t\t\t\t\tif(list.length>0){\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tvar num = res.data.data.length;\n\t\t\t\t\t\t\t\tvar rand = Math.floor(Math.random()*num);\n\t\t\t\t\t\t\t\tvar pushAdsInfo = null;\n\t\t\t\t\t\t\t\t// #ifdef APP-PLUS || H5\n\t\t\t\t\t\t\t\tif(localStorage.getItem('pushAds')){\n\t\t\t\t\t\t\t\t\tvar pushAds = JSON.parse(localStorage.getItem('pushAds'));\n\t\t\t\t\t\t\t\t\tvar adsNum = pushAds.length;\n\t\t\t\t\t\t\t\t\tif(adsNum>0){\n\t\t\t\t\t\t\t\t\t\tvar adsRand = Math.floor(Math.random()*adsNum);\n\t\t\t\t\t\t\t\t\t\tpushAdsInfo = that.pushAds[adsRand];\n\t\t\t\t\t\t\t\t\t\tpushAdsInfo.isAds = 1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// #endif\n\t\t\t\t\t\t\t\tvar contentsList = [];\n\t\t\t\t\t\t\t\t//将自定义字段获取并添加到数据\n\t\t\t\t\t\t\t\tvar curFields = that.$API.GetFields();\n\t\t\t\t\t\t\t\tfor(var i in list){\n\t\t\t\t\t\t\t\t\tvar fields = list[i].fields;\n\t\t\t\t\t\t\t\t\tif(fields.length>0){\n\t\t\t\t\t\t\t\t\t\tfor(var j in fields){\n\t\t\t\t\t\t\t\t\t\t\tif(curFields.indexOf(fields[j].name)!=-1){\n\t\t\t\t\t\t\t\t\t\t\t\tlist[i][fields[j].name]=fields[j].strValue;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcontentsList.push(list[i]);\n\t\t\t\t\t\t\t\t\t// #ifdef APP-PLUS || H5\n\t\t\t\t\t\t\t\t\tvar isAds = Math.round(Math.random());\n\t\t\t\t\t\t\t\t\tif(isAds==1){\n\t\t\t\t\t\t\t\t\t\tif(i==rand&&pushAdsInfo!=null){\n\t\t\t\t\t\t\t\t\t\t\tcontentsList.push(pushAdsInfo);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t// #endif\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar num = contentsList.length;\n\t\t\t\t\t\t\t\tif(isPage){\n\t\t\t\t\t\t\t\t\tthat.page++;\n\t\t\t\t\t\t\t\t\tthat.contentsList = that.contentsList.concat(contentsList);\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tthat.contentsList = contentsList;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlocalStorage.setItem('contentsList_0',JSON.stringify(that.contentsList));\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthat.moreText=\"没有更多文章了\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tthat.moreText=\"加载更多\";\n\t\t\t\t\t\tthat.isLoad=0;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetMetaContents(isPage,meta){\n\t\t\t\tvar that = this;\n\t\t\t\tvar data = {\n\t\t\t\t\t\"mid\":meta,\n\t\t\t\t\t\"type\":\"post\"\n\t\t\t\t}\n\t\t\t\tvar token = \"\";\n\t\t\t\tif(localStorage.getItem('userinfo')){\n\t\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\n\t\t\t\t\ttoken=userInfo.token;\n\t\t\t\t}\n\t\t\t\tvar page = that.page;\n\t\t\t\tif(isPage){\n\t\t\t\t\tpage++;\n\t\t\t\t}\n\t\t\t\tthat.$Net.request({\n\t\t\t\t\turl: that.$API.getMetaContents(),\n\t\t\t\t\tdata:{\n\t\t\t\t\t\t\"searchParams\":JSON.stringify(that.$API.removeObjectEmptyKey(data)),\n\t\t\t\t\t\t\"limit\":5,\n\t\t\t\t\t\t\"page\":page,\n\t\t\t\t\t\t\"order\":\"created\",\n\t\t\t\t\t\t\"token\":token\n\t\t\t\t\t},\n\t\t\t\t\theader:{\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\n\t\t\t\t\t},\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tif(!isPage){\n\t\t\t\t\t\t\tthat.dataLoad = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat.isLoad=0;\n\t\t\t\t\t\t\n\t\t\t\t\t\tthat.moreText=\"加载更多\";\n\t\t\t\t\t\tif(res.data.code==1){\n\t\t\t\t\t\t\tvar list = res.data.data;\n\t\t\t\t\t\t\tif(list.length>0){\n\t\t\t\t\t\t\t\tvar contentsList = [];\n\t\t\t\t\t\t\t\t//将自定义字段获取并添加到数据\n\t\t\t\t\t\t\t\tvar curFields = that.$API.GetFields();\n\t\t\t\t\t\t\t\tfor(var i in list){\n\t\t\t\t\t\t\t\t\tvar fields = list[i].fields;\n\t\t\t\t\t\t\t\t\tif(fields.length>0){\n\t\t\t\t\t\t\t\t\t\tfor(var j in fields){\n\t\t\t\t\t\t\t\t\t\t\tif(curFields.indexOf(fields[j].name)!=-1){\n\t\t\t\t\t\t\t\t\t\t\t\tlist[i][fields[j].name]=fields[j].strValue;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcontentsList.push(list[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(isPage){\n\t\t\t\t\t\t\t\t\tthat.page++;\n\t\t\t\t\t\t\t\t\tthat.contentsList = that.contentsList.concat(contentsList);\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tthat.contentsList = contentsList;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlocalStorage.setItem('contentsList_'+meta,JSON.stringify(that.contentsList));\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthat.moreText=\"没有更多文章了\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tthat.moreText=\"加载更多\";\n\t\t\t\t\t\tthat.isLoad=0;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tuserStatus() {\n\t\t\t\tvar that = this;\n\t\t\t\tthat.$Net.request({\n\t\t\t\t\t\n\t\t\t\t\turl: that.$API.userStatus(),\n\t\t\t\t\tdata:{\n\t\t\t\t\t\t\"token\":that.token\n\t\t\t\t\t},\n\t\t\t\t\theader:{\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\n\t\t\t\t\t},\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tif(res.data.code==0){\n\t\t\t\t\t\t\tlocalStorage.removeItem('userinfo');\n\t\t\t\t\t\t\tlocalStorage.removeItem('token');\n\t\t\t\t\t\t\tthat.token = \"\";\n\t\t\t\t\t\t\tthat.userinfo = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"网络开小差了哦\",\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tunreadNum() {\n\t\t\t\tvar that = this;\n\t\t\t\tif(localStorage.getItem('noticeSum')){\r\n\t\t\t\t\tthat.noticeSum = Number(localStorage.getItem('noticeSum'));\r\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\ttoForeverblog(){\n\t\t\t\tvar that = this;\n\t\t\t\t\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/contents/foreverblog'\n\t\t\t\t});\n\t\t\t\t\n\t\t\t},\n\t\t\ttoComments(){\n\t\t\t\tvar that = this;\n\t\t\t\t\n\t\t\t\tuni.navigateTo({\n\t\t\t\t    url: '/pages/contents/comments'\n\t\t\t\t});\n\t\t\t},\n\t\t\ttoSearch(){\n\t\t\t\tvar that = this;\n\t\t\t\tif(that.noLogin){\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t    url: '/pages/user/login'\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tuni.navigateTo({\n\t\t\t\t    url: '/pages/contents/search'\n\t\t\t\t});\n\t\t\t},\n\t\t\ttoUsers(){\n\t\t\t\tvar that = this;\n\t\t\t\t\n\t\t\t\tuni.navigateTo({\n\t\t\t\t    url: '/pages/user/userlist'\n\t\t\t\t});\n\t\t\t},\n\t\t\ttoCategoryContents(title,id){\n\t\t\t\tvar that = this;\n\t\t\t\tvar type=\"meta\";\n\t\t\t\tuni.navigateTo({\n\t\t\t\t    url: '/pages/contents/contentlist?title='+title+\"&type=\"+type+\"&id=\"+id\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\ttoAllContents(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar type=\"all\";\n\t\t\t\tvar title=\"全部文章\";\n\t\t\t\tuni.navigateTo({\n\t\t\t\t    url: '/pages/contents/contentlist?title='+title+\"&type=\"+type+\"&id=0\"\n\t\t\t\t});\n\t\t\t},\n\t\t\ttoInfo(data){\n\t\t\t\tvar that = this;\n\t\t\t\t\n\t\t\t\tuni.navigateTo({\n\t\t\t\t    url: '/pages/contents/info?cid='+data.cid+\"&title=\"+data.title\n\t\t\t\t});\n\t\t\t},\n\t\t\tsubText(text,num){\n\t\t\t\tif(text.length < null){\n\t\t\t\t\treturn text.substring(0,num)+\"……\"\n\t\t\t\t}else{\n\t\t\t\t\treturn text;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\ttoShop(){\n\t\t\t\tvar that = this;\n\t\t\t\tuni.navigateTo({\n\t\t\t\t    url: '/pages/contents/shop'\n\t\t\t\t});\n\t\t\t},\n\t\t\tformatDate(datetime) {\n\t\t\t\tvar datetime = new Date(parseInt(datetime * 1000));\n\t\t\t\tvar year = datetime.getFullYear(),\n\t\t\t\t\tmonth = (\"0\" + (datetime.getMonth() + 1)).slice(-2),\n\t\t\t\t\tdate = (\"0\" + datetime.getDate()).slice(-2),\n\t\t\t\t\thour = (\"0\" + datetime.getHours()).slice(-2),\n\t\t\t\t\tminute = (\"0\" + datetime.getMinutes()).slice(-2);\n\t\t\t\tvar result = year + \"-\" + month + \"-\" + date + \" \" + hour + \":\" + minute;\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\ttoGroup(){\n\t\t\t\tvar url = that.$API.GetGroupUrl();\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\tplus.runtime.openURL(url) \n\t\t\t\t// #endif\n\t\t\t\t// #ifdef H5\n\t\t\t\twindow.open(url)\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\tformatNumber(num) {\n\t\t\t    return num >= 1e3 && num < 1e4 ? (num / 1e3).toFixed(1) + 'k' : num >= 1e4 ? (num / 1e4).toFixed(1) + 'w' : num\n\t\t\t},\n\t\t\t\n\t\t\ttoImagetoday(){\n\t\t\t\tvar that = this;\n\t\t\t\t\n\t\t\t\tuni.navigateTo({\n\t\t\t\t    url: '/pages/contents/imagetoday'\n\t\t\t\t});\n\t\t\t},\n\t\t\ttoTopContents(title,id){\n\t\t\t\tvar that = this;\n\t\t\t\tvar type=\"meta\";\n\t\t\t\tuni.navigateTo({\n\t\t\t\t    url: '/pages/contents/contentlist?title='+title+\"&type=top&id=\"+id\n\t\t\t\t});\n\t\t\t},\n\t\t\tgoUserInfo(){\n\t\t\t\t \n\t\t\t\tvar that = this;\n\t\t\t\tif(!localStorage.getItem('token')||localStorage.getItem('token')==\"\"){\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t    url: '/pages/user/login'\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tuni.$emit('goUser', 0); \n\t\t\t},\n\t\t\ttoMetas(){\n\t\t\t\tvar that = this;\n\t\t\t\t\n\t\t\t\tuni.navigateTo({\n\t\t\t\t    url: '/pages/contents/metas'\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\tgoCategory(){\n\t\t\t\tvar that = this;\n\t\t\t\tuni.navigateTo({\n\t\t\t\t    url: '/pages/contents/allcategory'\n\t\t\t\t});\n\t\t\t},\n\t\t\tcloseUpdate(){\n\t\t\t\tvar that = this;\n\t\t\t\tthat.Update = 0;\n\t\t\t},\n\t\t\ttoRand(){\n\t\t\t\tvar that = this;\n\t\t\t\t\n\t\t\t\tuni.navigateTo({\n\t\t\t\t    url: '/pages/contents/randlist'\n\t\t\t\t});\n\t\t\t},\n\t\t\treplaceSpecialChar(text) {\n\t\t\t  text = text.replace(/&quot;/g, '\"');\n\t\t\t  text = text.replace(/&amp;/g, '&');\n\t\t\t  text = text.replace(/&lt;/g, '<');\n\t\t\t  text = text.replace(/&gt;/g, '>');\n\t\t\t  text = text.replace(/&nbsp;/g, ' ');\n\t\t\t  return text;\n\t\t\t},\n\t\t\ttoLink(text){\n\t\t\t\tvar that = this;\n\t\t\t\t\n\t\t\t\tif(!localStorage.getItem('token')||localStorage.getItem('token')==\"\"){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"请先登录哦\",\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: text\n\t\t\t\t});\n\t\t\t},\n\t\t\tscanLogin(text){\n\t\t\t\tvar that = this;\n\t\t\t\tvar token;\n\t\t\t\tif(!localStorage.getItem('token')){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"请先登录\",\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tuni.navigateTo({\n\t\t\t\t    url: '/pages/user/scan?text='+text\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\tgoLogin(){\n\t\t\t\tvar that = this;\n\t\t\t\tuni.navigateTo({\n\t\t\t\t    url: '/pages/user/login'\n\t\t\t\t});\n\t\t\t},\n\t\t},\n\t\t\n\t\t// #ifdef APP-PLUS\n\t\tcomponents: {\n\t\t\twaves\n\t\t},\n\t\t// #endif\n\t\t\n\t\t// #ifdef H5 || MP\n\t\tcomponents: {\n\t\t\twaves\n\t\t},\n\t\t// #endif\n\t}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":""}