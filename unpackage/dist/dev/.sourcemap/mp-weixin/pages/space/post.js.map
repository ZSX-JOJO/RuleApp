{"version":3,"sources":["uni-app:///main.js","webpack:///E:/APPpro/voss/规则之树/pages/space/post.vue?490d","webpack:///E:/APPpro/voss/规则之树/pages/space/post.vue?288b","webpack:///E:/APPpro/voss/规则之树/pages/space/post.vue?539c","webpack:///E:/APPpro/voss/规则之树/pages/space/post.vue?0c25","uni-app:///pages/space/post.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","StatusBar","CustomBar","NavBar","AppStyle","id","postType","type","text","toid","pic","picList","token","currencyName","forwardJson","contentJson","shopJson","isOwO","owo","owoList","OwOtype","onPullDownRefresh","onHide","localStorage","onShow","that","onLoad","methods","back","uni","delta","toOwO","setOwO","OwO","getForwardInfo","url","header","method","dataType","success","fail","replaceAll","getSpaceInfo","getInfo","addSpace","title","icon","duration","position","clearTimeout","setTimeout","editSpace","upload","count","sizeType","sourceType","filePath","name","formData","uploadVideo","compressed","picClose","list"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChCA;AAAA;AAAA;AAAA;AAAgnB,CAAgB,8mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;ACuKpoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA;AAAA,eAEA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MAEAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEAC;MACAC;MACAC;MAEAC;MACAC;MACAC;MACAC;IAKA;EACA;EACAC;IACA;EAEA;EACAC;IACAC;EACA;EACAC;IACA;IAKA;MACAC;IACA;EAEA;EACAC;IACA;IACAD;IAEAA;IAKA;MACAA;IACA;IACA;MACAA;MACAA;IACA;IAGA;MACAA;IACA;IACA;MACAA;MACA;QACAA;MACA;QACAA;MACA;IAEA;EAEA;EACAE;IACAC;MACAC;QACAC;MACA;IACA;IACAC;MACA;MACAN;MACA;QACAA;MACA;MACA;QACAA;MACA;MACA;QACAA;MACA;MACA;QACAA;MACA;IACA;IACAO;MACA;MACA;MACAP;MACAA;IACA;IACAQ;MACA;MACAR;IACA;IACAS;MACA;MACA;QACA;MACA;MACA;MACA;QACA;QACAtB;MACA;MACAZ;MACAyB;QACAU;QACAnC;QACAoC;UACA;QACA;QACAC;QACAC;QACAC;UACAd;UACA;YACAA;YACAA;UAEA;QACA;QACAe;UACAf;QACA;MACA;IAEA;IACAgB;MACA;IACA;IACAC;MACA;MACA;QACA;MACA;MACA;MACA;QACA;QACA9B;MACA;MACAZ;MACAyB;QACAU;QACAnC;QACAoC;UACA;QACA;QACAC;QACAC;QACAC;UACAd;UACA;YACAA;YACAA;YACA;YACAjB;YACAA;YACAiB;YACAA;YACA;cACAA;cACA;gBACA;kBACAA;gBACA;kBACAA;gBACA;cACA;YACA;YAEA;cACAA;YACA;YACA;cACAA;YACA;YACA;cACAA;YACA;UAEA;QACA;QACAe;UACAf;QACA;MACA;IAEA;IACAkB;MACA;MACA;QACA;QACA;MACA;MACA;MACA;QACA;QACA/B;MACA;MACAZ;MACAyB;QACAU;QACAnC;QACAoC;UACA;QACA;QACAC;QACAC;QACAC;UACAV;UACA;YACAJ;UAIA;QACA;QACAe;UACAX;QACA;MACA;IACA;IACAe;MACA;MACA;QACAf;UACAgB;UACAC;UACAC;UACAC;QACA;QAEA;UACAnB;YACAM;UACA;UACAc;QACA;QACA;MACA;MACA;QACA;UACAzC;QACA;MACA;MACA;QACAqB;UACAgB;UACAC;UACAC;UACAC;QACA;QACA;MACA;MACA;MACA;QACA;QACA;QACA;UACA;YACAtC;UACA;YACAA;UACA;QACA;QACAe;MACA;MACA;QACA;UACAI;YACAgB;YACAC;YACAC;YACAC;UACA;UACA;QACA;MACA;MACAxC;MACAA;MACA;QACAD;QACAC;QACAC;QACAC;QACAE;MACA;MACAiB;QACAgB;MACA;MACApB;QAEAU;QACAnC;QACAoC;UACA;QACA;QACAC;QACAC;QACAC;UACAW;YACArB;UACA;UACAA;YACAgB;YACAC;UACA;UACA;YACA;cACArB;YACA;UAEA;QACA;QACAe;UACAU;YACArB;UACA;UACAA;YACAgB;YACAC;UACA;UACAjB;QACA;MACA;IACA;IACAsB;MACA;MACA;QACAtB;UACAgB;UACAC;UACAC;UACAC;QACA;QAEA;UACAnB;YACAM;UACA;UACAc;QACA;QACA;MACA;MACA;QACA;UACAzC;QACA;MACA;MACA;QACAqB;UACAgB;UACAC;UACAC;UACAC;QACA;QACA;MACA;MACA;MACA;QACA;QACA;QACA;UACA;YACAtC;UACA;YACAA;UACA;QACA;QACAe;MACA;MACA;QACA;UACAI;YACAgB;YACAC;YACAC;YACAC;UACA;UACA;QACA;MACA;MACAxC;MACAA;MACA;QACAH;QACAE;QACAC;QACAC;QACAC;QACAE;MACA;MACAiB;QACAgB;MACA;MACApB;QAEAU;QACAnC;QACAoC;UACA;QACA;QACAC;QACAC;QACAC;UACAW;YACArB;UACA;UACAA;YACAgB;YACAC;UACA;UACA;YACA;cACArB;YACA;UAEA;QACA;QACAe;UACAU;YACArB;UACA;UACAA;YACAgB;YACAC;UACA;UACAjB;QACA;MACA;IACA;IACAuB;MACA;MACAvB;QACAwB;QAAA;QACAC;QACAC;QACAhB;UACAV;YACAgB;UACA;UACA;UACA;YACA;cACAV;cACAqB;cACAC;cACAC;gBACA;cACA;cACAnB;gBACA;gBACAc;gBACA;kBACAH;oBACArB;kBACA;gBACA;gBACA;gBACA;gBACAA;kBACAgB;kBACAC;gBACA;gBACA;kBACA;kBACArB;gBACA;cACA;cAAAe;gBACAU;kBACArB;gBACA;cACA;YAGA;UACA;QACA;MACA;IACA;IACA8B;MACA;MAEA9B;QACA0B;QACAK;QACArB;UACAV;YACAgB;UACA;UACA;UACA;YACAV;YACAqB;YACAC;YACAC;cACA;YACA;YACAnB;cACAW;gBACArB;cACA;cACA;cACA;cACAA;gBACAgB;gBACAC;cACA;cACA;gBACA;gBACArB;cACA;YACA;YAAAe;cACAX;gBACAgB;gBACAC;cACA;cACAI;gBACArB;cACA;YACA;UAGA;QACA;MACA;IACA;IACAgC;MACA;MACA;MACA;MACA;QACA;UACAC;QACA;MACA;MACArC;IACA;EACA;AACA;AAAA,2B","file":"pages/space/post.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/uni-stat/dist/uni-stat.es.js';\nimport Vue from 'vue'\nimport Page from './pages/space/post.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./post.vue?vue&type=template&id=a7c28e7c&\"\nvar renderjs\nimport script from \"./post.vue?vue&type=script&lang=js&\"\nexport * from \"./post.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/space/post.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=template&id=a7c28e7c&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.type == 0 ? _vm.picList.length : null\n  var g1 =\n    _vm.type == 1 && _vm.contentJson != null && _vm.contentJson.cid != 0\n      ? _vm.contentJson.images.length\n      : null\n  var m0 =\n    _vm.type == 5 && _vm.shopJson != null && _vm.shopJson.id != 0\n      ? parseInt(_vm.shopJson.price)\n      : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.pic = \"\"\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        m0: m0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"user\" :class=\"AppStyle\">\n\t\t<view class=\"header\" :style=\"[{height:CustomBar + 'px'}]\">\n\t\t\t<view class=\"cu-bar bg-white\" :style=\"{'height': CustomBar + 'px','padding-top':StatusBar + 'px'}\">\n\t\t\t\t<view class=\"action\" @tap=\"back\">\n\t\t\t\t\t<text class=\"cuIcon-back\"></text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"content text-bold\" :style=\"[{top:StatusBar + 'px'}]\">\r\n\t\t\t\t\t<block v-if=\"postType=='add'\">\r\n\t\t\t\t\t\t<block v-if=\"type==0\">\r\n\t\t\t\t\t\t\t发布新动态\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<block v-if=\"type==1\">\r\n\t\t\t\t\t\t\t转发文章\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<block v-if=\"type==2\">\r\n\t\t\t\t\t\t\t转发动态\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<block v-if=\"type==4\">\r\n\t\t\t\t\t\t\t发布视频动态\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<block v-if=\"type==5\">\r\n\t\t\t\t\t\t\t转发商品\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</block>\n\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t编辑动态\r\n\t\t\t\t\t</block>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<!--  #ifdef H5 || APP-PLUS -->\r\n\t\t\t\t\t<block v-if=\"postType=='add'\">\n\t\t\t\t\t\t<button class=\"cu-btn round bg-gradual-orange\" @tap=\"addSpace()\">发布</button>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t<button class=\"cu-btn round bg-gradual-orange\" @tap=\"editSpace()\">保存</button>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<!--  #endif -->\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view :style=\"[{padding:NavBar + 'px 10px 0px 10px'}]\"></view>\n\t\t<form>\n\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t<textarea maxlength=\"-1\" v-model=\"text\" placeholder=\"输入您现在的想法\"></textarea>\n\t\t\t</view>\n\t\t\t<!--  #ifdef H5 || APP-PLUS -->\n\t\t\t<view class=\"comments-owo space-owo\">\n\t\t\t\t<text class=\"cuIcon-emoji\" @tap=\"OwO\"></text>\n\t\t\t\t<!--表情-->\n\t\t\t\t<view class=\"owo\" v-if=\"isOwO\">\n\t\t\t\t\t<scroll-view class=\"owo-list\" scroll-y>\n\t\t\t\t\t\t<view class=\"owo-main\">\n\t\t\t\t\t\t\t<view class=\"owo-lit-box\" v-for=\"(item,index)  in owoList\" @tap=\"setOwO(item)\" :key=\"index\">\n\t\t\t\t\t\t\t\t<image :src=\"'/'+item.icon\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t</scroll-view>\n\t\t\t\t\t<view class=\"owo-type\">\n\t\t\t\t\t\t<view class=\"owo-box\" @tap=\"toOwO('paopao')\" :class=\"OwOtype=='paopao'?'cur':''\">\n\t\t\t\t\t\t\t泡泡\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"owo-box\" @tap=\"toOwO('adai')\" :class=\"OwOtype=='adai'?'cur':''\">\n\t\t\t\t\t\t\t阿呆\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"owo-box\" @tap=\"toOwO('alu')\" :class=\"OwOtype=='alu'?'cur':''\">\n\t\t\t\t\t\t\t阿鲁\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"owo-box\" @tap=\"toOwO('quyinniang')\" :class=\"OwOtype=='quyinniang'?'cur':''\">\n\t\t\t\t\t\t\t蛆音娘\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!--  #endif -->\n\t\t\t<block v-if=\"type==0\">\n\t\t\t\t<view class=\"grid flex-sub col-3 grid-square space-pic\">\n\t\t\t\t\t<view class=\"bg-img\" :style=\"'background-image:url('+item+');'\"\n\t\t\t\t\t v-for=\"(item,index) in picList\" :key=\"index\">\n\t\t\t\t\t <text class=\"cuIcon-close\" @tap=\"picClose(item)\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"space-upload\" v-if=\"picList.length < 9\" @tap=\"upload\">\n\t\t\t\t\t\t<text class=\"cuIcon-add\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</block>\n\t\t\t<block v-if=\"type==4\">\n\t\t\t\t<view class=\"grid flex-sub col-3 grid-square space-pic\">\n\t\t\t\t\t<view class=\"space-upload\" v-if=\"pic == ''\" @tap=\"uploadVideo\">\n\t\t\t\t\t\t<text class=\"cuIcon-add\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"space-upload \" v-if=\"pic != ''\">\n\t\t\t\t\t\t<text class=\"cuIcon-close bg-black\" @tap=\"pic=''\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</block>\n\t\t\t<block v-if=\"type==2\">\n\t\t\t\t<view class=\"grid flex-sub padding-sm bg-white\" v-if=\"forwardJson!=null\">\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"user-space-info\">\n\t\t\t\t\t\t<view class=\"user-space-text\">\n\t\t\t\t\t\t\t<text class=\"text-blue\">@{{forwardJson.userJson.name}}：</text>{{forwardJson.text}}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</block>\r\n\t\t\t<block  v-if=\"type==1\">\r\n\t\t\t\t<view class=\"grid flex-sub padding-lr margin-top-sm\" v-if=\"contentJson!=null&&contentJson.cid!=0\">\r\n\t\t\t\t\t<view class=\"user-post-info\">\r\n\t\t\t\t\t\t<view class=\"user-post-pic\" v-if=\"contentJson.images.length>0\">\r\n\t\t\t\t\t\t\t<image :src=\"contentJson.images[0]\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"user-post-text\">\r\n\t\t\t\t\t\t\t<view class=\"user-post-title\">\r\n\t\t\t\t\t\t\t\t{{contentJson.title}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"user-post-intro\">\r\n\t\t\t\t\t\t\t\t{{contentJson.text}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t\t<block  v-if=\"type==5\">\r\n\t\t\t\t<view class=\"grid flex-sub padding-lr\" v-if=\"shopJson!=null&&shopJson.id!=0\">\r\n\t\t\t\t\t<view class=\"user-post-info\">\r\n\t\t\t\t\t\t<view class=\"user-post-pic\">\r\n\t\t\t\t\t\t\t<image :src=\"shopJson.imgurl\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"user-post-text\">\r\n\t\t\t\t\t\t\t<view class=\"user-post-title\">\r\n\t\t\t\t\t\t\t\t{{shopJson.title}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"user-post-intro\">\r\n\t\t\t\t\t\t\t\t<text class=\"text-red text-lg text-bold\">{{parseInt(shopJson.price)}} {{currencyName}}</text>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"user-post-intro\">\r\n\t\t\t\t\t\t\t\t<text class=\"text-gray text-sm\">剩余数量：{{shopJson.num}}</text>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\n\t\t\t<!--  #ifdef MP -->\n\t\t\t<view class=\"all-btn\">\n\t\t\t\t<view class=\"user-btn flex flex-direction\">\r\n\t\t\t\t\t<block v-if=\"postType=='add'\">\t\t\r\n\t\t\t\t\t\t<button class=\"cu-btn bg-gradual-orange margin-tb-sm lg\" @tap=\"addSpace()\">发布</button>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t<button class=\"cu-btn bg-gradual-orange margin-tb-sm lg\" @tap=\"editSpace()\">保存</button>\r\n\t\t\t\t\t</block>\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!--  #endif -->\n\t\t\t\n\t\t</form>\n\t</view>\n</template>\n\n<script>\n\timport { localStorage } from '../../js_sdk/mp-storage/mp-storage/index.js'\n\t// #ifdef APP-PLUS\n\timport owo from '../../static/app-plus/owo/OwO.js'\n\t// #endif\n\t// #ifdef H5\n\timport owo from '../../static/h5/owo/OwO.js'\n\t// #endif\n\t// #ifdef MP\n\tvar owo = [];\n\t// #endif\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tStatusBar: this.StatusBar,\n\t\t\t\tCustomBar: this.CustomBar,\n\t\t\t\tNavBar:this.StatusBar +  this.CustomBar,\n\t\t\t\tAppStyle:this.$store.state.AppStyle,\n\t\t\t\t\r\n\t\t\t\tid:0,\r\n\t\t\t\tpostType:\"add\",\n\t\t\t\ttype:0,\n\t\t\t\ttext:\"\",\n\t\t\t\ttoid:0,\n\t\t\t\tpic:\"\",\n\t\t\t\tpicList:[],\n\t\t\t\ttoken:\"\",\n\t\t\t\tcurrencyName:\"\",\r\n\t\t\t\t\n\t\t\t\tforwardJson:null,\r\n\t\t\t\tcontentJson:null,\r\n\t\t\t\tshopJson:null,\n\t\t\t\t\n\t\t\t\tisOwO:false,\n\t\t\t\towo:owo,\n\t\t\t\towoList:[],\n\t\t\t\tOwOtype:\"paopao\",\n\t\t\t\t\r\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tonPullDownRefresh(){\n\t\t\tvar that = this;\n\t\t\t\n\t\t},\n\t\tonHide() {\n\t\t\tlocalStorage.removeItem('getuid')\n\t\t},\n\t\tonShow(){\n\t\t\tvar that = this;\n\t\t\t// #ifdef APP-PLUS\n\t\t\t\n\t\t\tplus.navigator.setStatusBarStyle(\"dark\")\n\t\t\t// #endif\n\t\t\tif(localStorage.getItem('token')){\n\t\t\t\tthat.token = localStorage.getItem('token');\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tonLoad(res) {\n\t\t\tvar that = this;\r\n\t\t\tthat.currencyName = that.$API.getCurrencyName();\n\t\t\t// #ifdef APP-PLUS || MP\n\t\t\tthat.NavBar = this.CustomBar;\n\t\t\t// #endif\n\t\t\t// #ifdef APP-PLUS || H5\n\t\t\tthat.owoList = that.owo.data.paopao.container;\n\t\t\t// #endif\r\n\t\t\tif(res.type){\r\n\t\t\t\tthat.type = res.type;\r\n\t\t\t}\r\n\t\t\tif(res.toid){\r\n\t\t\t\tthat.toid = res.toid;\r\n\t\t\t\tthat.getInfo()\r\n\t\t\t}\r\n\t\t\t\n\t\t\t\r\n\t\t\tif(res.postType){\r\n\t\t\t\tthat.postType = res.postType;\r\n\t\t\t}\n\t\t\tif(res.id){\n\t\t\t\tthat.id = res.id;\r\n\t\t\t\tif(that.postType=='add'){\r\n\t\t\t\t\tthat.getForwardInfo(that.id);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.getSpaceInfo();\r\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\r\n\t\t\t\n\t\t},\n\t\tmethods: {\n\t\t\tback(){\n\t\t\t\tuni.navigateBack({\n\t\t\t\t\tdelta: 1\n\t\t\t\t});\n\t\t\t},\n\t\t\ttoOwO(text){\n\t\t\t\tvar that = this;\n\t\t\t\tthat.OwOtype = text;\n\t\t\t\tif(text==\"paopao\"){\n\t\t\t\t\tthat.owoList = that.owo.data.paopao.container;\n\t\t\t\t}\n\t\t\t\tif(text==\"adai\"){\n\t\t\t\t\tthat.owoList = that.owo.data.adai.container;\n\t\t\t\t}\n\t\t\t\tif(text==\"alu\"){\n\t\t\t\t\tthat.owoList = that.owo.data.alu.container;\n\t\t\t\t}\n\t\t\t\tif(text==\"quyinniang\"){\n\t\t\t\t\tthat.owoList = that.owo.data.quyinniang.container;\n\t\t\t\t}\n\t\t\t},\n\t\t\tsetOwO(data){\n\t\t\t\tvar that = this;\n\t\t\t\tvar text = data.data;\n\t\t\t\tthat.text+=text;\n\t\t\t\tthat.isOwO = false;\n\t\t\t},\n\t\t\tOwO(){\n\t\t\t\tvar that = this;\n\t\t\t\tthat.isOwO = !that.isOwO;\n\t\t\t},\n\t\t\tgetForwardInfo(toid){\n\t\t\t\tvar that = this;\n\t\t\t\tvar data = {\n\t\t\t\t\t\"id\":toid\n\t\t\t\t}\r\n\t\t\t\tvar token = \"\";\r\n\t\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\t\ttoken=userInfo.token;\r\n\t\t\t\t}\r\n\t\t\t\tdata.token = token;\n\t\t\t\tthat.$Net.request({\n\t\t\t\t\turl: that.$API.spaceInfo(),\n\t\t\t\t\tdata:data,\n\t\t\t\t\theader:{\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\n\t\t\t\t\t},\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tthat.isLoading=1;\n\t\t\t\t\t\tif(res.data.code==1){\n\t\t\t\t\t\t\tthat.forwardJson = res.data.data;\n\t\t\t\t\t\t\tthat.toid = res.data.data.id;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\tthat.isLoading=1;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t},\r\n\t\t\treplaceAll(string, search, replace) {\r\n\t\t\t  return string.split(search).join(replace);\r\n\t\t\t},\r\n\t\t\tgetSpaceInfo(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\t\"id\":that.id\r\n\t\t\t\t}\r\n\t\t\t\tvar token = \"\";\r\n\t\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\t\ttoken=userInfo.token;\r\n\t\t\t\t}\r\n\t\t\t\tdata.token = token;\r\n\t\t\t\tthat.$Net.request({\r\n\t\t\t\t\turl: that.$API.spaceInfo(),\r\n\t\t\t\t\tdata:data,\r\n\t\t\t\t\theader:{\r\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tthat.isLoading=1;\r\n\t\t\t\t\t\tif(res.data.code==1){\r\n\t\t\t\t\t\t\tthat.id = res.data.data.id;\r\n\t\t\t\t\t\t\tthat.type = res.data.data.type;\r\n\t\t\t\t\t\t\tvar text = res.data.data.text;\r\n\t\t\t\t\t\t\ttext = that.replaceAll(text,\"/r/n\",\"\\n\");\r\n\t\t\t\t\t\t\ttext = that.replaceAll(text,\"||rn||\",\"\\n\");\r\n\t\t\t\t\t\t\tthat.text = text;\r\n\t\t\t\t\t\t\tthat.toid = res.data.data.toid;\r\n\t\t\t\t\t\t\tif(res.data.data.pic){\r\n\t\t\t\t\t\t\t\tthat.pic = res.data.data.pic;\r\n\t\t\t\t\t\t\t\tif(that.type==0){\r\n\t\t\t\t\t\t\t\t\tif(that.pic.indexOf(\"||\")!=-1){\r\n\t\t\t\t\t\t\t\t\t\tthat.picList = that.pic.split(\"||\");\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tthat.picList = that.picList.push(that.pic);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(that.type==1){\r\n\t\t\t\t\t\t\t\tthat.contentJson = res.data.data.contentJson;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(that.type==5){\r\n\t\t\t\t\t\t\t\tthat.shopJson = res.data.data.shopJson;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(that.type==2){\r\n\t\t\t\t\t\t\t\tthat.getForwardInfo(that.toid);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tthat.isLoading=1;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tgetInfo(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\t\"key\":that.toid,\r\n\t\t\t\t\t\"isMd\":0,\r\n\t\t\t\t}\r\n\t\t\t\tvar token = \"\";\r\n\t\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\t\ttoken=userInfo.token;\r\n\t\t\t\t}\r\n\t\t\t\tdata.token = token;\r\n\t\t\t\tthat.$Net.request({\r\n\t\t\t\t\turl: that.$API.getContentsInfo(),\r\n\t\t\t\t\tdata:data,\r\n\t\t\t\t\theader:{\r\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\t\tif(res.data.title){\r\n\t\t\t\t\t\t\tthat.contentJson = res.data;\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t\taddSpace(){\n\t\t\t\tvar that = this;\n\t\t\t\tif(that.token==\"\"){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t    title:\"请先登录\",\n\t\t\t\t\t\ticon:'none',\n\t\t\t\t\t\tduration: 1000,\n\t\t\t\t\t\tposition:'bottom',\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tvar timer = setTimeout(function() {\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t    url: '/pages/user/login'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tclearTimeout('timer')\n\t\t\t\t\t}, 1000)\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tif(that.type==2){\n\t\t\t\t\tif (that.text == \"\") {\n\t\t\t\t\t\ttext = \"转发了动态\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (that.text == \"\") {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t    title:\"请输入动态内容\",\n\t\t\t\t\t\ticon:'none',\n\t\t\t\t\t\tduration: 1000,\n\t\t\t\t\t\tposition:'bottom',\n\t\t\t\t\t});\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tvar text  = that.text;\n\t\t\t\tif(that.type==0){\n\t\t\t\t\tvar picList = that.picList;\n\t\t\t\t\tvar pic = \"\";\n\t\t\t\t\tfor(var i in picList){\n\t\t\t\t\t\tif(i==0){\n\t\t\t\t\t\t\tpic += picList[i];\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tpic += \"||\"+picList[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthat.pic = pic;\n\t\t\t\t}\n\t\t\t\tif(that.type==4){\n\t\t\t\t\tif(that.pic==\"\"){\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t    title:\"请上传视频文件\",\n\t\t\t\t\t\t\ticon:'none',\n\t\t\t\t\t\t\tduration: 1000,\n\t\t\t\t\t\t\tposition:'bottom',\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\r\n\t\t\t\ttext = text.replace(/\\r\\n/g,\"||rn||\");\r\n\t\t\t\ttext = text.replace(/\\n/g,\"||rn||\");\n\t\t\t\tvar data = {\n\t\t\t\t\ttype:that.type,\n\t\t\t\t\ttext:text,\n\t\t\t\t\ttoid:that.toid,\n\t\t\t\t\tpic:that.pic,\n\t\t\t\t\ttoken:that.token\n\t\t\t\t}\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: \"加载中\"\n\t\t\t\t});\n\t\t\t\tthat.$Net.request({\n\t\t\t\t\t\n\t\t\t\t\turl: that.$API.addSpace(),\n\t\t\t\t\tdata:that.$API.removeObjectEmptyKey(data),\n\t\t\t\t\theader:{\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\n\t\t\t\t\t},\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t\tif(res.data.code==1){\n\t\t\t\t\t\t\tvar timer = setTimeout(function() {\n\t\t\t\t\t\t\t\tthat.back();\n\t\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"网络开小差了哦\",\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t\tuni.stopPullDownRefresh()\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\r\n\t\t\teditSpace(){\n\t\t\t\tvar that = this;\n\t\t\t\tif(that.token==\"\"){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t    title:\"请先登录\",\n\t\t\t\t\t\ticon:'none',\n\t\t\t\t\t\tduration: 1000,\n\t\t\t\t\t\tposition:'bottom',\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tvar timer = setTimeout(function() {\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t    url: '/pages/user/login'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tclearTimeout('timer')\n\t\t\t\t\t}, 1000)\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tif(that.type==2){\n\t\t\t\t\tif (that.text == \"\") {\n\t\t\t\t\t\ttext = \"转发了动态\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (that.text == \"\") {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t    title:\"请输入动态内容\",\n\t\t\t\t\t\ticon:'none',\n\t\t\t\t\t\tduration: 1000,\n\t\t\t\t\t\tposition:'bottom',\n\t\t\t\t\t});\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tvar text  = that.text;\n\t\t\t\tif(that.type==0){\n\t\t\t\t\tvar picList = that.picList;\n\t\t\t\t\tvar pic = \"\";\n\t\t\t\t\tfor(var i in picList){\n\t\t\t\t\t\tif(i==0){\n\t\t\t\t\t\t\tpic += picList[i];\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tpic += \"||\"+picList[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthat.pic = pic;\n\t\t\t\t}\n\t\t\t\tif(that.type==4){\n\t\t\t\t\tif(that.pic==\"\"){\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t    title:\"请上传视频文件\",\n\t\t\t\t\t\t\ticon:'none',\n\t\t\t\t\t\t\tduration: 1000,\n\t\t\t\t\t\t\tposition:'bottom',\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\r\n\t\t\t\ttext = text.replace(/\\r\\n/g,\"||rn||\");\r\n\t\t\t\ttext = text.replace(/\\n/g,\"||rn||\");\n\t\t\t\tvar data = {\r\n\t\t\t\t\tid:that.id,\n\t\t\t\t\ttype:that.type,\n\t\t\t\t\ttext:text,\n\t\t\t\t\ttoid:that.toid,\n\t\t\t\t\tpic:that.pic,\n\t\t\t\t\ttoken:that.token\n\t\t\t\t}\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: \"加载中\"\n\t\t\t\t});\n\t\t\t\tthat.$Net.request({\n\t\t\t\t\t\n\t\t\t\t\turl: that.$API.editSpace(),\n\t\t\t\t\tdata:that.$API.removeObjectEmptyKey(data),\n\t\t\t\t\theader:{\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\n\t\t\t\t\t},\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t\tif(res.data.code==1){\n\t\t\t\t\t\t\tvar timer = setTimeout(function() {\n\t\t\t\t\t\t\t\tthat.back();\n\t\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"网络开小差了哦\",\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t\tuni.stopPullDownRefresh()\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tupload(){\n\t\t\t\tlet that = this\t\t\t\t\n\t\t\t\tuni.chooseImage({\n\t\t\t\t\tcount: 9,  // 最多可以选择的图片张数，默认9\r\n\t\t\t\t\tsizeType:['original'],\n\t\t\t\t\tsourceType: ['album', 'camera'], \n\t\t\t\t    success: function (res) {\t\t\t\t\t\t\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: \"加载中\"\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconst tempFilePaths = res.tempFilePaths;\n\t\t\t\t\t\tfor(let i = 0;i < tempFilePaths.length; i++) {\n\t\t\t\t\t\t\tconst uploadTask = uni.uploadFile({\n\t\t\t\t\t\t\t  url : that.$API.upload(),\n\t\t\t\t\t\t\t  filePath: tempFilePaths[i],\n\t\t\t\t\t\t\t  name: 'file',\n\t\t\t\t\t\t\t  formData: {\n\t\t\t\t\t\t\t   'token': that.token\n\t\t\t\t\t\t\t  },\n\t\t\t\t\t\t\t  success: function (uploadFileRes) {\n\t\t\t\t\t\t\t\t  let count = 0;\n\t\t\t\t\t\t\t\t  count++;\n\t\t\t\t\t\t\t\t  if(count==tempFilePaths.length){\n\t\t\t\t\t\t\t\t\t  setTimeout(function () {\n\t\t\t\t\t\t\t\t\t  \tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t  }, 1000);\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\tvar data = JSON.parse(uploadFileRes.data);\n\t\t\t\t\t\t\t\t\t//var data = uploadFileRes.data;\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: data.msg,\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\tif(data.code==1){\n\t\t\t\t\t\t\t\t\t   var url = data.data.url;\n\t\t\t\t\t\t\t\t\t   that.picList.push(url);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},fail:function(){\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t   \n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tuploadVideo(){\n\t\t\t\tvar that = this;\n\t\t\t\t\n\t\t\t\tuni.chooseVideo({\n\t\t\t\t\tsourceType: ['camera', 'album'],\r\n\t\t\t\t\tcompressed:false,\n\t\t\t\t\tsuccess: (responent) => {\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: \"加载中\"\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet videoFile = responent.tempFilePath;\n\t\t\t\t\t\tconst uploadTask = uni.uploadFile({\n\t\t\t\t\t\t  url : that.$API.upload(),\n\t\t\t\t\t\t  filePath:videoFile,\n\t\t\t\t\t\t  name: 'file',\n\t\t\t\t\t\t  formData: {\n\t\t\t\t\t\t   'token': that.token\n\t\t\t\t\t\t  },\n\t\t\t\t\t\t  success: function (uploadFileRes) {\n\t\t\t\t\t\t\t  setTimeout(function () {\n\t\t\t\t\t\t\t  \tuni.hideLoading();\n\t\t\t\t\t\t\t  }, 1000);\n\t\t\t\t\t\t\t\tvar data = JSON.parse(uploadFileRes.data);\n\t\t\t\t\t\t\t\t//var data = uploadFileRes.data;\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: data.msg,\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tif(data.code==1){\n\t\t\t\t\t\t\t\t   var url = data.data.url;\n\t\t\t\t\t\t\t\t   that.pic = url;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},fail:function(){\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: \"网络异常，上传失败！\",\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t   \n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tpicClose(item){\n\t\t\t\tvar that = this;\n\t\t\t\tvar picList = that.picList;\n\t\t\t\tvar list = [];\n\t\t\t\tfor(var i in picList){\n\t\t\t\t\tif(picList[i]!=item){\n\t\t\t\t\t\tlist.push(picList[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthat.picList = list;\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":""}