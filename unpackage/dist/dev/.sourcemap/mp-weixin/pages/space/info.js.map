{"version":3,"sources":["uni-app:///main.js","webpack:///E:/APPpro/voss/规则之树/pages/space/info.vue?3134","webpack:///E:/APPpro/voss/规则之树/pages/space/info.vue?ee5f","webpack:///E:/APPpro/voss/规则之树/pages/space/info.vue?bcfb","webpack:///E:/APPpro/voss/规则之树/pages/space/info.vue?4435","uni-app:///pages/space/info.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","StatusBar","CustomBar","NavBar","AppStyle","replyType","id","token","spaceInfo","created","forward","likes","reply","text","toid","type","uid","modified","picList","replyList","forwardList","isLoad","isLoading","page","pageSize","moreText","dataLoad","currencyName","owo","owoList","infoType","group","onPullDownRefresh","that","uni","onReachBottom","onHide","localStorage","onShow","onLoad","methods","loadMore","back","delta","getSpaceInfo","url","header","method","dataType","success","fail","previewImage","urls","current","subText","replaceSpecialChar","formatDate","month","date","hour","minute","formatNumber","toInfo","goAds","num","i","content","string","isPage","list","title","icon","touid","setTimeout","console"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzFA;AAAA;AAAA;AAAA;AAAgnB,CAAgB,8mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACyRpoB;AAAA;AAQA;AAAA,eAEA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MAEAC;MACAC;MACAC;MAEAC;QACAC;QACAC;QACAJ;QACAK;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEAC;MAEAC;MACAC;MAEAC;MACAC;MACAf;IACA;EACA;EACAgB;IACA;IACA;MACAC;MACAA;IACA;IACA;MAEAC;IACA;EACA;EACAC;IACA;IACA;IACAF;EACA;EACAG;IACAC;EACA;EACAC;IACA;IAMA;MAEAL;IACA;IACA;MACAA;IACA;IACA;MACAA;MACAA;IACA;EAEA;EACAM;IACA;IACA;MAEA;MACAN;MACAA;IACA;IACAA;IAEAA;IAUA;MACAA;IACA;IACA;MACAA;MACAA;MACAA;IACA;EACA;EACAO;IACAC;MACA;MACAR;MACA;QACAA;QACA;UACAA;QACA;QACA;UACAA;QACA;MACA;IACA;IACAS;MACAR;QACAS;MACA;IACA;IACAC;MACA;MACA;MACA;QAEArC;MACA;MACA;QACA;QACA;MACA;MACA0B;QACAY;QACA7C;QACA8C;UACA;QACA;QACAC;QACAC;QACAC;UACAhB;UACA;YACAA;YACA;cACAA;YACA;cACAA;YACA;YACA;cACA;gBACAA;cACA;gBACAA;cACA;YACA;UACA;QACA;QACAiB;UACAjB;QACA;MACA;IAEA;IACAkB;MACA;MACAjB;QACAkB;QACAC;MACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IAEA;IACAC;MACA1C;MACAA;MACAA;MACAA;MACAA;MACA;IACA;IACA2C;MACA;MACA;QACAC;QACAC;QACAC;QACAC;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MAEA5B;QACAW;MACA;IACA;IACAkB;MACA;MACA;MACA;IAYA;EAAA,iFACAC;IACA;EACA,4EACAC;IACA;IACA;MACA;IACA;IACA;IACA;EACA,0EACApD;IACA;IACAA;IACAA;IACA;IACA;MAEA;QACAA;MAEA;IACA;IACAA;IACAA;IACAA;IACA;EACA,sFACAqD,SACA;IACA;IACA;MACAC;MACAA;IAEA;MACA;IACA;IACA;EACA,8EACAA;IACA;EACA,4EACAF;IACA;IACA;MACA;IACA;IACA;IACA;EACA,sFAEAA;IACA;IACA;MACA;IACA;IACA;IACA;IACA;EACA,oEACAA;IACA;IACA;MACA;IACA;IACA;IACA;IACA;EACA,8EACAA;IACA;IACA;MACA;IACA;IACA;IACA;IACA;IACA;EACA,wEACA3D;IACA4B;MACAW;IACA;EACA,wEACAvC;IACA;IACA4B;MACAW;IACA;EACA,kFACAuB;IACA;IACA;IACA;IACA;MACA;MACA7D;IACA;IACA;MACA;MACA;IACA;IACA;MACAgB;IACA;IACAU;MACAY;MACA7C;QACA;QACA;QACA;QACA;QACA;MACA;MACA+C;MACAC;MACAC;QACAhB;QACAA;QACA;UACAA;QACA;QACA;UACA;UACA;UACA;YACA;cACA;gBACA;gBACAoC;cACA;gBACAA;cACA;YAEA;YACA;cACA;gBACA;gBACAA;cACA;gBACAA;cACA;YAEA;UACA;UACAlD;UACA;YACA;cACAc;cACAA;YACA;cACAA;YACA;UAEA;YACAA;UACA;QACA;MACA;MACAiB;QAEAjB;QACAA;MACA;IACA;EACA,sFACAmC;IACA;IACA;IACA;IACA;MACA;MACA7D;IACA;IACA;MACA;MACA;IACA;IACA;MACAgB;IACA;IACAU;MACAY;MACA7C;QACA;QACA;QACA;QACA;QACA;MACA;MACA+C;MACAC;MACAC;QACAhB;QACAA;QACA;UACAA;QACA;QACA;UACA;UACA;UACA;YACA;cACA;gBACA;gBACAoC;cACA;gBACAA;cACA;YAEA;YACA;cACA;gBACA;gBACAA;cACA;gBACAA;cACA;YAEA;UACA;UACAjD;UACA;YACA;cACAa;cACAA;YACA;cACAA;YACA;UAEA;YACAA;UACA;QACA;MACA;MACAiB;QAEAjB;QACAA;MACA;IACA;EACA,sEACAlB;IACA;IACA;IACA;MACA;MACAR;IACA;MACA2B;QACAoC;QACAC;MACA;MACArC;QACAW;MACA;MACA;IACA;IACAZ;IACA;MACA1B;MACAiE;MACAzD;IACA;IACAmB;MACAoC;IACA;IACArC;MAEAY;MACA7C;MACA8C;QACA;MACA;MACAC;MACAC;MACAC;QACA;QACAwB;UACAvC;QACA;QACAA;UACAoC;UACAC;QACA;QACA;UACAtC;QACA;MAEA;MACAiB;QACAuB;UACAvC;QACA;QACAA;UACAoC;UACAC;QACA;MAEA;IACA;EACA,sEACAjE;IACA;IACA;IACA;MACA;MACAC;IACA;MACA2B;QACAoC;QACAC;MACA;MACArC;QACAW;MACA;MACA;IACA;IACA;MACAX;QACAoC;QACAC;MACA;MACA;IACA;MACAtC;IACA;IAEAA;IACA;MACA1B;MACAD;IACA;IACA4B;MACAoC;IACA;IACArC;MAEAY;MACA7C;MACA8C;QACA;MACA;MACAC;MACAC;MACAC;QACA;QACAwB;UACAvC;QACA;QACAA;UACAoC;UACAC;QACA;QACA;UACAtC;QACA;MAEA;MACAiB;QACAuB;UACAvC;QACA;QACAA;UACAoC;UACAC;QACA;MAEA;IACA;EACA,8EACAjE;IACA;IACA;IACA;MACA;MACAC;IACA;MACA2B;QACAoC;QACAC;MACA;MACArC;QACAW;MACA;MACA;IACA;IACA;MACA;QACAX;UACAoC;UACAC;QACA;QACA;MACA;QACAtC;MACA;MACAA;IACA;IACA;MACA;QACAC;UACAoC;UACAC;QACA;QACA;MACA;QACAtC;MACA;MACAA;IACA;IAGA;MACA1B;MACAD;IACA;IACA4B;MACAoC;IACA;IACArC;MAEAY;MACA7C;MACA8C;QACA;MACA;MACAC;MACAC;MACAC;QACA;QACAwB;UACAvC;QACA;QACAA;UACAoC;UACAC;QACA;QACA;UACA;YACAtC;UACA;UACA;YACAA;UACA;QACA;MAEA;MACAiB;QACAuB;UACAvC;QACA;QACAA;UACAoC;UACAC;QACA;MAEA;IACA;EACA,gFACAxD;IACA;IACAkB;IACA;MACAA;IACA;IACA;MACAA;IACA;IACAA;EACA,4EACA;IACA;IACAC;MACAW;IACA;EACA,oEACAoB;IACA;IACA;MACA;IACA;IACA;IACA;IACA;EACA,8EACAA;IACA;IACA;MACA;IACA;IACA;IACA;IACA;IACA;EACA,sFACAjE;IACA;IACA;IACA;IACA;IACA;MACAkC;QACAoC;QACAC;MACA;MACA;IACA;IACA;IACArC;MACAW;IACA;EACA,gFACAvC;IACA;IAEA4B;MACAW;IACA;EACA,oEACA7B;IACA;MACAkB;QACAoC;QACAC;MACA;MACA;IACA;IACArC;MACAW;IACA;EACA,kEACAvC;IACA;IACA4B;MACAW;IACA;EACA,0EACAvC;IACA;IACA;IAEA;MACA;MACAC;IACA;IACA;MACA;MACA;IACA;IACA2B;MACAoC;MACArB;QACA;UACAf;YACAoC;UACA;UAEArC;YACAY;YACA7C;YACA8C;cACA;YACA;YACAC;YACAC;YACAC;cACAwB;gBACAvC;cACA;cACA;gBACAA;kBACAoC;kBACAC;gBACA;cACA;gBACArC;kBACAoC;kBACAC;gBACA;cACA;YAGA;YACArB;cACAuB;gBACAvC;cACA;cACAA;gBACAoC;gBACAC;cACA;YACA;UACA;QACA;UACAG;QACA;MACA;IACA;EACA;AAEA;AAAA,2B","file":"pages/space/info.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/uni-stat/dist/uni-stat.es.js';\nimport Vue from 'vue'\nimport Page from './pages/space/info.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./info.vue?vue&type=template&id=ecca6460&\"\nvar renderjs\nimport script from \"./info.vue?vue&type=script&lang=js&\"\nexport * from \"./info.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/space/info.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./info.vue?vue&type=template&id=ecca6460&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.spaceInfo.userJson ? _vm.formatDate(_vm.spaceInfo.created) : null\n  var m1 = _vm.markHtml(_vm.spaceInfo.text)\n  var g0 = _vm.spaceInfo.type == 0 ? _vm.spaceInfo.picList.length : null\n  var g1 =\n    _vm.spaceInfo.type == 1 ? _vm.spaceInfo.contentJson.images.length : null\n  var g2 =\n    _vm.spaceInfo.type == 2 ? _vm.spaceInfo.forwardJson.picList.length : null\n  var m2 =\n    _vm.spaceInfo.type == 5 ? parseInt(_vm.spaceInfo.shopJson.price) : null\n  var m3 =\n    _vm.replyType == 0 && _vm.spaceInfo.forward > 0\n      ? _vm.formatNumber(_vm.spaceInfo.forward)\n      : null\n  var m4 =\n    _vm.spaceInfo.reply > 0 ? _vm.formatNumber(_vm.spaceInfo.reply) : null\n  var m5 =\n    _vm.spaceInfo.likes > 0 ? _vm.formatNumber(_vm.spaceInfo.likes) : null\n  var l0 =\n    _vm.infoType == 0\n      ? _vm.__map(_vm.replyList, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var m6 = _vm.markHtml(item.text)\n          var m7 = _vm.formatDate(item.created)\n          var m8 = _vm.formatNumber(item.forward) || \"\"\n          var m9 = _vm.formatNumber(item.reply) || \"\"\n          var m10 = _vm.formatNumber(item.likes) || \"\"\n          return {\n            $orig: $orig,\n            m6: m6,\n            m7: m7,\n            m8: m8,\n            m9: m9,\n            m10: m10,\n          }\n        })\n      : null\n  var g3 = _vm.infoType == 0 ? _vm.replyList.length : null\n  var g4 = _vm.infoType == 0 ? _vm.replyList.length : null\n  var l1 =\n    _vm.infoType == 1\n      ? _vm.__map(_vm.forwardList, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var m11 = _vm.markHtml(item.text)\n          var m12 = _vm.formatDate(item.created)\n          var m13 = _vm.formatNumber(item.forward) || \"\"\n          var m14 = _vm.formatNumber(item.reply) || \"\"\n          var m15 = _vm.formatNumber(item.likes) || \"\"\n          return {\n            $orig: $orig,\n            m11: m11,\n            m12: m12,\n            m13: m13,\n            m14: m14,\n            m15: m15,\n          }\n        })\n      : null\n  var g5 = _vm.infoType == 1 ? _vm.forwardList.length : null\n  var g6 = _vm.infoType == 1 ? _vm.forwardList.length : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        m2: m2,\n        m3: m3,\n        m4: m4,\n        m5: m5,\n        l0: l0,\n        g3: g3,\n        g4: g4,\n        l1: l1,\n        g5: g5,\n        g6: g6,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./info.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"user\" :class=\"AppStyle\">\n\t\t<view class=\"header\" :style=\"[{height:CustomBar + 'px'}]\">\n\t\t\t<view class=\"cu-bar bg-white\" :style=\"{'height': CustomBar + 'px','padding-top':StatusBar + 'px'}\">\n\t\t\t\t<view class=\"action\" @tap=\"back\">\n\t\t\t\t\t<text class=\"cuIcon-back\"></text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"content text-bold\" :style=\"[{top:StatusBar + 'px'}]\">\n\t\t\t\t\t<block v-if=\"replyType==0\">\r\n\t\t\t\t\t\t动态详情\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t动态评论详情\r\n\t\t\t\t\t</block>\n\t\t\t\t</view>\n\t\t\t\t<!--  #ifdef H5 || APP-PLUS -->\r\n\t\t\t\t<view class=\"action\" @tap=\"toSearch\">\r\n\t\t\t\t\t<text class=\"cuIcon-search\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!--  #endif -->\n\t\t\t</view>\n\t\t</view>\n\t\t<view :style=\"[{padding:NavBar + 'px 10px 0px 10px'}]\"></view>\n\t\t<view class=\"cu-card dynamic no-card space-info\">\n\t\t\t<view class=\"cu-item\">\n\t\t\t\t<view class=\"cu-list menu-avatar\" v-if=\"spaceInfo.userJson\">\n\t\t\t\t\t<view class=\"cu-item\">\n\t\t\t\t\t\t<view class=\"cu-avatar round lg\"  :style=\"'background-image:url('+spaceInfo.userJson.avatar+');'\">\r\n\t\t\t\t\t\t\t<!--  #ifdef H5 || APP-PLUS -->\n\t\t\t\t\t\t\t<view class=\"curLv\" :style=\"getLvStyle(spaceInfo.userJson.experience)\">{{getLv(spaceInfo.userJson.experience)}}</view>\n\t\t\t\t\t\t\t<!--  #endif -->\r\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"content flex-sub\">\n\t\t\t\t\t\t\t<view>{{spaceInfo.userJson.name}}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<!--  #ifdef H5 || APP-PLUS -->\n\t\t\t\t\t\t\t<text class=\"userlv\" :style=\"getUserLvStyle(spaceInfo.userJson.lv)\">{{getUserLv(spaceInfo.userJson.lv)}}</text>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<!--  #endif -->\n\t\t\t\t\t\t\t<text class=\"userlv customize\" v-if=\"spaceInfo.userJson.customize&&spaceInfo.userJson.customize!=''\">{{spaceInfo.userJson.customize}}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"text-gray text-sm\">\n\t\t\t\t\t\t\t\t{{formatDate(spaceInfo.created)}} <text class=\"margin-left-sm\" v-if=\"spaceInfo.created!=spaceInfo.modified\">已编辑</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"action space-follow\">\n\t\t\t\t\t\t\t<view class=\"cu-btn bg-red\" v-if=\"spaceInfo.isFollow==0\" @tap=\"follow(1,spaceInfo.userJson.uid)\">\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-add\"></text>关注\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"cu-btn text-red isFollow\" v-if=\"spaceInfo.isFollow==1\" @tap=\"follow(0,spaceInfo.userJson.uid)\">\n\t\t\t\t\t\t\t\t已关注\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"text-content break-all\">\n\t\t\t\t\t<rich-text :nodes=\"markHtml(spaceInfo.text)\"></rich-text>\n\t\t\t\t</view>\n\t\t\t\t\r\n\t\t\t\t<block  v-if=\"spaceInfo.type==0\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"grid flex-sub padding-lr col-3 grid-square\" v-if=\"spaceInfo.picList.length>0\">\r\n\t\t\t\t\t\t<view class=\"bg-img\" :style=\"'background-image:url('+data+');'\"\r\n\t\t\t\t\t\t v-for=\"(data,i) in spaceInfo.picList\" :key=\"i\" @tap=\"previewImage(spaceInfo.picList,data)\">\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t<block  v-if=\"spaceInfo.type==1\">\r\n\t\t\t\t\t<view class=\"grid flex-sub padding-lr\">\r\n\t\t\t\t\t\t<view class=\"user-post-info\" @tap=\"goContentInfo(spaceInfo)\">\r\n\t\t\t\t\t\t\t<view class=\"user-post-pic\" v-if=\"spaceInfo.contentJson.images.length>0\">\r\n\t\t\t\t\t\t\t\t<image :src=\"spaceInfo.contentJson.images[0]\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"user-post-text\">\r\n\t\t\t\t\t\t\t\t<view class=\"user-post-title\">\r\n\t\t\t\t\t\t\t\t\t{{spaceInfo.contentJson.title}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"user-post-intro\">\r\n\t\t\t\t\t\t\t\t\t{{spaceInfo.contentJson.text}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t<block  v-if=\"spaceInfo.type==2\">\r\n\t\t\t\t\t<view class=\"grid flex-sub padding-lr\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"user-space-info\" @tap=\"toInfo(spaceInfo.forwardJson.id)\">\r\n\t\t\t\t\t\t\t<view class=\"user-space-text\">\r\n\t\t\t\t\t\t\t\t<text class=\"text-blue\">@{{spaceInfo.forwardJson.username}}：</text>{{spaceInfo.forwardJson.text}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<view class=\"grid flex-sub col-3 grid-square margin-top-xs\" v-if=\"spaceInfo.forwardJson.picList.length>0\">\r\n\t\t\t\t\t\t\t\t<view class=\"bg-img\" :style=\"'background-image:url('+data+');'\"\r\n\t\t\t\t\t\t\t\t v-for=\"(data,i) in spaceInfo.forwardJson.picList\" :key=\"i\">\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t<block  v-if=\"spaceInfo.type==4\">\r\n\t\t\t\t\t<view class=\"padding-lr spaceVideo\">\r\n\t\t\t\t\t\t<video :src=\"spaceInfo.pic\"></video>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t<block  v-if=\"spaceInfo.type==5\">\r\n\t\t\t\t\t<view class=\"grid flex-sub padding-lr\">\r\n\t\t\t\t\t\t<view class=\"user-post-info\" @tap=\"goShopInfo(spaceInfo)\">\r\n\t\t\t\t\t\t\t<view class=\"user-post-pic\">\r\n\t\t\t\t\t\t\t\t<image :src=\"spaceInfo.shopJson.imgurl\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"user-post-text\">\r\n\t\t\t\t\t\t\t\t<view class=\"user-post-title\">\r\n\t\t\t\t\t\t\t\t\t{{spaceInfo.shopJson.title}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"user-post-intro\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"text-red text-lg text-bold\">{{parseInt(spaceInfo.shopJson.price)}} {{currencyName}}</text>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"user-post-intro\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"text-gray text-sm\">剩余数量：{{spaceInfo.shopJson.num}}</text>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\n\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"space-reply\">\n\t\t\t<view class=\"space-reply-head\">\n\t\t\t\t<text @tap=\"setInfoType(1)\" class=\"margin-right-xl\" :class=\"infoType==1?'cur':''\" v-if=\"replyType==0\">转发 <block v-if=\"spaceInfo.forward>0\">{{formatNumber(spaceInfo.forward)}}</block></text>\n\t\t\t\t<text  @tap=\"setInfoType(0)\" :class=\"infoType==0?'cur':''\">评论 <block v-if=\"spaceInfo.reply>0\">{{formatNumber(spaceInfo.reply)}}</block></text>\n\t\t\t\t<text class=\"space-reply-likes\">赞 <block v-if=\"spaceInfo.likes>0\">{{formatNumber(spaceInfo.likes)}}</block></text>\n\t\t\t</view>\r\n\t\t\t<block v-if=\"infoType==0\">\r\n\t\t\t\t<view class=\"space-reply-list\">\r\n\t\t\t\t\t<view class=\"cu-list menu-avatar comment\" v-for=\"(item,index) in replyList\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"cu-item\">\r\n\t\t\t\t\t\t\t<view class=\"cu-avatar round\" :style=\"'background-image:url('+item.userJson.avatar+');'\" @tap=\"toUserContents(item.userJson)\"></view>\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<view class=\"text-grey\">\r\n\t\t\t\t\t\t\t\t\t{{item.userJson.name}}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<!--  #ifdef H5 || APP-PLUS -->\r\n\t\t\t\t\t\t\t\t\t<text class=\"userlv\" :style=\"getLvStyle(item.userJson.experience)\">{{getLv(item.userJson.experience)}}</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"userlv\" :style=\"getUserLvStyle(item.userJson.lv)\">{{getUserLv(item.userJson.lv)}}</text>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<!--  #endif -->\r\n\t\t\t\t\t\t\t\t\t<text class=\"userlv customize\" v-if=\"item.userJson.customize&&item.userJson.customize!=''\">{{item.userJson.customize}}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"text-content text-df break-all\">\r\n\t\t\t\t\t\t\t\t\t<rich-text :nodes=\"markHtml(item.text)\"></rich-text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"space-reply-num padding-xs radius margin-top-sm  text-sm\" v-if=\"item.reply>0\" @tap=\"toReplyInfo(item.id)\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"text-blue\">共{{item.reply}}条回复<text class=\"cuIcon-right margin-left-xs\"></text></text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"margin-top-sm flex justify-between\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"text-gray text-df\">{{formatDate(item.created)}}</view>\r\n\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-forward text-gray\" @tap=\"forward(item.id)\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{formatNumber(item.forward) || ''}}\r\n\t\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-message text-gray margin-left-xl\" @tap=\"goReply(item.id)\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{formatNumber(item.reply) || ''}}\r\n\t\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-appreciate  margin-left-xl\" @tap=\"toListLike(item.id,'reply',index)\" :class=\"item.isLikes==1?'text-red':'text-gray'\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{formatNumber(item.likes) || ''}}\r\n\t\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"comment-operation\">\r\n\t\t\t\t\t\t\t\t\t<block v-if=\"group=='administrator'||group=='editor'\">\r\n\t\t\t\t\t\t\t\t\t\t<!-- <text class=\"text-blue margin-left-sm\" @tap=\"edit(item.id)\">编辑</text> -->\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"text-black\" @tap=\"toBan(item.userJson.uid)\">封禁</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"text-red margin-left-sm\" @tap=\"toDelete(item.id)\">删除</text>\r\n\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t\t\t\t\t<block v-if=\"item.userJson.uid!=0&&item.userJson.uid==uid\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <text class=\"text-blue margin-left-sm\" @tap=\"edit(item.id)\">编辑</text> -->\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"text-red\" @tap=\"toDelete(item.id)\">删除</text>\r\n\t\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"no-data\" v-if=\"replyList.length==0\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<text class=\"cuIcon-text\"></text>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t暂时没有消息\r\n\t\t\t\t\t\t<view class=\"text-center margin-top-sm\">\r\n\t\t\t\t\t\t\t<text class=\"cu-btn bg-blue\" @tap=\"goReply(spaceInfo.id)\">我要抢首评</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"load-more\" @tap=\"loadMore\" v-if=\"replyList.length>0\">\r\n\t\t\t\t\t\t<text>{{moreText}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t\t<block v-if=\"infoType==1\">\r\n\t\t\t\t<view class=\"space-reply-list\">\r\n\t\t\t\t\t<view class=\"cu-list menu-avatar comment\" v-for=\"(item,index) in forwardList\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"cu-item\">\r\n\t\t\t\t\t\t\t<view class=\"cu-avatar round\" :style=\"'background-image:url('+item.userJson.avatar+');'\" @tap=\"toUserContents(item.userJson)\"></view>\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<view class=\"text-grey\">\r\n\t\t\t\t\t\t\t\t\t{{item.userJson.name}}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<!--  #ifdef H5 || APP-PLUS -->\r\n\t\t\t\t\t\t\t\t\t<text class=\"userlv\" :style=\"getLvStyle(item.userJson.experience)\">{{getLv(item.userJson.experience)}}</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"userlv\" :style=\"getUserLvStyle(item.userJson.lv)\">{{getUserLv(item.userJson.lv)}}</text>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<!--  #endif -->\r\n\t\t\t\t\t\t\t\t\t<text class=\"userlv customize\" v-if=\"item.userJson.customize&&item.userJson.customize!=''\">{{item.userJson.customize}}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"text-content text-df break-all\">\r\n\t\t\t\t\t\t\t\t\t<rich-text :nodes=\"markHtml(item.text)\"></rich-text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"margin-top-sm flex justify-between\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"text-gray text-df\">{{formatDate(item.created)}}</view>\r\n\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-forward text-gray\" @tap=\"forward(item.id)\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{formatNumber(item.forward) || ''}}\r\n\t\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-message text-gray margin-left-xl\" @tap=\"goReply(item.id)\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{formatNumber(item.reply) || ''}}\r\n\t\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-appreciate text-gray margin-left-xl\" @tap=\"toListLike(item.id,'forward',index)\"  :class=\"item.isLikes==1?'text-red':'text-gray'\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{formatNumber(item.likes) || ''}}\r\n\t\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"no-data\" v-if=\"forwardList.length==0\">\r\n\t\t\t\t\t\t<text class=\"cuIcon-text\"></text>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t暂时还没有人转发\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"load-more\" @tap=\"loadMore\" v-if=\"forwardList.length>0\">\r\n\t\t\t\t\t\t<text>{{moreText}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t</block>\n\t\t\t\n\t\t</view>\n\t\t<view class=\"space-footer grid \" :class=\"replyType==0?'col-3':'col-2'\" v-if=\"spaceInfo.status==1\">\n\t\t\t<view class=\"space-footer-box\" @tap=\"forward(spaceInfo.id)\" v-if=\"replyType==0\">\n\t\t\t\t<text class=\"cuIcon-forward\"></text>\n\t\t\t\t转发\n\t\t\t</view>\n\t\t\t<view class=\"space-footer-box\" @tap=\"goReply(spaceInfo.id)\">\n\t\t\t\t<text class=\"cuIcon-message\"></text>\n\t\t\t\t评论\n\t\t\t</view>\n\t\t\t<view class=\"space-footer-box\" @tap=\"toLike(spaceInfo.id)\">\n\t\t\t\t<text class=\"cuIcon-appreciate\"  :class=\"spaceInfo.isLikes==1?'text-red':''\"></text>\n\t\t\t\t点赞\n\t\t\t</view>\n\t\t</view>\n\t\t<!--加载遮罩-->\n\t\t<view class=\"loading\" v-if=\"isLoading==0\">\n\t\t\t<view class=\"loading-main\">\n\t\t\t\t<image src=\"../../static/loading.gif\"></image>\n\t\t\t</view>\n\t\t</view>\n\t\t<!--加载遮罩结束-->\n\t</view>\n</template>\n\n<script>\n\timport { localStorage } from '../../js_sdk/mp-storage/mp-storage/index.js'\n\t// #ifdef APP-PLUS\n\timport owo from '../../static/app-plus/owo/OwO.js'\n\t// #endif\n\t// #ifdef H5\n\timport owo from '../../static/h5/owo/OwO.js'\n\t// #endif\n\t// #ifdef MP\n\tvar owo = [];\n\t// #endif\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tStatusBar: this.StatusBar,\n\t\t\t\tCustomBar: this.CustomBar,\n\t\t\t\tNavBar:this.StatusBar +  this.CustomBar,\n\t\t\t\tAppStyle:this.$store.state.AppStyle,\n\t\t\t\t\n\t\t\t\treplyType:0,\n\t\t\t\tid:0,\n\t\t\t\ttoken:'',\n\t\t\t\t\n\t\t\t\tspaceInfo:{\n\t\t\t\t\tcreated: 0,\n\t\t\t\t\tforward: 0,\n\t\t\t\t\tid: 3,\n\t\t\t\t\tlikes: 0,\n\t\t\t\t\treply: 0,\n\t\t\t\t\ttext: \"\",\n\t\t\t\t\ttoid: 0,\n\t\t\t\t\ttype: 0,\n\t\t\t\t\tuid: 1,\n\t\t\t\t\tmodified:0,\n\t\t\t\t\tpicList:[]\n\t\t\t\t},\r\n\t\t\t\treplyList:[],\r\n\t\t\t\tforwardList:[],\n\t\t\t\tisLoad:0,\n\t\t\t\tisLoading:0,\r\n\t\t\t\tpage:1,\r\n\t\t\t\tpageSize:10,\r\n\t\t\t\tmoreText:\"加载更多\",\r\n\t\t\t\tdataLoad:false,\r\n\t\t\t\t\r\n\t\t\t\tcurrencyName:\"\",\n\t\t\t\t\n\t\t\t\towo:owo,\n\t\t\t\towoList:[],\r\n\t\t\t\t\r\n\t\t\t\tinfoType:0,\n\t\t\t\tgroup:\"\",\r\n\t\t\t\tuid:0,\n\t\t\t}\n\t\t},\n\t\tonPullDownRefresh(){\n\t\t\tvar that = this;\n\t\t\tif(that.id!=0){\n\t\t\t\tthat.getSpaceInfo();\r\n\t\t\t\tthat.getReplyList(false)\n\t\t\t}\n\t\t\tvar timer = setTimeout(function() {\r\n\t\t\t\t\r\n\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t}, 1000)\n\t\t},\r\n\t\tonReachBottom() {\r\n\t\t    //触底后执行的方法，比如无限加载之类的\r\n\t\t\tvar that = this;\r\n\t\t\tthat.loadMore();\r\n\t\t},\n\t\tonHide() {\n\t\t\tlocalStorage.removeItem('getuid')\n\t\t},\n\t\tonShow(){\n\t\t\tvar that = this;\n\t\t\t// #ifdef APP-PLUS\n\t\t\tthat.isLoad=0;\r\n\t\t\tthat.page=1;\n\t\t\tplus.navigator.setStatusBarStyle(\"dark\")\n\t\t\t// #endif\n\t\t\tif(localStorage.getItem('token')){\r\n\t\t\t\t\r\n\t\t\t\tthat.token = localStorage.getItem('token');\r\n\t\t\t}\n\t\t\tif(localStorage.getItem('getuid')){\n\t\t\t\tthat.toid = localStorage.getItem('getuid');\n\t\t\t}\r\n\t\t\tif(that.id!=0){\r\n\t\t\t\tthat.getSpaceInfo();\r\n\t\t\t\tthat.getReplyList(false)\r\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tonLoad(res) {\n\t\t\tvar that = this;\r\n\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\tthat.group = userInfo.group;\r\n\t\t\t\tthat.uid = userInfo.uid;\r\n\t\t\t}\r\n\t\t\tthat.currencyName = that.$API.getCurrencyName();\n\t\t\t// #ifdef APP-PLUS || MP\n\t\t\tthat.NavBar = this.CustomBar;\n\t\t\t// #endif\n\t\t\t// #ifdef APP-PLUS || H5\n\t\t\tvar owo = that.owo.data;\n\t\t\tvar owoList=[];\n\t\t\tfor(var i in owo){\n\t\t\t\towoList = owoList.concat(owo[i].container);\n\t\t\t}\n\t\t\tthat.owoList = owoList;\n\t\t\t// #endif\r\n\t\t\tif(res.replyType){\r\n\t\t\t\tthat.replyType = res.replyType;\r\n\t\t\t}\n\t\t\tif(res.id){\n\t\t\t\tthat.id = res.id;\n\t\t\t\tthat.getSpaceInfo();\r\n\t\t\t\tthat.getReplyList(false)\n\t\t\t}\n\t\t},\n\t\tmethods: {\r\n\t\t\tloadMore(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.moreText=\"正在加载中...\";\r\n\t\t\t\tif(that.isLoad==0){\r\n\t\t\t\t\tthat.getReplyList(true);\r\n\t\t\t\t\tif(that.infoType==0){\r\n\t\t\t\t\t\tthat.getReplyList(false)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(that.infoType==1){\r\n\t\t\t\t\t\tthat.getForwardList(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\n\t\t\tback(){\n\t\t\t\tuni.navigateBack({\n\t\t\t\t\tdelta: 1\n\t\t\t\t});\n\t\t\t},\n\t\t\tgetSpaceInfo(){\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar token = \"\";\r\n\t\t\t\tif(localStorage.getItem('token')){\r\n\t\t\t\t\t\r\n\t\t\t\t\ttoken = localStorage.getItem('token');\r\n\t\t\t\t}\n\t\t\t\tvar data = {\n\t\t\t\t\t\"id\":that.id,\r\n\t\t\t\t\t\"token\":token\n\t\t\t\t}\n\t\t\t\tthat.$Net.request({\n\t\t\t\t\turl: that.$API.spaceInfo(),\n\t\t\t\t\tdata:data,\n\t\t\t\t\theader:{\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\n\t\t\t\t\t},\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tthat.isLoading=1;\n\t\t\t\t\t\tif(res.data.code==1){\n\t\t\t\t\t\t\tthat.spaceInfo = res.data.data;\n\t\t\t\t\t\t\tif(res.data.data.pic&&res.data.data.pic!=\"\"){\n\t\t\t\t\t\t\t\tthat.spaceInfo.picList = res.data.data.pic.split(\"||\");\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthat.spaceInfo.picList = [];\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(res.data.data.forwardJson){\r\n\t\t\t\t\t\t\t\tif(res.data.data.forwardJson.pic&&res.data.data.forwardJson.pic!=\"\"){\r\n\t\t\t\t\t\t\t\t\tthat.spaceInfo.forwardJson.picList = res.data.data.forwardJson.pic.split(\"||\");\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthat.spaceInfo.forwardJson.picList = [];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\tthat.isLoading=1;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t},\n\t\t\tpreviewImage(imageList,image) {\n\t\t\t\t//预览图片\n\t\t\t\tuni.previewImage({\n\t\t\t\t\turls: imageList,\n\t\t\t\t\tcurrent: image\n\t\t\t\t});\n\t\t\t},\n\t\t\tsubText(text,num){\n\t\t\t\tif(text.length < null){\n\t\t\t\t\treturn text.substring(0,num)+\"……\"\n\t\t\t\t}else{\n\t\t\t\t\treturn text;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\treplaceSpecialChar(text) {\n\t\t\t  text = text.replace(/&quot;/g, '\"');\n\t\t\t  text = text.replace(/&amp;/g, '&');\n\t\t\t  text = text.replace(/&lt;/g, '<');\n\t\t\t  text = text.replace(/&gt;/g, '>');\n\t\t\t  text = text.replace(/&nbsp;/g, ' ');\n\t\t\t  return text;\n\t\t\t},\n\t\t\tformatDate(datetime) {\n\t\t\t\tvar datetime = new Date(parseInt(datetime * 1000));\n\t\t\t\tvar year = datetime.getFullYear(),\n\t\t\t\t\tmonth = (\"0\" + (datetime.getMonth() + 1)).slice(-2),\n\t\t\t\t\tdate = (\"0\" + datetime.getDate()).slice(-2),\n\t\t\t\t\thour = (\"0\" + datetime.getHours()).slice(-2),\n\t\t\t\t\tminute = (\"0\" + datetime.getMinutes()).slice(-2);\n\t\t\t\tvar result = year + \"-\" + month + \"-\" + date + \" \" + hour + \":\" + minute;\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\tformatNumber(num) {\n\t\t\t    return num >= 1e3 && num < 1e4 ? (num / 1e3).toFixed(1) + 'k' : num >= 1e4 ? (num / 1e4).toFixed(1) + 'w' : num\n\t\t\t},\n\t\t\ttoInfo(id){\n\t\t\t\tvar that = this;\n\t\t\t\t\n\t\t\t\tuni.navigateTo({\n\t\t\t\t    url: '/pages/space/info?id='+id\n\t\t\t\t});\n\t\t\t},\n\t\t\tgoAds(data){\n\t\t\t\tvar that = this;\n\t\t\t\tvar url = data.url;\n\t\t\t\tvar type = data.urltype;\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\tif(type==1){\n\t\t\t\t\tplus.runtime.openURL(url);\n\t\t\t\t}\n\t\t\t\tif(type==0){\n\t\t\t\t\tplus.runtime.openWeb(url);\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t\t// #ifdef H5\n\t\t\t\twindow.open(url)\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\tformatNumber(num) {\n\t\t\t    return num >= 1e3 && num < 1e4 ? (num / 1e3).toFixed(1) + 'k' : num >= 1e4 ? (num / 1e4).toFixed(1) + 'w' : num\n\t\t\t},\n\t\t\tgetUserLv(i){\n\t\t\t\tvar that = this;\n\t\t\t\tif(!i){\n\t\t\t\t\tvar i = 0;\n\t\t\t\t}\n\t\t\t\tvar rankList = that.$API.GetRankList();\n\t\t\t\treturn rankList[i];\n\t\t\t},\n\t\t\tmarkHtml(text){\n\t\t\t\tvar that = this;\r\n\t\t\t\ttext = that.replaceAll(text,\"<\",\"&lt;\");\r\n\t\t\t\ttext = that.replaceAll(text,\">\",\"&gt;\");\n\t\t\t\tvar owoList=that.owoList;\n\t\t\t\tfor(var i in owoList){\n\t\t\t\t\n\t\t\t\t\tif(that.replaceSpecialChar(text).indexOf(owoList[i].data) != -1){\n\t\t\t\t\t\ttext = that.replaceAll(that.replaceSpecialChar(text),owoList[i].data,\"<img src='/\"+owoList[i].icon+\"' class='tImg' />\")\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\r\n\t\t\t\ttext = that.replaceAll(text,\"/r/n\",\"<br>\");\r\n\t\t\t\ttext =that.replaceAll(text,\"||rn||\",\"<br>\");\r\n\t\t\t\ttext = that.TransferString(text);\n\t\t\t\treturn text;\n\t\t\t},\r\n\t\t\tTransferString(content)\r\n\t\t\t{  \r\n\t\t\t    var string = content;  \r\n\t\t\t    try{  \r\n\t\t\t        string=string.replace(/\\r\\n/g,\"<br>\")  \r\n\t\t\t        string=string.replace(/\\n/g,\"<br>\");  \r\n\t\t\t\t\t\r\n\t\t\t    }catch(e) {  \r\n\t\t\t        return content;\r\n\t\t\t    }  \r\n\t\t\t    return string;  \r\n\t\t\t},\n\t\t\treplaceAll(string, search, replace) {\n\t\t\t  return string.split(search).join(replace);\n\t\t\t},\n\t\t\tgetUserLv(i){\n\t\t\t\tvar that = this;\n\t\t\t\tif(!i){\n\t\t\t\t\tvar i = 0;\n\t\t\t\t}\n\t\t\t\tvar rankList = that.$API.GetRankList();\n\t\t\t\treturn rankList[i];\n\t\t\t},\n\t\t\t\n\t\t\tgetUserLvStyle(i){\n\t\t\t\tvar that = this;\n\t\t\t\tif(!i){\n\t\t\t\t\tvar i = 0;\n\t\t\t\t}\n\t\t\t\tvar rankStyle = that.$API.GetRankStyle();\n\t\t\t\tvar userlvStyle =\"color:#fff;background-color: \"+rankStyle[i];\n\t\t\t\treturn userlvStyle;\n\t\t\t},\n\t\t\tgetLv(i){\n\t\t\t\tvar that = this;\n\t\t\t\tif(!i){\n\t\t\t\t\tvar i = 0;\n\t\t\t\t}\n\t\t\t\tvar lv  = that.$API.getLever(i);\n\t\t\t\tvar leverList = that.$API.GetLeverList();\n\t\t\t\treturn leverList[lv];\n\t\t\t},\n\t\t\tgetLvStyle(i){\n\t\t\t\tvar that = this;\n\t\t\t\tif(!i){\n\t\t\t\t\tvar i = 0;\n\t\t\t\t}\n\t\t\t\tvar lv  = that.$API.getLever(i);\n\t\t\t\tvar rankStyle = that.$API.GetRankStyle();\n\t\t\t\tvar userlvStyle =\"color:#fff;background-color: \"+rankStyle[lv];\n\t\t\t\treturn userlvStyle;\n\t\t\t},\r\n\t\t\tgoReply(id){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t    url: '/pages/space/reply?id='+id\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tforward(id){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t    url: '/pages/space/post?type=2&id='+id\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetReplyList(isPage){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar page = that.page;\r\n\t\t\t\tvar token = \"\";\r\n\t\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\t\ttoken=userInfo.token;\r\n\t\t\t\t}\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\t\"toid\":that.id,\r\n\t\t\t\t\t\"type\":3\r\n\t\t\t\t}\r\n\t\t\t\tif(isPage){\r\n\t\t\t\t\tpage++;\r\n\t\t\t\t}\r\n\t\t\t\tthat.$Net.request({\r\n\t\t\t\t\turl: that.$API.spaceList(),\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\"searchParams\":JSON.stringify(that.$API.removeObjectEmptyKey(data)),\r\n\t\t\t\t\t\t\"limit\":that.pageSize,\r\n\t\t\t\t\t\t\"page\":page,\r\n\t\t\t\t\t\t\"order\":\"created\",\r\n\t\t\t\t\t\t\"token\":token\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tthat.isLoad=0;\r\n\t\t\t\t\t\tthat.moreText=\"加载更多\";\r\n\t\t\t\t\t\tif(!isPage){\r\n\t\t\t\t\t\t\tthat.dataLoad = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(res.data.code==1){\r\n\t\t\t\t\t\t\tvar list = res.data.data;\r\n\t\t\t\t\t\t\tvar replyList = [];\r\n\t\t\t\t\t\t\tfor(var i in list){\r\n\t\t\t\t\t\t\t\tif(list[i].type==0){\r\n\t\t\t\t\t\t\t\t\tif(list[i].pic){\r\n\t\t\t\t\t\t\t\t\t\tvar pic = list[i].pic;\r\n\t\t\t\t\t\t\t\t\t\tlist[i].picList = pic.split(\"||\");\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tlist[i].picList = [];\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(list[i].type==2){\r\n\t\t\t\t\t\t\t\t\tif(list[i].forwardJson.pic){\r\n\t\t\t\t\t\t\t\t\t\tvar pic = list[i].forwardJson.pic;\r\n\t\t\t\t\t\t\t\t\t\tlist[i].forwardJson.picList = pic.split(\"||\");\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tlist[i].forwardJson.picList = [];\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treplyList = list;\r\n\t\t\t\t\t\t\tif(list.length>0){\r\n\t\t\t\t\t\t\t\tif(isPage){\r\n\t\t\t\t\t\t\t\t\tthat.page++;\r\n\t\t\t\t\t\t\t\t\tthat.replyList = that.replyList.concat(replyList);\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthat.replyList = replyList;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthat.moreText=\"没有更多数据了\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthat.moreText=\"加载更多\";\r\n\t\t\t\t\t\tthat.isLoad=0;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetForwardList(isPage){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar page = that.page;\r\n\t\t\t\tvar token = \"\";\r\n\t\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\t\ttoken=userInfo.token;\r\n\t\t\t\t}\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\t\"toid\":that.id,\r\n\t\t\t\t\t\"type\":2\r\n\t\t\t\t}\r\n\t\t\t\tif(isPage){\r\n\t\t\t\t\tpage++;\r\n\t\t\t\t}\r\n\t\t\t\tthat.$Net.request({\r\n\t\t\t\t\turl: that.$API.spaceList(),\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\"searchParams\":JSON.stringify(that.$API.removeObjectEmptyKey(data)),\r\n\t\t\t\t\t\t\"limit\":that.pageSize,\r\n\t\t\t\t\t\t\"page\":page,\r\n\t\t\t\t\t\t\"order\":\"created\",\r\n\t\t\t\t\t\t\"token\":token\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tthat.isLoad=0;\r\n\t\t\t\t\t\tthat.moreText=\"加载更多\";\r\n\t\t\t\t\t\tif(!isPage){\r\n\t\t\t\t\t\t\tthat.dataLoad = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(res.data.code==1){\r\n\t\t\t\t\t\t\tvar list = res.data.data;\r\n\t\t\t\t\t\t\tvar forwardList = [];\r\n\t\t\t\t\t\t\tfor(var i in list){\r\n\t\t\t\t\t\t\t\tif(list[i].type==0){\r\n\t\t\t\t\t\t\t\t\tif(list[i].pic){\r\n\t\t\t\t\t\t\t\t\t\tvar pic = list[i].pic;\r\n\t\t\t\t\t\t\t\t\t\tlist[i].picList = pic.split(\"||\");\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tlist[i].picList = [];\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(list[i].type==2){\r\n\t\t\t\t\t\t\t\t\tif(list[i].forwardJson.pic){\r\n\t\t\t\t\t\t\t\t\t\tvar pic = list[i].forwardJson.pic;\r\n\t\t\t\t\t\t\t\t\t\tlist[i].forwardJson.picList = pic.split(\"||\");\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tlist[i].forwardJson.picList = [];\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tforwardList = list;\r\n\t\t\t\t\t\t\tif(list.length>0){\r\n\t\t\t\t\t\t\t\tif(isPage){\r\n\t\t\t\t\t\t\t\t\tthat.page++;\r\n\t\t\t\t\t\t\t\t\tthat.forwardList = that.forwardList.concat(forwardList);\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthat.forwardList = forwardList;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthat.moreText=\"没有更多数据了\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthat.moreText=\"加载更多\";\r\n\t\t\t\t\t\tthat.isLoad=0;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tfollow(type,uid){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar token = \"\";\r\n\t\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\t\ttoken=userInfo.token;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"请先登录\",\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/user/login'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthat.spaceInfo.isFollow = type;\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\ttoken:token,\r\n\t\t\t\t\ttouid:uid,\r\n\t\t\t\t\ttype:type,\r\n\t\t\t\t}\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: \"加载中\"\r\n\t\t\t\t});\r\n\t\t\t\tthat.$Net.request({\r\n\t\t\t\t\t\r\n\t\t\t\t\turl: that.$API.follow(),\r\n\t\t\t\t\tdata:data,\r\n\t\t\t\t\theader:{\r\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t//console.log(JSON.stringify(res))\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\t\tthat.spaceInfo.isFollow = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"网络开小差了哦\",\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoLike(id){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar token = \"\";\r\n\t\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\t\ttoken=userInfo.token;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"请先登录\",\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/user/login'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(that.spaceInfo.isLikes==1){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"你已经点赞过了\",\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.spaceInfo.isLikes = 1;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthat.spaceInfo.likes += 1;\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\ttoken:token,\r\n\t\t\t\t\tid:id,\r\n\t\t\t\t}\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: \"加载中\"\r\n\t\t\t\t});\r\n\t\t\t\tthat.$Net.request({\r\n\t\t\t\t\t\r\n\t\t\t\t\turl: that.$API.spaceLikes(),\r\n\t\t\t\t\tdata:data,\r\n\t\t\t\t\theader:{\r\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: \"post\",\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t//console.log(JSON.stringify(res))\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\t\tthat.spaceInfo.isLikes = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"网络开小差了哦\",\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoListLike(id,type,index){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar token = \"\";\r\n\t\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\t\ttoken=userInfo.token;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"请先登录\",\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/user/login'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(type==\"forward\"){\r\n\t\t\t\t\tif(that.forwardList[index].isLikes==1){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"你已经点赞过了\",\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.forwardList[index].isLikes = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.forwardList[index].likes += 1;\r\n\t\t\t\t}\r\n\t\t\t\tif(type==\"reply\"){\r\n\t\t\t\t\tif(that.replyList[index].isLikes==1){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"你已经点赞过了\",\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.replyList[index].isLikes = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.replyList[index].likes += 1;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\ttoken:token,\r\n\t\t\t\t\tid:id,\r\n\t\t\t\t}\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: \"加载中\"\r\n\t\t\t\t});\r\n\t\t\t\tthat.$Net.request({\r\n\t\t\t\t\t\r\n\t\t\t\t\turl: that.$API.spaceLikes(),\r\n\t\t\t\t\tdata:data,\r\n\t\t\t\t\theader:{\r\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: \"post\",\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t//console.log(JSON.stringify(res))\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\t\tif(type==\"forward\"){\r\n\t\t\t\t\t\t\t\tthat.forwardList[index].isLikes = 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(type==\"reply\"){\r\n\t\t\t\t\t\t\t\tthat.replyList[index].isLikes = 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"网络开小差了哦\",\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsetInfoType(type){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.page = 1;\r\n\t\t\t\tif(type==0){\r\n\t\t\t\t\tthat.getReplyList(false)\r\n\t\t\t\t}\r\n\t\t\t\tif(type==1){\r\n\t\t\t\t\tthat.getForwardList(false);\r\n\t\t\t\t}\r\n\t\t\t\tthat.infoType = type;\r\n\t\t\t},\r\n\t\t\ttoSearch(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t    url: '/pages/contents/search'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetLv(i){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(!i){\r\n\t\t\t\t\tvar i = 0;\r\n\t\t\t\t}\r\n\t\t\t\tvar lv  = that.$API.getLever(i);\r\n\t\t\t\tvar leverList = that.$API.GetLeverList();\r\n\t\t\t\treturn leverList[lv];\r\n\t\t\t},\r\n\t\t\tgetLvStyle(i){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(!i){\r\n\t\t\t\t\tvar i = 0;\r\n\t\t\t\t}\r\n\t\t\t\tvar lv  = that.$API.getLever(i);\r\n\t\t\t\tvar rankStyle = that.$API.GetRankStyle();\r\n\t\t\t\tvar userlvStyle =\"color:#fff;background-color: \"+rankStyle[lv];\r\n\t\t\t\treturn userlvStyle;\r\n\t\t\t},\r\n\t\t\ttoUserContents(data){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar name = data.name;\r\n\t\t\t\tvar title = data.name+\"的信息\";\r\n\t\t\t\tvar id= data.uid;\r\n\t\t\t\tif(id==0){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"用户不存在或已注销\",\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\tvar type=\"user\";\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t    url: '/pages/contents/userinfo?title='+title+\"&name=\"+name+\"&uid=\"+id+\"&avatar=\"+encodeURIComponent(data.avatar)\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\ttoReplyInfo(id){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\t\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t    url: '/pages/space/info?id='+id+'&replyType=1'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\ttoBan(uid){\r\n\t\t\t\tif(uid==0){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"该用户不存在\",\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/manage/banuser?uid='+uid\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tedit(id){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t    url: '/pages/space/post?postType=edit&id='+id\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\ttoDelete(id){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar token = \"\";\r\n\t\t\t\t\r\n\t\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\t\ttoken=userInfo.token;\r\n\t\t\t\t}\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\t\"id\":id,\r\n\t\t\t\t\t\"token\":token\r\n\t\t\t\t}\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '确定要删除该动态吗',\r\n\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\ttitle: \"加载中\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthat.$Net.request({\r\n\t\t\t\t\t\t\t\turl: that.$API.spaceDelete(),\r\n\t\t\t\t\t\t\t\tdata:data,\r\n\t\t\t\t\t\t\t\theader:{\r\n\t\t\t\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\tif(res.data.code==1){\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: res.data.msg+\"，刷新数据后生效\",\r\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"网络开小差了哦\",\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\tconsole.log('用户点击取消');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":""}