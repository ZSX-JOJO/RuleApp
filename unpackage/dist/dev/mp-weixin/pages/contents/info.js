(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/contents/info"],{

/***/ 181:
/*!**********************************************************************!*\
  !*** E:/APPpro/voss/规则之树/main.js?{"page":"pages%2Fcontents%2Finfo"} ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(wx, createPage) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
__webpack_require__(/*! uni-pages */ 26);
__webpack_require__(/*! @dcloudio/uni-stat/dist/uni-stat.es.js */ 27);
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 25));
var _info = _interopRequireDefault(__webpack_require__(/*! ./pages/contents/info.vue */ 182));
// @ts-ignore
wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;
createPage(_info.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js */ 1)["default"], __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["createPage"]))

/***/ }),

/***/ 182:
/*!***************************************************!*\
  !*** E:/APPpro/voss/规则之树/pages/contents/info.vue ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _info_vue_vue_type_template_id_858e454c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./info.vue?vue&type=template&id=858e454c& */ 183);
/* harmony import */ var _info_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./info.vue?vue&type=script&lang=js& */ 185);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _info_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _info_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 38);

var renderjs




/* normalize component */

var component = Object(_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _info_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _info_vue_vue_type_template_id_858e454c___WEBPACK_IMPORTED_MODULE_0__["render"],
  _info_vue_vue_type_template_id_858e454c___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _info_vue_vue_type_template_id_858e454c___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "pages/contents/info.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 183:
/*!**********************************************************************************!*\
  !*** E:/APPpro/voss/规则之树/pages/contents/info.vue?vue&type=template&id=858e454c& ***!
  \**********************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_info_vue_vue_type_template_id_858e454c___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./info.vue?vue&type=template&id=858e454c& */ 184);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_info_vue_vue_type_template_id_858e454c___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_info_vue_vue_type_template_id_858e454c___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_info_vue_vue_type_template_id_858e454c___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_info_vue_vue_type_template_id_858e454c___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 184:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/APPpro/voss/规则之树/pages/contents/info.vue?vue&type=template&id=858e454c& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
try {
  components = {
    mpHtml: function () {
      return Promise.all(/*! import() | components/mp-html/mp-html */[__webpack_require__.e("common/vendor"), __webpack_require__.e("components/mp-html/mp-html")]).then(__webpack_require__.bind(null, /*! @/components/mp-html/mp-html.vue */ 301))
    },
  }
} catch (e) {
  if (
    e.message.indexOf("Cannot find module") !== -1 &&
    e.message.indexOf(".vue") !== -1
  ) {
    console.error(e.message)
    console.error("1. 排查组件名称拼写是否正确")
    console.error(
      "2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"
    )
    console.error(
      "3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件"
    )
  } else {
    throw e
  }
}
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  var m0 = _vm.replaceSpecialChar(_vm.title)
  var g0 = _vm.category.length
  var g1 = _vm.category.length
  var m1 = _vm.created != "" ? _vm.formatDate(_vm.created) : null
  var m2 = _vm.subText(_vm.userInfo.introduce, 60)
  var l0 =
    _vm.shopValue == ""
      ? _vm.__map(_vm.shopList, function (item, index) {
          var $orig = _vm.__get_orig(item)
          var m3 =
            item.type == 1 && _vm.isBuy == 0
              ? parseInt(item.price * item.vipDiscount)
              : null
          var m4 =
            item.type == 2 && _vm.isBuy == 0
              ? parseInt(item.price * item.vipDiscount)
              : null
          var m5 =
            item.type == 3 && _vm.isBuy == 0
              ? parseInt(item.price * item.vipDiscount)
              : null
          var m6 =
            item.type == 4 && _vm.isBuy == 0
              ? parseInt(item.price * item.vipDiscount)
              : null
          return {
            $orig: $orig,
            m3: m3,
            m4: m4,
            m5: m5,
            m6: m6,
          }
        })
      : null
  var m7 = _vm.isLikes == 0 ? _vm.formatNumber(_vm.likes) : null
  var m8 = !(_vm.isLikes == 0) ? _vm.formatNumber(_vm.likes) : null
  var g2 = _vm.tagList.length
  var g3 = _vm.isComment == 1 ? _vm.commentsList.length : null
  var l1 =
    _vm.isComment == 1
      ? _vm.__map(_vm.commentsList, function (item, index) {
          var $orig = _vm.__get_orig(item)
          var g4 = _vm.commentsList.length
          return {
            $orig: $orig,
            g4: g4,
          }
        })
      : null
  var g5 = _vm.isComment == 1 ? _vm.commentsList.length : null
  _vm.$mp.data = Object.assign(
    {},
    {
      $root: {
        m0: m0,
        g0: g0,
        g1: g1,
        m1: m1,
        m2: m2,
        l0: l0,
        m7: m7,
        m8: m8,
        g2: g2,
        g3: g3,
        l1: l1,
        g5: g5,
      },
    }
  )
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 185:
/*!****************************************************************************!*\
  !*** E:/APPpro/voss/规则之树/pages/contents/info.vue?vue&type=script&lang=js& ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_info_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./info.vue?vue&type=script&lang=js& */ 186);
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_info_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_info_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_info_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_info_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_info_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 186:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--13-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/APPpro/voss/规则之树/pages/contents/info.vue?vue&type=script&lang=js& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _index = __webpack_require__(/*! ../../js_sdk/mp-storage/mp-storage/index.js */ 42);
var mpHtml = function mpHtml() {
  Promise.all(/*! require.ensure | components/mp-html/mp-html */[__webpack_require__.e("common/vendor"), __webpack_require__.e("components/mp-html/mp-html")]).then((function () {
    return resolve(__webpack_require__(/*! @/components/mp-html/mp-html */ 301));
  }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
};
var owo = [];
var _default = {
  data: function data() {
    return {
      StatusBar: this.StatusBar,
      CustomBar: this.CustomBar,
      NavBar: this.StatusBar + this.CustomBar,
      AppStyle: this.$store.state.AppStyle,
      paddingBottomHeight: 0,
      //苹果X以上手机底部适配高度
      cid: 0,
      uid: 0,
      title: "",
      html: "",
      commentsNum: 0,
      category: [],
      created: '',
      markdown: -1,
      markdownData: {},
      userInfo: {},
      slug: "",
      tagList: [],
      commentsList: [],
      shopIsMd: -1,
      moreText: "加载更多",
      page: 1,
      isLoad: 0,
      isLoading: 0,
      isMark: 0,
      logid: -1,
      token: "",
      likes: 0,
      isLikes: 0,
      type: "post",
      shopList: [],
      shopID: -1,
      owo: owo,
      owoList: [],
      isCommnet: 0,
      modalName: null,
      checkbox: [{
        value: 0,
        name: '5积分',
        num: 5,
        checked: false,
        hot: false
      }, {
        value: 1,
        name: '10积分',
        num: 10,
        checked: false,
        hot: false
      }, {
        value: 2,
        name: '30积分',
        num: 30,
        checked: false,
        hot: false
      }, {
        value: 3,
        name: '50积分',
        num: 50,
        checked: false,
        hot: false
      }, {
        value: 4,
        name: '100积分',
        num: 100,
        checked: false,
        hot: false
      }, {
        value: 5,
        name: '200积分',
        num: 200,
        checked: false,
        hot: false
      }],
      ads: "",
      userlvStyle: "",
      vipDiscount: 0,
      vipPrice: 0,
      scale: 0,
      isBuy: 0,
      shopValue: "",
      bannerAds: [],
      bannerAdsInfo: null,
      isComment: 0,
      images: [],
      group: "",
      authorId: 0,
      isFollow: 0,
      currencyName: "",
      isShare: false,
      rewardLog: [],
      rewardTotal: 0
    };
  },
  components: {
    mpHtml: mpHtml
  },
  onReachBottom: function onReachBottom() {
    //触底后执行的方法，比如无限加载之类的
    var that = this;
    that.loadMore();
  },
  onShareAppMessage: function onShareAppMessage(res) {
    var that = this;
    if (res.from === 'button') {
      // 来自页面内分享按钮
    }
    if (res.from === 'menu') {
      // 来自页面内分享按钮
    }
    var data = {
      title: that.title,
      path: '/page/contents/info?cid=' + that.cid
    };
    if (that.images.lenght > 0) {
      data.imageUrl = that.images[0];
    }
  },
  onShareTimeline: function onShareTimeline() {
    var that = this;
    var data = {
      title: that.title,
      path: '/page/contents/info?cid=' + that.cid
    };
    if (that.images.lenght > 0) {
      data.imageUrl = that.images[0];
    }
    return data;
  },
  onShow: function onShow() {
    var that = this;
    that.currencyName = that.$API.getCurrencyName();
    if (_index.localStorage.getItem('userinfo')) {
      var userInfo = JSON.parse(_index.localStorage.getItem('userinfo'));
      that.uid = userInfo.uid;
      that.group = userInfo.group;
    }
    that.getAdsCache();
    that.isComment = that.$API.GetIsComment();
    that.isLoad = 0;
    that.page = 1;
    if (that.cid != 0) {
      that.getIsCommnet();
      that.getInfo(that.cid);
      that.getCommentsList(false, that.cid);
    }
    if (_index.localStorage.getItem('token')) {
      that.token = _index.localStorage.getItem('token');
      that.toIsMark();
    }
    //that.allCache();
    that.getVipInfo();
  },
  onPullDownRefresh: function onPullDownRefresh() {
    var that = this;
    that.isLoad = 0;
    that.page = 1;
    var timer = setTimeout(function () {
      that.getInfo(that.cid);
    }, 1000);
  },
  onLoad: function onLoad(res) {
    var that = this;
    uni.getSystemInfo({
      success: function success(res) {
        var model = ['X', 'XR', 'XS', '11', '12', '13', '14', '15'];
        console.log("当前设备型号：" + res.model);
        model.forEach(function (item) {
          //适配iphoneX以上的底部，给tabbar一定高度的padding-bottom
          if (res.model.indexOf(item) != -1 && res.model.indexOf('iPhone') != -1) {
            that.paddingBottomHeight = 40;
          }
        });
      }
    });
    that.NavBar = this.CustomBar;
    that.cid = res.cid;
    that.title = res.title;
    if (_index.localStorage.getItem('likeDate_' + that.cid)) {
      var data = _index.localStorage.getItem('likeDate_' + that.cid);
      var cur_date = new Date().getTime();
      var c = Number(cur_date) - Number(data);
      if (c >= 86400000) {
        that.isLikes = 0;
        _index.localStorage.removeItem('likeDate_' + that.cid);
      } else {
        that.isLikes = 1;
      }
    }
    that.allCache();
    that.getInfo(that.cid);
    that.getRewardLog(that.cid);
    that.getCommentsList(false, that.cid);
    var ctx = this.$refs.article;
  },
  methods: {
    getAdsCache: function getAdsCache() {
      var that = this;
      if (_index.localStorage.getItem('bannerAds')) {
        that.bannerAds = JSON.parse(_index.localStorage.getItem('bannerAds'));
        var num = that.bannerAds.length;
        if (num > 0) {
          var rand = Math.floor(Math.random() * num);
          that.bannerAdsInfo = that.bannerAds[rand];
        }
      }
    },
    backHome: function backHome() {
      uni.redirectTo({
        url: '/pages/home/index'
      });
    },
    back: function back() {
      var pages = getCurrentPages();
      if (pages.length === 1) {
        uni.redirectTo({
          url: '/pages/home/index'
        });
      } else {
        uni.navigateBack({
          delta: 1
        });
      }
    },
    allCache: function allCache() {
      var that = this;
      var cid = that.cid;
      if (_index.localStorage.getItem('postInfo_' + cid)) {
        var postInfo = JSON.parse(_index.localStorage.getItem('postInfo_' + cid));
        that.category = postInfo.category;
        that.created = postInfo.created;
        that.commentsNum = postInfo.commentsNum;
        that.images = postInfo.images;
        that.markdown = postInfo.markdown;
        if (postInfo.markdown == 1) {
          that.html = that.markHtml(postInfo.text);
        } else {
          that.html = that.quillHtml(postInfo.text);
        }
        that.tagList = postInfo.tag;
        that.slug = postInfo.slug;
        that.authorId = postInfo.authorId;
        that.getUserInfo(postInfo.authorId);
        that.getIsFollow(postInfo.authorId);
      }
      if (_index.localStorage.getItem('commentsList_' + cid)) {
        that.commentsList = JSON.parse(_index.localStorage.getItem('commentsList_' + cid));
      }
    },
    markExpand: function markExpand(text) {
      var that = this;
      //评论可见
      if (that.isCommnet == 1) {
        text = that.replaceAll(text, "[hide]", "<div style='width:100%;padding:15px 15px;background:#dff0d8;color:#3c763d;border:solid 1px #d6e9c6;box-sizing: border-box;border-radius: 5px;word-break:break-all;'>");
        text = that.replaceAll(text, "[/hide]", "</div>");
        text = that.replaceAll(text, "{hide}", "<div style='width:100%;padding:15px 15px;background:#dff0d8;color:#3c763d;border:solid 1px #d6e9c6;box-sizing: border-box;border-radius: 5px;word-break:break-all;'>");
        text = that.replaceAll(text, "{/hide}", "</div>");
      } else {
        text = text.replace(/\[hide(([\s\S])*?)\[\/hide\]/g, "<div style='width:100%;padding:15px 15px;background:#f2dede;color:#a94442;border:solid 1px #ebccd1;box-sizing: border-box;border-radius: 5px;'>此内容需要评论后方可阅读！</div>");
        text = text.replace(/{hide(([\s\S])*?){\/hide}/g, "<div style='width:100%;padding:15px 15px;background:#f2dede;color:#a94442;border:solid 1px #ebccd1;box-sizing: border-box;border-radius: 5px;'>此内容需要评论后方可阅读！</div>");
      }
      var isVip = 0;
      if (_index.localStorage.getItem('userinfo')) {
        var userInfo = JSON.parse(_index.localStorage.getItem('userinfo'));
        isVip = userInfo.vip;
      }
      if (isVip > 0) {
        text = that.replaceAll(text, "[vip]", "<div style='width:100%;padding:15px 15px;background:#dff0d8;color:#3c763d;border:solid 1px #d6e9c6;box-sizing: border-box;border-radius: 5px;word-break:break-all;'>");
        text = that.replaceAll(text, "[/vip]", "</div>");
      } else {
        text = text.replace(/\[vip(([\s\S])*?)\[\/vip\]/g, "<div style='width:100%;padding:15px 15px;background:rgba(251,189,8,0.2);color:#fbbd08;border:solid 1px #fbbd08;box-sizing: border-box;border-radius: 5px;'>此内容仅VIP权限阅读！</div>");
      }
      //表情包

      return text;
    },
    markHtml: function markHtml(text) {
      var that = this;
      //下面奇怪的代码是为了解决可执行代码区域问题
      text = that.replaceAll(text, "@!!!", "@@@@");
      text = that.replaceAll(text, "!!!", "");
      text = that.replaceAll(text, "@@@@", "@!!!");
      text = that.markExpand(text);
      //text = text.replace(/(?<!\r)\n(?!\r)/g, "\n\n");
      //兼容垃圾的Safari浏览器
      text = text.replace(/([^\r])\n([^\r])/g, "$1\n\n$2");
      text = that.replaceAll(text, "||rn||", "\n\n");
      return text;
    },
    markCommentHtml: function markCommentHtml(text) {
      var that = this;
      return text;
    },
    getUserLv: function getUserLv(i) {
      var that = this;
      if (!i) {
        var i = 0;
      }
      var rankList = that.$API.GetRankList();
      return rankList[i];
    },
    getUserLvStyle: function getUserLvStyle(i) {
      var that = this;
      if (!i) {
        var i = 0;
      }
      var rankStyle = that.$API.GetRankStyle();
      var userlvStyle = "color:#fff;background-color: " + rankStyle[i];
      return userlvStyle;
    },
    replaceAll: function replaceAll(string, search, replace) {
      return string.split(search).join(replace);
    },
    toUserInfo: function toUserInfo(data) {
      var that = this;
      var name = data.name;
      var title = data.name + "的信息";
      if (data.screenName) {
        title = data.screenName + " 的信息";
        name = data.screenName;
      }
      var id = data.uid;
      var type = "user";
      uni.navigateTo({
        url: '/pages/contents/userinfo?title=' + title + "&name=" + name + "&uid=" + id + "&avatar=" + encodeURIComponent(data.avatar)
      });
    },
    toTagsContents: function toTagsContents(title, id) {
      var that = this;
      var type = "meta";
      uni.navigateTo({
        url: '/pages/contents/contentlist?title=' + title + "&type=" + type + "&id=" + id
      });
    },
    toCategoryContents: function toCategoryContents(data) {
      var that = this;
      var title = data[0].name;
      var id = data[0].mid;
      var type = "meta";
      uni.navigateTo({
        url: '/pages/contents/contentlist?title=' + title + "&type=" + type + "&id=" + id
      });
    },
    loadMore: function loadMore() {
      var that = this;
      that.moreText = "正在加载中...";
      if (that.isLoad == 0) {
        that.getCommentsList(true, that.cid);
      }
    },
    getVipInfo: function getVipInfo() {
      var that = this;
      that.$Net.request({
        url: that.$API.getVipInfo(),
        header: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        method: "get",
        dataType: 'json',
        success: function success(res) {
          if (res.data.code == 1) {
            that.vipDiscount = res.data.data.vipDiscount;
            that.vipPrice = res.data.data.vipPrice;
            that.scale = res.data.data.scale;
          }
          var timer = setTimeout(function () {
            that.isLoading = 1;
            clearTimeout('timer');
          }, 300);
        },
        fail: function fail(res) {
          var timer = setTimeout(function () {
            that.isLoading = 1;
            clearTimeout('timer');
          }, 300);
        }
      });
    },
    quillHtml: function quillHtml(text) {
      var that = this;
      text = that.replaceAll(text, "hljs", "hl");
      text = that.replaceAll(text, "ql-syntax", "hl-pre");
      text = that.markExpand(text);
      return text;
    },
    getInfo: function getInfo(cid) {
      var that = this;
      var token = "";
      if (_index.localStorage.getItem('userinfo')) {
        var userInfo = JSON.parse(_index.localStorage.getItem('userinfo'));
        token = userInfo.token;
      }
      var data = {
        "key": that.cid,
        "isMd": 0,
        "token": token
      };
      that.$Net.request({
        url: that.$API.getContentsInfo(),
        data: data,
        header: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        method: "get",
        dataType: 'json',
        success: function success(res) {
          uni.stopPullDownRefresh();
          if (res.data.title) {
            that.title = res.data.title;
            that.category = res.data.category;
            that.created = res.data.created;
            that.commentsNum = res.data.commentsNum;
            that.images = res.data.images;
            that.markdown = res.data.markdown;
            var html = res.data.text;
            if (res.data.markdown == 1) {
              html = that.markHtml(res.data.text);
            } else {
              html = that.quillHtml(res.data.text);
            }
            that.html = html;
            that.tagList = res.data.tag;
            that.slug = res.data.slug;
            that.type = res.data.type;
            that.likes = res.data.likes;
            that.authorId = res.data.authorId;
            that.getUserInfo(res.data.authorId);
            that.getIsFollow(res.data.authorId);
            _index.localStorage.removeItem('postInfo_' + that.cid);
            _index.localStorage.setItem('postInfo_' + that.cid, JSON.stringify(res.data));
            var timer = setTimeout(function () {
              that.allCache();
            }, 200);
            var timer = setTimeout(function () {
              that.isLoading = 1;
              clearTimeout('timer');
            }, 300);
          }
        },
        fail: function fail(res) {
          uni.stopPullDownRefresh();
        }
      });
    },
    getUserInfo: function getUserInfo(id) {
      var that = this;
      var data = {
        "key": id
      };
      that.$Net.request({
        url: that.$API.getUserInfo(),
        data: data,
        header: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        method: "get",
        dataType: 'json',
        success: function success(res) {
          if (res.data.code == 1) {
            that.userInfo = res.data.data;
            that.userInfo.style = "background-image:url(" + res.data.data.avatar + ");";
          } else {
            that.userInfo.name = "用户已注销";
          }
        },
        fail: function fail(res) {}
      });
    },
    getCommentsList: function getCommentsList(isPage, id) {
      var that = this;
      var data = {
        "cid": id,
        "status": "approved"
      };
      var page = that.page;
      if (isPage) {
        page++;
      }
      that.$Net.request({
        url: that.$API.getCommentsList(),
        data: {
          "searchParams": JSON.stringify(that.$API.removeObjectEmptyKey(data)),
          "limit": 4,
          "page": page
        },
        header: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        method: "get",
        dataType: 'json',
        success: function success(res) {
          uni.stopPullDownRefresh();
          that.isLoad = 0;
          if (res.data.code == 1) {
            var list = res.data.data;
            if (list.length > 0) {
              var commentsList = [];
              for (var i in list) {
                var arr = list[i];
                arr.style = "background-image:url(" + list[i].avatar + ");";
                commentsList.push(arr);
              }
              if (isPage) {
                that.page++;
                that.commentsList = that.commentsList.concat(commentsList);
              } else {
                that.commentsList = commentsList;
              }
              _index.localStorage.setItem('commentsList_' + that.cid, JSON.stringify(that.commentsList));
            } else {
              that.moreText = "没有更多评论了";
              if (that.page == 1 && !isPage) {
                _index.localStorage.removeItem('commentsList_' + that.cid);
                that.commentsList = [];
              }
            }
          }
        },
        fail: function fail(res) {
          uni.stopPullDownRefresh();
          uni.showToast({
            title: "网络开小差了哦",
            icon: 'none'
          });
          that.isLoad = 0;
          var timer = setTimeout(function () {
            that.isLoading = 1;
            clearTimeout('timer');
          }, 300);
          that.moreText = "加载更多";
        }
      });
    },
    commentsAdd: function commentsAdd(title, coid, reply) {
      var that = this;
      if (!_index.localStorage.getItem('userinfo')) {
        uni.showToast({
          title: "请先登录",
          icon: 'none'
        });
        uni.navigateTo({
          url: '/pages/user/login'
        });
        return false;
      } else {
        var cid = that.cid;
        uni.navigateTo({
          url: '/pages/contents/commentsadd?cid=' + cid + "&coid=" + coid + "&title=" + title + "&isreply=" + reply
        });
      }
    },
    toReward: function toReward() {
      var that = this;
      var rewardList = that.checkbox;
      var num = 10;
      for (var i in rewardList) {
        if (rewardList[i].checked) {
          num = rewardList[i].num;
        }
      }
      var data = {
        "type": "reward",
        "cid": that.cid,
        "num": num
      };
      uni.showLoading({
        title: "加载中"
      });
      that.$Net.request({
        url: that.$API.addLog(),
        data: {
          "params": JSON.stringify(that.$API.removeObjectEmptyKey(data)),
          "token": that.token
        },
        header: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        method: "get",
        dataType: 'json',
        success: function success(res) {
          that.hideModal();
          setTimeout(function () {
            uni.hideLoading();
          }, 500);
          uni.showToast({
            title: res.data.msg,
            icon: 'none'
          });
          if (res.data.code == 1) {
            uni.showToast({
              title: "成功打赏 " + num + " " + that.currencyName,
              icon: 'none'
            });
          }
        },
        fail: function fail(res) {
          that.hideModal();
          setTimeout(function () {
            uni.hideLoading();
          }, 500);
          uni.showToast({
            title: "网络开小差了哦",
            icon: 'none'
          });
        }
      });
    },
    toLikes: function toLikes() {
      var that = this;
      var data = {
        "type": "likes",
        "cid": that.cid
      };
      uni.showLoading({
        title: "加载中"
      });
      that.$Net.request({
        url: that.$API.addLog(),
        data: {
          "params": JSON.stringify(that.$API.removeObjectEmptyKey(data)),
          "token": that.token
        },
        header: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        method: "get",
        dataType: 'json',
        success: function success(res) {
          setTimeout(function () {
            uni.hideLoading();
          }, 500);
          uni.showToast({
            title: res.data.msg,
            icon: 'none'
          });
          if (res.data.code == 1) {
            var timestamp = new Date().getTime();
            that.isLikes = 1;
            _index.localStorage.setItem('likeDate_' + that.cid, timestamp);
            that.likes++;
            //that.getInfo(that.cid);
          }
        },

        fail: function fail(res) {
          setTimeout(function () {
            uni.hideLoading();
          }, 500);
          uni.showToast({
            title: "网络开小差了哦",
            icon: 'none'
          });
        }
      });
    },
    showModal: function showModal(e) {
      this.modalName = e.currentTarget.dataset.target;
    },
    hideModal: function hideModal(e) {
      this.modalName = null;
    },
    ChooseCheckbox: function ChooseCheckbox(j) {
      var items = this.checkbox;
      for (var i = 0, lenI = items.length; i < lenI; ++i) {
        this.checkbox[i].checked = false;
      }
      this.checkbox[j].checked = !this.checkbox[j].checked;
    },
    toIsMark: function toIsMark() {
      var that = this;
      that.$Net.request({
        url: that.$API.getIsMark(),
        data: {
          "token": that.token,
          "cid": that.cid
        },
        header: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        method: "get",
        dataType: 'json',
        success: function success(res) {
          if (res.data.code == 1) {
            that.isMark = res.data.data.isMark;
            that.logid = res.data.data.logid;
          }
        },
        fail: function fail(res) {
          uni.showToast({
            title: "网络开小差了哦",
            icon: 'none'
          });
        }
      });
    },
    toMark: function toMark() {
      var that = this;
      var data = {
        "type": "mark",
        "cid": that.cid
      };
      uni.showLoading({
        title: "加载中"
      });
      that.$Net.request({
        url: that.$API.addLog(),
        data: {
          "params": JSON.stringify(that.$API.removeObjectEmptyKey(data)),
          "token": that.token
        },
        header: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        method: "get",
        dataType: 'json',
        success: function success(res) {
          //console.log(JSON.stringify(res))
          setTimeout(function () {
            uni.hideLoading();
          }, 500);
          uni.showToast({
            title: res.data.msg,
            icon: 'none'
          });
          if (res.data.code == 1) {
            that.toIsMark();
            that.isMark = 1;
            //that.toIsMark();
          }
        },

        fail: function fail(res) {
          setTimeout(function () {
            uni.hideLoading();
          }, 500);
          uni.showToast({
            title: "网络开小差了哦",
            icon: 'none'
          });
        }
      });
    },
    rmMark: function rmMark() {
      var that = this;
      uni.showLoading({
        title: "加载中"
      });
      that.$Net.request({
        url: that.$API.removeLog(),
        data: {
          "key": that.logid,
          "token": that.token
        },
        header: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        method: "get",
        dataType: 'json',
        success: function success(res) {
          //console.log(JSON.stringify(res))
          setTimeout(function () {
            uni.hideLoading();
          }, 500);
          uni.showToast({
            title: res.data.msg,
            icon: 'none'
          });
          if (res.data.code == 1) {
            that.isMark = 0;
            that.toIsMark();
            //that.toIsMark();
          }
        },

        fail: function fail(res) {
          setTimeout(function () {
            uni.hideLoading();
          }, 500);
          uni.showToast({
            title: "网络开小差了哦",
            icon: 'none'
          });
        }
      });
    },
    formatDate: function formatDate(datetime) {
      var datetime = new Date(parseInt(datetime * 1000));
      // 获取年月日时分秒值  slice(-2)过滤掉大于10日期前面的0
      var year = datetime.getFullYear(),
        month = ("0" + (datetime.getMonth() + 1)).slice(-2),
        date = ("0" + datetime.getDate()).slice(-2),
        hour = ("0" + datetime.getHours()).slice(-2),
        minute = ("0" + datetime.getMinutes()).slice(-2);
      //second = ("0" + date.getSeconds()).slice(-2);
      // 拼接
      var result = year + "-" + month + "-" + date + " " + hour + ":" + minute;
      // 返回
      return result;
    },
    ToCopy: function ToCopy(text) {
      var that = this;
    },
    goAds: function goAds(data) {
      var that = this;
      var url = data.url;
      var type = data.urltype;
    },
    ToShare: function ToShare() {
      var that = this;
      var linkRule = that.$API.GetLinkRule();
      var url = linkRule.replace("{cid}", that.cid);
      if (linkRule.indexOf("{category}") != -1) {
        var category = that.category[0].slug;
        url = url.replace("{category}", category);
      }
      //console.log(url);
      if (that.type != "post") {
        var pageRule = that.$API.GetPageRule();
        url = pageRule.replace("{slug}", that.slug);
      }
    },
    formatNumber: function formatNumber(num) {
      return num >= 1e3 && num < 1e4 ? (num / 1e3).toFixed(1) + 'k' : num >= 1e4 ? (num / 1e4).toFixed(1) + 'w' : num;
    },
    getShopList: function getShopList() {
      var that = this;
      var uid = 0;
      if (_index.localStorage.getItem('userinfo')) {
        var userInfo = JSON.parse(_index.localStorage.getItem('userinfo'));
        uid = userInfo.uid;
      }
      var data = {
        "cid": that.cid
      };
      that.$Net.request({
        url: that.$API.shopList(),
        data: {
          "searchParams": JSON.stringify(that.$API.removeObjectEmptyKey(data)),
          "limit": 1,
          "page": 1
        },
        header: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        method: "get",
        dataType: 'json',
        success: function success(res) {
          //console.log(JSON.stringify(res));
          if (res.data.code == 1) {
            var list = res.data.data;
            that.shopList = list;
            if (list.length > 0) {
              that.shopID = list[0].id;
              that.isBuyShop(that.shopID, list[0].type);
            }
          }
        },
        fail: function fail(res) {
          uni.showToast({
            title: "网络开小差了哦",
            icon: 'none'
          });
        }
      });
    },
    getIsCommnet: function getIsCommnet() {
      var that = this;
      that.isCommnet = 1;
      that.getInfo(that.cid);
      return false;
      var token = "";
      if (_index.localStorage.getItem('userinfo')) {
        var userInfo = JSON.parse(_index.localStorage.getItem('userinfo'));
        token = userInfo.token;
      }
      if (token == "") {
        return false;
      }
      var data = {
        "key": that.cid,
        "token": token
      };
      that.$Net.request({
        url: that.$API.isCommnet(),
        data: data,
        header: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        method: "get",
        dataType: 'json',
        success: function success(res) {
          if (res.data.code == 1) {
            that.isCommnet = 1;
            that.getInfo(that.cid);
          }
        },
        fail: function fail(res) {
          uni.showToast({
            title: "网络开小差了哦",
            icon: 'none'
          });
        }
      });
    },
    shopInfo: function shopInfo(data) {
      var that = this;
      var sid = data.id;
      if (data.status != 1) {
        uni.showToast({
          title: "该商品未上架",
          icon: 'none'
        });
        return false;
      }
      uni.navigateTo({
        url: '/pages/contents/shopinfo?sid=' + sid
      });
    },
    toSearch: function toSearch() {
      var that = this;
      uni.redirectTo({
        url: '/pages/contents/search'
      });
    },
    toAds: function toAds(url) {},
    replaceSpecialChar: function replaceSpecialChar(text) {
      if (!text) {
        return false;
      }
      text = text.replace(/&quot;/g, '"');
      text = text.replace(/&amp;/g, '&');
      text = text.replace(/&lt;/g, '<');
      text = text.replace(/&gt;/g, '>');
      text = text.replace(/&nbsp;/g, ' ');
      return text;
    },
    isBuyShop: function isBuyShop(sid, type) {
      var that = this;
      var token = "";
      if (_index.localStorage.getItem('userinfo')) {
        var userInfo = JSON.parse(_index.localStorage.getItem('userinfo'));
        token = userInfo.token;
      }
      var data = {
        "sid": sid,
        "token": token
      };
      that.$Net.request({
        url: that.$API.isBuyShop(),
        data: data,
        header: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        method: "get",
        dataType: 'json',
        success: function success(res) {
          //console.log(JSON.stringify(res));
          if (res.data.code == 1) {
            that.isBuy = 1;
            if (type == 4) {
              that.toShopValue(sid, type);
            }
          }
        },
        fail: function fail(res) {
          uni.showToast({
            title: "网络开小差了哦",
            icon: 'none'
          });
        }
      });
    },
    shopBuy: function shopBuy(sid, type) {
      var that = this;
      var token = "";
      if (_index.localStorage.getItem('userinfo')) {
        var userInfo = JSON.parse(_index.localStorage.getItem('userinfo'));
        token = userInfo.token;
      } else {
        uni.showToast({
          title: "请先登录",
          icon: 'none',
          duration: 1000,
          position: 'bottom'
        });
        var timer = setTimeout(function () {
          uni.navigateTo({
            url: '../user/login'
          });
          clearTimeout('timer');
        }, 1000);
        return false;
      }
      var data = {
        "token": token,
        "sid": sid
      };
      uni.showModal({
        title: '确定购买此商品吗?',
        content: ' ',
        success: function success(res) {
          if (res.confirm) {
            uni.showLoading({
              title: "加载中"
            });
            that.$Net.request({
              url: that.$API.buyShop(),
              data: data,
              header: {
                'Content-Type': 'application/x-www-form-urlencoded'
              },
              method: "get",
              dataType: 'json',
              success: function success(res) {
                setTimeout(function () {
                  uni.hideLoading();
                }, 1000);
                uni.showToast({
                  title: res.data.msg,
                  icon: 'none'
                });
                if (res.data.code == 1) {
                  if (type != 4) {
                    //跳转订单页面
                    var timer = setTimeout(function () {
                      uni.redirectTo({
                        url: '/pages/user/order'
                      });
                      clearTimeout('timer');
                    }, 1000);
                  } else {
                    that.toShopValue(sid, type);
                  }
                } else {
                  if (res.data.msg == "购买实体商品前，需要先设置收货地址") {
                    var timer = setTimeout(function () {
                      uni.redirectTo({
                        url: '/pages/user/address'
                      });
                      clearTimeout('timer');
                    }, 1000);
                  }
                }
              },
              fail: function fail(res) {
                setTimeout(function () {
                  uni.hideLoading();
                }, 1000);
                uni.showToast({
                  title: "网络开小差了哦",
                  icon: 'none'
                });
              }
            });
          }
        }
      });
    },
    toShopValue: function toShopValue(id, type) {
      var that = this;
      if (type == 1) {
        uni.showToast({
          title: "实体商品请留意快递信息",
          icon: 'none'
        });
      } else if (type == 4) {
        var that = this;
        var token = "";
        if (_index.localStorage.getItem('token')) {
          token = _index.localStorage.getItem('token');
        }
        var data = {
          "key": id,
          "token": token
        };
        that.$Net.request({
          url: that.$API.shopInfo(),
          data: data,
          header: {
            'Content-Type': 'application/x-www-form-urlencoded'
          },
          method: "get",
          dataType: 'json',
          success: function success(res) {
            uni.stopPullDownRefresh();
            if (res.data.value) {
              that.shopIsMd = res.data.isMd;
              that.shopValue = that.quillHtml(res.data.value);
            }
            var timer = setTimeout(function () {
              that.isLoading = 1;
              clearTimeout('timer');
            }, 300);
          },
          fail: function fail(res) {
            uni.stopPullDownRefresh();
            uni.showToast({
              title: "网络开小差了哦",
              icon: 'none'
            });
            var timer = setTimeout(function () {
              that.isLoading = 1;
              clearTimeout('timer');
            }, 300);
          }
        });
      } else {
        uni.navigateTo({
          url: '/pages/contents/shoptext?sid=' + id
        });
      }
    },
    subText: function subText(text, num) {
      if (text) {
        if (text.length > num) {
          text = text.substring(0, num);
          return text + "……";
        } else {
          return text;
        }
      } else {
        return "Ta还没有个人介绍哦";
      }
    },
    toUserContents: function toUserContents(data) {
      var that = this;
      var name = data.author;
      var title = data.author + "的信息";
      var id = data.authorId;
      var type = "user";
      uni.navigateTo({
        url: '/pages/contents/userinfo?title=' + title + "&name=" + name + "&uid=" + id + "&avatar=" + encodeURIComponent(data.avatar)
      });
    },
    toBan: function toBan(uid) {
      if (!uid) {
        uni.showToast({
          title: "该用户不存在",
          icon: 'none'
        });
        return false;
      }
      uni.navigateTo({
        url: '/pages/manage/banuser?uid=' + uid
      });
    },
    toDelete: function toDelete(id) {
      var that = this;
      var token = "";
      if (_index.localStorage.getItem('userinfo')) {
        var userInfo = JSON.parse(_index.localStorage.getItem('userinfo'));
        token = userInfo.token;
      }
      var data = {
        "key": id,
        "token": token
      };
      uni.showModal({
        title: '确定要删除该评论吗',
        success: function success(res) {
          if (res.confirm) {
            uni.showLoading({
              title: "加载中"
            });
            that.$Net.request({
              url: that.$API.commentsDelete(),
              data: data,
              header: {
                'Content-Type': 'application/x-www-form-urlencoded'
              },
              method: "get",
              dataType: 'json',
              success: function success(res) {
                setTimeout(function () {
                  uni.hideLoading();
                }, 1000);
                uni.showToast({
                  title: res.data.msg,
                  icon: 'none'
                });
                if (res.data.code == 1) {
                  that.page = 1;
                  that.getCommentsList(false, that.cid);
                }
              },
              fail: function fail(res) {
                setTimeout(function () {
                  uni.hideLoading();
                }, 1000);
                uni.showToast({
                  title: "网络开小差了哦",
                  icon: 'none'
                });
              }
            });
          } else if (res.cancel) {
            console.log('用户点击取消');
          }
        }
      });
    },
    getIsFollow: function getIsFollow(uid) {
      var that = this;
      var token = "";
      if (_index.localStorage.getItem('userinfo')) {
        var userInfo = JSON.parse(_index.localStorage.getItem('userinfo'));
        token = userInfo.token;
      }
      var data = {
        token: token,
        touid: uid
      };
      that.$Net.request({
        url: that.$API.isFollow(),
        data: data,
        header: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        method: "get",
        dataType: 'json',
        success: function success(res) {
          that.isFollow = res.data.code;
        },
        fail: function fail(res) {
          uni.showToast({
            title: "网络开小差了哦",
            icon: 'none'
          });
        }
      });
    },
    follow: function follow(type) {
      var that = this;
      var token = "";
      if (_index.localStorage.getItem('userinfo')) {
        var userInfo = JSON.parse(_index.localStorage.getItem('userinfo'));
        token = userInfo.token;
      } else {
        uni.showToast({
          title: "请先登录",
          icon: 'none'
        });
        uni.navigateTo({
          url: '/pages/user/login'
        });
        return false;
      }
      var data = {
        token: token,
        touid: that.authorId,
        type: type
      };
      that.isFollow = type;
      uni.showLoading({
        title: "加载中"
      });
      that.$Net.request({
        url: that.$API.follow(),
        data: data,
        header: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        method: "get",
        dataType: 'json',
        success: function success(res) {
          //console.log(JSON.stringify(res))
          setTimeout(function () {
            uni.hideLoading();
          }, 1000);
          uni.showToast({
            title: res.data.msg,
            icon: 'none'
          });
          that.getIsFollow(that.authorId);
        },
        fail: function fail(res) {
          setTimeout(function () {
            uni.hideLoading();
          }, 1000);
          uni.showToast({
            title: "网络开小差了哦",
            icon: 'none'
          });
          uni.stopPullDownRefresh();
          that.getIsFollow(that.authorId);
        }
      });
    },
    toLink: function toLink(text) {
      var that = this;
      if (!_index.localStorage.getItem('token') || _index.localStorage.getItem('token') == "") {
        uni.showToast({
          title: "请先登录哦",
          icon: 'none'
        });
        return false;
      }
      uni.navigateTo({
        url: text
      });
    },
    goPost: function goPost(cid) {
      var that = this;
      if (!_index.localStorage.getItem('token') || _index.localStorage.getItem('token') == "") {
        uni.showToast({
          title: "请先登录哦",
          icon: 'none'
        });
        return false;
      }
      var markdown = that.markdown;
      if (markdown == 1) {
        //MarkDown编辑器
        uni.navigateTo({
          url: '/pages/user/post?type=edit' + '&cid=' + cid
        });
      } else {
        //富文本编辑器
        uni.navigateTo({
          url: '/pages/edit/articlePost?type=edit' + '&cid=' + cid
        });
      }
    },
    getRewardLog: function getRewardLog(id) {
      var that = this;
      var token = "";
      if (_index.localStorage.getItem('userinfo')) {
        var userInfo = JSON.parse(_index.localStorage.getItem('userinfo'));
        token = userInfo.token;
      }
      that.$Net.request({
        url: that.$API.rewardList(),
        data: {
          "limit": 4,
          "page": 1,
          "id": id,
          "token": token
        },
        header: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        method: "get",
        dataType: 'json',
        success: function success(res) {
          uni.stopPullDownRefresh();
          if (res.data.code == 1) {
            that.rewardLog = res.data.data;
            var list = res.data.data;
            var rewardTotal = 0;
            for (var i in list) {
              rewardTotal = rewardTotal + list[i].num;
            }
            that.rewardTotal = rewardTotal;
          }
        },
        fail: function fail(res) {
          uni.stopPullDownRefresh();
        }
      });
    },
    goReward: function goReward(id) {
      var that = this;
      uni.navigateTo({
        url: '/pages/contents/rewardLog?id=' + id
      });
    }
  }
};
exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"]))

/***/ })

},[[181,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/contents/info.js.map