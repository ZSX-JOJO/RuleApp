(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-manage-finance"],{"5e1f":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{class:t.AppStyle},[i("v-uni-view",{staticClass:"header",style:[{height:t.CustomBar+"px"}]},[i("v-uni-view",{staticClass:"cu-bar bg-white",style:{height:t.CustomBar+"px","padding-top":t.StatusBar+"px"}},[i("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-back"})],1),i("v-uni-view",{staticClass:"content text-bold",style:[{top:t.StatusBar+"px"}]},[t._v("财务流水（积分）")])],1)],1),i("v-uni-view",{style:[{padding:t.NavBar+"px 10px 0px 10px"}]}),i("v-uni-view",{staticClass:"data-box manage-data"},[i("v-uni-view",{staticClass:"user-data grid col-4"},[i("v-uni-view",{staticClass:"user-data-box"},[i("v-uni-view",{staticClass:"user-data-value"},[t._v(t._s(t.financeData.recharge||0))]),i("v-uni-view",{staticClass:"user-data-title"},[t._v("充值总额")])],1),i("v-uni-view",{staticClass:"user-data-box"},[i("v-uni-view",{staticClass:"user-data-value"},[t._v(t._s(t.financeData.withdraw||0))]),i("v-uni-view",{staticClass:"user-data-title"},[t._v("提现总额")])],1),i("v-uni-view",{staticClass:"user-data-box"},[i("v-uni-view",{staticClass:"user-data-value"},[t._v(t._s(t.financeData.trade||0))]),i("v-uni-view",{staticClass:"user-data-title"},[t._v("交易总额")])],1),i("v-uni-view",{staticClass:"user-data-box"},[i("v-uni-view",{staticClass:"user-data-value"},[t._v(t._s(t.financeData.income||0))]),i("v-uni-view",{staticClass:"user-data-title"},[t._v("收益总额")])],1)],1)],1),i("v-uni-view",{staticClass:"data-box"},[i("v-uni-view",{staticClass:"cu-bar bg-white search"},[i("v-uni-view",{staticClass:"search-form round"},[i("v-uni-text",{staticClass:"cuIcon-search"}),i("v-uni-input",{attrs:{type:"text",placeholder:"搜索用户UID"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.searchTag.apply(void 0,arguments)}},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),""!=t.searchText?i("v-uni-view",{staticClass:"search-close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.searchClose()}}},[i("v-uni-text",{staticClass:"cuIcon-close"})],1):t._e()],1)],1),0==t.financeList.length?i("v-uni-view",{staticClass:"no-data"},[i("v-uni-text",{staticClass:"cuIcon-text"}),t._v("暂时没有数据")],1):t._e(),t._l(t.financeList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"cu-item tokenList-box"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticClass:"text-bold"},[t._v(t._s(e.subject)),i("v-uni-text",{staticClass:"text-red margin-left-sm"},[t._v(t._s(e.totalAmount))])],1)],1),i("v-uni-view",{staticClass:"tokenList-info"},[i("v-uni-text",{staticClass:"tokenDate"},[t._v(t._s(t.formatDate(e.created)))]),i("v-uni-text",{staticClass:"cu-btn bg-white text-blue",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.setUid(e.uid)}}},[t._v("UID:"+t._s(e.uid))])],1)],1)})),t.financeList.length>0?i("v-uni-view",{staticClass:"load-more",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.loadMore.apply(void 0,arguments)}}},[i("v-uni-text",[t._v(t._s(t.moreText))])],1):t._e()],2),0==t.isLoading?i("v-uni-view",{staticClass:"loading"},[i("v-uni-view",{staticClass:"loading-main"},[i("v-uni-image",{attrs:{src:a("14d6")}})],1)],1):t._e()],1)},s=[]},9748:function(t,e,a){"use strict";a.r(e);var i=a("d016"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},a8d3:function(t,e,a){"use strict";a.r(e);var i=a("5e1f"),s=a("9748");for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);var c=a("f0c5"),o=Object(c["a"])(s["default"],i["b"],i["c"],!1,null,"1eb0b081",null,!1,i["a"],void 0);e["default"]=o.exports},d016:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("e9c4"),a("99af"),a("e25e"),a("fb6a");var i=a("625a"),s={data:function(){return{StatusBar:this.StatusBar,CustomBar:this.CustomBar,NavBar:this.StatusBar+this.CustomBar,AppStyle:this.$store.state.AppStyle,financeList:[],financeData:{recharge:0,trade:0,withdraw:0,income:0},page:1,moreText:"加载更多",isLoad:0,searchText:"",isLoading:0}},onPullDownRefresh:function(){this.getFinanceList(),this.getFinanceTotal();setTimeout((function(){uni.stopPullDownRefresh()}),1e3)},onReachBottom:function(){this.loadMore()},onHide:function(){i.localStorage.removeItem("getuid")},onShow:function(){this.getFinanceList(),this.getFinanceTotal()},onLoad:function(){},methods:{back:function(){uni.navigateBack({delta:1})},toType:function(t){this.status=t,this.financeList=[],this.page=1,this.getFinanceList()},loadMore:function(){this.moreText="正在加载中...",0==this.isLoad&&this.getFinanceList(!0)},searchTag:function(){this.searchText;this.page=1,this.getFinanceList()},searchClose:function(){this.searchText="",this.page=1,this.getFinanceList()},setUid:function(t){this.searchText=t,this.page=1,this.getFinanceList()},getFinanceTotal:function(){var t=this,e="";if(i.localStorage.getItem("userinfo")){var a=JSON.parse(i.localStorage.getItem("userinfo"));e=a.token}t.$Net.request({url:t.$API.financeTotal(),data:{token:e},header:{"Content-Type":"application/x-www-form-urlencoded"},method:"get",dataType:"json",success:function(e){1==e.data.code&&(t.financeData=e.data.data)},fail:function(t){}})},getFinanceList:function(t){var e=this,a=e.page,s="";if(i.localStorage.getItem("userinfo")){var n=JSON.parse(i.localStorage.getItem("userinfo"));s=n.token}var c={status:1};""!=e.searchText&&(c.uid=e.searchText),t&&a++,e.$Net.request({url:e.$API.financeList(),data:{searchParams:JSON.stringify(e.$API.removeObjectEmptyKey(c)),limit:20,page:a,order:"created",token:s},header:{"Content-Type":"application/x-www-form-urlencoded"},method:"get",dataType:"json",success:function(a){if(e.isLoad=0,1==a.data.code){var i=a.data.data;if(i.length>0){var s=i;t?(e.page++,e.financeList=e.financeList.concat(s)):e.financeList=s}else e.moreText="没有更多数据了"}setTimeout((function(){e.isLoading=1,clearTimeout("timer")}),300)},fail:function(t){e.isLoad=0,e.moreText="加载更多";setTimeout((function(){e.isLoading=1,clearTimeout("timer")}),300)}})},formatDate:function(t){t=new Date(parseInt(1e3*t));var e=t.getFullYear(),a=("0"+(t.getMonth()+1)).slice(-2),i=("0"+t.getDate()).slice(-2),s=("0"+t.getHours()).slice(-2),n=("0"+t.getMinutes()).slice(-2),c=e+"-"+a+"-"+i+" "+s+":"+n;return c}}};e.default=s}}]);