(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-contents-allcategory"],{2456:function(t,i,e){"use strict";e("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("e9c4"),e("14d9");var a=e("625a"),s={data:function(){return{StatusBar:this.StatusBar,CustomBar:this.CustomBar,NavBar:this.StatusBar+this.CustomBar,AppStyle:this.$store.state.AppStyle,metaList:[],searchText:"",isLoading:0,type:"all",curNum:0}},onPullDownRefresh:function(){},onShow:function(){},onLoad:function(t){this.getMetaList(),t.type&&(this.type=t.type)},methods:{back:function(){uni.navigateBack({delta:1})},getMetaList:function(){var t=this;t.$Net.request({url:t.$API.getMetasList(),data:{searchParams:JSON.stringify(t.$API.removeObjectEmptyKey({type:"category"})),limit:100,page:1,order:"order"},header:{"Content-Type":"application/x-www-form-urlencoded"},method:"get",dataType:"json",success:function(i){if(1==i.data.code){var e=i.data.data;if(e.length>0){var s=[];for(var n in e)0==e[n].parent&&(e[n].show=!1,e[n].active=0,s.push(e[n]));for(var c in s){var o=[];for(var r in e)e[r].parent==s[c].mid&&(e[r].active=0,o.push(e[r]));s[c].subList=o}t.metaList=s,a.localStorage.setItem("find_metaList",JSON.stringify(t.metaList))}}setTimeout((function(){t.isLoading=1,clearTimeout("timer")}),300)},fail:function(i){uni.showToast({title:"网络开小差了哦",icon:"none"});setTimeout((function(){t.isLoading=1,clearTimeout("timer")}),300)}})},toCategoryContents:function(t){var i=t.name,e=t.mid;if("all"==this.type){uni.navigateTo({url:"/pages/contents/contentlist?title="+i+"&type=meta&id="+e})}else{var a=this.metaList;for(var s in a)if(a[s].active=0,a[s].subList.length>0){var n=a[s].subList;for(var c in n)n[c].active=0;a[s].subList=n}if(this.metaList=a,0==t.parent){var o=this.metaList;for(var s in o)o[s].mid==t.mid&&0==t.subList.length&&0==o[s].active&&(o[s].active=1);this.metaList=o}else{o=this.metaList;var r=t.parent;for(var s in o)if(o[s].mid==r){n=o[s].subList;var u=0;if(n.length>0){for(var c in n)n[c].mid==t.mid&&0==t.active&&(n[c].active=1,u=1);o[s].subList=n}o[s].active=u}this.metaList=o}}},submit:function(){var t="",i=this.metaList;for(var e in i)if(1==i[e].active&&(t+=","+i[e].mid,i[e].subList.length>0)){var s=i[e].subList;for(var n in s)1==s[n].active&&(t+=","+s[n].mid)}if(""==t)return uni.showToast({title:"请选择分类",icon:"none"}),!1;a.localStorage.setItem("clist",t),this.back()}}};i.default=s},3569:function(t,i,e){"use strict";e.r(i);var a=e("2456"),s=e.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(n);i["default"]=s.a},"72f5":function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return s})),e.d(i,"a",(function(){}));var a=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"user",class:t.$store.state.AppStyle},[a("v-uni-view",{staticClass:"header",style:[{height:t.CustomBar+"px"}]},[a("v-uni-view",{staticClass:"cu-bar bg-white",style:{height:t.CustomBar+"px","padding-top":t.StatusBar+"px"}},[a("v-uni-view",{staticClass:"action",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.back.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"cuIcon-back"})],1),a("v-uni-view",{staticClass:"content text-bold",style:[{top:t.StatusBar+"px"}]},[t._v("全部分类"),"edit"==t.type?[t._v("(多选)")]:t._e()],2),"edit"==t.type?[a("v-uni-view",{staticClass:"action",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.submit.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"cu-btn bg-blue text-sm radius"},[t._v("确定")])],1)]:t._e()],2)],1),a("v-uni-view",{style:[{padding:t.NavBar+"px 10px 0px 10px"}]}),a("v-uni-view",{staticClass:"allCategory"},[0==t.metaList.length?a("v-uni-view",{staticClass:"no-data"},[a("v-uni-text",{staticClass:"cuIcon-text"}),t._v("暂时没有数据")],1):t._e(),a("v-uni-view",{staticClass:"category"},t._l(t.metaList,(function(i,e){return a("v-uni-view",{key:e,staticClass:"category-item"},[a("v-uni-view",{staticClass:"category-item-title",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toCategoryContents(i)}}},[t._v(t._s(i.name)),"edit"==t.type?[0==i.subList.length&&0==i.active?a("v-uni-text",{staticClass:"text-blue"},[t._v("选择")]):t._e(),1==i.active?a("v-uni-text",{staticClass:"text-blue"},[t._v("已选择")]):t._e()]:[a("v-uni-text",{staticClass:"cuIcon-right"})]],2),i.subList.length>0?a("v-uni-view",{staticClass:"category-content grid col-2"},t._l(i.subList,(function(i,e){return a("v-uni-view",{staticClass:"category-box",class:1==i.active?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toCategoryContents(i)}}},[a("v-uni-view",{staticClass:"category-main"},[t._v(t._s(i.name))])],1)})),1):t._e()],1)})),1)],1),0==t.isLoading?a("v-uni-view",{staticClass:"loading"},[a("v-uni-view",{staticClass:"loading-main"},[a("v-uni-image",{attrs:{src:e("14d6")}})],1)],1):t._e()],1)},s=[]},eda2:function(t,i,e){"use strict";e.r(i);var a=e("72f5"),s=e("3569");for(var n in s)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return s[t]}))}(n);var c=e("f0c5"),o=Object(c["a"])(s["default"],a["b"],a["c"],!1,null,"559cce40",null,!1,a["a"],void 0);i["default"]=o.exports}}]);