(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-manage-banuser"],{"27f2":function(t,i,e){"use strict";e.r(i);var a=e("b07c"),n=e.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(s);i["default"]=n.a},"3e50":function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){}));var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"user",class:t.AppStyle},[e("v-uni-view",{staticClass:"header",style:[{height:t.CustomBar+"px"}]},[e("v-uni-view",{staticClass:"cu-bar bg-white",style:{height:t.CustomBar+"px","padding-top":t.StatusBar+"px"}},[e("v-uni-view",{staticClass:"action",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.back.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"cuIcon-back"})],1),e("v-uni-view",{staticClass:"content text-bold",style:[{top:t.StatusBar+"px"}]},[t._v("用户封禁"),1==t.pageType?[t._v(t._s(t.toid))]:t._e()],2),e("v-uni-view",{staticClass:"action",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.userBan.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"cuIcon-upload"})],1)],1)],1),e("v-uni-view",{style:[{padding:t.NavBar+"px 10px 0px 10px"}]}),e("v-uni-form",[e("v-uni-view",{staticClass:"cu-form-group margin-top"},[e("v-uni-view",{staticClass:"title"},[t._v("类型")]),e("v-uni-view",{staticClass:"picker",attrs:{"data-target":"typeModal"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showModal.apply(void 0,arguments)}}},[""==t.typeText?[t._v("选择发布的分类")]:[t._v(t._s(t.typeText))],e("v-uni-text",{staticClass:"cuIcon-right"})],2)],1),e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-view",{staticClass:"title"},[t._v("用户ID")]),e("v-uni-input",{attrs:{placeholder:"请输入用户ID",name:"input",type:"number"},model:{value:t.toid,callback:function(i){t.toid=i},expression:"toid"}}),e("v-uni-view",{staticClass:"action"},[0==t.pageType?e("v-uni-text",{staticClass:"text-blue",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toUser.apply(void 0,arguments)}}},[t._v("选择用户")]):t._e()],1)],1),e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-view",{staticClass:"title"},[t._v("封禁时间")]),e("v-uni-view",{staticClass:"picker",attrs:{"data-target":"timeModal"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showModal.apply(void 0,arguments)}}},[""==t.timeText?[t._v("选择封禁时间")]:[t._v(t._s(t.timeText))],e("v-uni-text",{staticClass:"cuIcon-right"})],2)],1)],1),e("v-uni-view",{staticClass:"cu-modal",class:"typeModal"==t.modalName?"show":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideModal.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"cu-dialog",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i)}}},[e("v-uni-radio-group",{staticClass:"block"},[e("v-uni-view",{staticClass:"cu-list menu text-left"},t._l(t.typeList,(function(i,a){return e("v-uni-view",{key:a,staticClass:"cu-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toType(i,a)}}},[e("v-uni-label",{staticClass:"flex justify-between align-center flex-sub"},[e("v-uni-view",{staticClass:"flex-sub"},[t._v(t._s(i))]),e("v-uni-radio",{staticClass:"round"})],1)],1)})),1)],1)],1)],1),e("v-uni-view",{staticClass:"cu-modal",class:"timeModal"==t.modalName?"show":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideModal.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"cu-dialog",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i)}}},[e("v-uni-radio-group",{staticClass:"block"},[e("v-uni-view",{staticClass:"cu-list menu text-left"},t._l(t.timeList,(function(i,a){return e("v-uni-view",{key:a,staticClass:"cu-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toTime(i,a)}}},[e("v-uni-label",{staticClass:"flex justify-between align-center flex-sub"},[e("v-uni-view",{staticClass:"flex-sub"},[t._v(t._s(i.title))]),e("v-uni-radio",{staticClass:"round"})],1)],1)})),1)],1)],1)],1)],1)},n=[]},"7c4b":function(t,i,e){"use strict";e.r(i);var a=e("3e50"),n=e("27f2");for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(s);var o=e("f0c5"),u=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"e9a82fe0",null,!1,a["a"],void 0);i["default"]=u.exports},b07c:function(t,i,e){"use strict";e("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e("625a"),n={data:function(){return{StatusBar:this.StatusBar,CustomBar:this.CustomBar,NavBar:this.StatusBar+this.CustomBar,AppStyle:this.$store.state.AppStyle,toid:"",num:"",typeText:"发布敏感/违法内容",typeList:["发布敏感/违法违规内容","机器人/广告/刷帖行为","辱骂他人/影响社区治安","攻击/入侵平台系统","管理员单纯看不顺眼"],type:0,timeList:[{title:"1小时",num:3600},{title:"12小时",num:43200},{title:"一天",num:86400},{title:"七天",num:604800},{title:"一个月",num:2592e3},{title:"一年",num:31536e3}],time:3600,timeText:"1小时",modalName:null,token:"",pageType:0}},onPullDownRefresh:function(){},onHide:function(){a.localStorage.removeItem("getuid")},onShow:function(){a.localStorage.getItem("getuid")&&(this.toid=a.localStorage.getItem("getuid"))},onLoad:function(t){t.uid&&(this.pageType=1,this.toid=t.uid)},methods:{back:function(){uni.navigateBack({delta:1})},showModal:function(t){this.modalName=t.currentTarget.dataset.target},hideModal:function(){this.modalName=null},toType:function(t,i){this.typeText=t,this.type=i,this.hideModal()},toTime:function(t,i){this.timeText=t.title,this.time=t.num,this.hideModal()},userBan:function(){if(""==this.toid)return uni.showToast({title:"请完成表单输入",icon:"none",duration:1e3,position:"bottom"}),!1;var t="";if(a.localStorage.getItem("userinfo")){var i=JSON.parse(a.localStorage.getItem("userinfo"));t=i.token}var e={uid:this.toid,time:this.time,type:"manager",text:this.typeText,token:t};uni.showLoading({title:"加载中"}),this.$Net.request({url:this.$API.banUser(),data:e,header:{"Content-Type":"application/x-www-form-urlencoded"},method:"get",dataType:"json",success:function(t){setTimeout((function(){uni.hideLoading()}),1e3),uni.showToast({title:t.data.msg,icon:"none"}),1==t.data.code&&a.localStorage.removeItem("getuid")},fail:function(t){setTimeout((function(){uni.hideLoading()}),1e3),uni.showToast({title:"网络开小差了哦",icon:"none"}),uni.stopPullDownRefresh()}})},toUser:function(){uni.navigateTo({url:"/pages/manage/users?type=get"})}}};i.default=n}}]);