(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-register"],{"59ae":function(t,e,i){"use strict";i.r(e);var n=i("ccea"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},8367:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"user",class:t.AppStyle},[i("v-uni-view",{staticClass:"header",style:[{height:t.CustomBar+"px"}]},[i("v-uni-view",{staticClass:"cu-bar bg-white",style:{height:t.CustomBar+"px","padding-top":t.StatusBar+"px"}},[i("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-back"})],1),i("v-uni-view",{staticClass:"content text-bold",style:[{top:t.StatusBar+"px"}]},[t._v("用户注册")]),i("v-uni-view",{staticClass:"action"})],1)],1),i("v-uni-view",{style:[{padding:t.NavBar+"px 10px 0px 10px"}]}),i("v-uni-view",{staticClass:"user-form"},[i("v-uni-form",[i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-input",{attrs:{name:"input",placeholder:"请输入用户名(必填)"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-input",{attrs:{name:"input",placeholder:"请输入邮箱(必填)"},model:{value:t.mail,callback:function(e){t.mail=e},expression:"mail"}})],1),t.isEmail>0?i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-input",{attrs:{name:"input",placeholder:"请输入验证码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),t.show?i("v-uni-view",{staticClass:"sendcode text-blue",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.RegSendCode.apply(void 0,arguments)}}},[t._v("发送")]):t._e(),t.show?t._e():i("v-uni-view",{staticClass:"sendcode text-gray"},[t._v(t._s(t.times)+"s")])],1):t._e(),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-input",{attrs:{name:"input",type:"password",placeholder:"请输入密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-input",{attrs:{name:"input",type:"password",placeholder:"再次输入密码"},model:{value:t.repassword,callback:function(e){t.repassword=e},expression:"repassword"}})],1),1==t.isInvite?i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-input",{attrs:{name:"input",type:"text",placeholder:"请输入邀请码(必填)"},model:{value:t.inviteCode,callback:function(e){t.inviteCode=e},expression:"inviteCode"}})],1):t._e(),i("v-uni-view",{staticClass:"user-btn flex flex-direction"},[i("v-uni-button",{staticClass:"cu-btn bg-blue margin-tb-sm lg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.userRegister.apply(void 0,arguments)}}},[t._v("立即注册")]),i("v-uni-text",{staticClass:"text-blue text-right margin-top",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toAgreement.apply(void 0,arguments)}}},[t._v("注册即为同意 《用户协议》")])],1)],1)],1)],1)},a=[]},a16b:function(t,e,i){"use strict";i.r(e);var n=i("8367"),a=i("59ae");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);var s=i("f0c5"),u=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"4ffcfb90",null,!1,n["a"],void 0);e["default"]=u.exports},ccea:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("ac1f"),i("00b4"),i("e9c4");i("625a");var n={data:function(){return{StatusBar:this.StatusBar,CustomBar:this.CustomBar,NavBar:this.StatusBar+this.CustomBar,AppStyle:this.$store.state.AppStyle,times:60,show:!0,name:"",mail:"",code:"",password:"",repassword:"",isEmail:1,isInvite:0,inviteCode:""}},onPullDownRefresh:function(){},onShow:function(){this.regConfig()},onLoad:function(){},methods:{back:function(){uni.navigateBack({delta:1})},PickerChange:function(t){this.index=t.detail.value},validatePassword:function(t){return/^(?=.*[A-Za-z])(?=.*\d)(?=.*[`~!@#$%^&*()_+<>?:"{},.\/\\;'[\]])[A-Za-z\d`~!@#$%^&*()_+<>?:"{},.\/\\;'[\]]{8,}$/.test(t)},userRegister:function(){var t=this;if(""==t.name||""==t.mail||""==t.password||""==t.repassword)return uni.showToast({title:"请输入正确的参数",icon:"none",duration:1e3,position:"bottom"}),!1;if(!t.validatePassword(t.password))return uni.showToast({title:"密码必须包含字母、数字和特殊符号，且长度必须大于8",icon:"none",duration:1e3,position:"bottom"}),!1;if(t.password!=t.repassword)return uni.showToast({title:"两次密码不一致",icon:"none",duration:1e3,position:"bottom"}),!1;var e={name:t.name,code:t.code,password:t.password,mail:t.mail,inviteCode:t.inviteCode};uni.showLoading({title:"加载中"}),t.$Net.request({url:t.$API.userRegister(),data:{params:JSON.stringify(t.$API.removeObjectEmptyKey(e))},header:{"Content-Type":"application/x-www-form-urlencoded"},method:"post",dataType:"json",success:function(e){setTimeout((function(){uni.hideLoading()}),1e3),uni.showToast({title:e.data.msg,icon:"none"}),1==e.data.code&&t.back()},fail:function(t){setTimeout((function(){uni.hideLoading()}),1e3),uni.showToast({title:"网络开小差了哦",icon:"none"}),uni.stopPullDownRefresh()}})},RegSendCode:function(){var t=this;if(""==t.mail)return uni.showToast({title:"请输入邮箱",icon:"none",duration:1e3,position:"bottom"}),!1;var e={mail:t.mail};uni.showLoading({title:"加载中"}),t.$Net.request({url:t.$API.RegSendCode(),data:{params:JSON.stringify(t.$API.removeObjectEmptyKey(e))},header:{"Content-Type":"application/x-www-form-urlencoded"},method:"get",dataType:"json",success:function(e){setTimeout((function(){uni.hideLoading()}),1e3),uni.showToast({title:e.data.msg,icon:"none"}),1==e.data.code&&t.getCode()},fail:function(t){setTimeout((function(){uni.hideLoading()}),1e3),uni.showToast({title:"网络开小差了哦",icon:"none"}),uni.stopPullDownRefresh()}})},regConfig:function(){var t=this;t.$Net.request({url:t.$API.regConfig(),header:{"Content-Type":"application/x-www-form-urlencoded"},method:"get",dataType:"json",success:function(e){1==e.data.code&&(t.isEmail=e.data.data.isEmail,t.isInvite=e.data.data.isInvite)},fail:function(t){uni.showToast({title:"网络开小差了哦",icon:"none"})}})},getCode:function(){var t=this;this.show=!1,this.timer=setInterval((function(){t.times--,0===t.times&&(t.show=!0,clearInterval(t.timer),t.times=60)}),1e3)},toAgreement:function(){uni.navigateTo({url:"/pages/user/agreement"})}}};e.default=n}}]);