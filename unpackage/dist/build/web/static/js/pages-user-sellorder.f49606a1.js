(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-sellorder"],{"2cd1":function(t,e,i){"use strict";i.r(e);var a=i("f07c"),s=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=s.a},"48dc":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{class:t.AppStyle},[a("v-uni-view",{staticClass:"header",style:[{height:t.CustomBar+"px"}]},[a("v-uni-view",{staticClass:"cu-bar bg-white",style:{height:t.CustomBar+"px","padding-top":t.StatusBar+"px"}},[a("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"cuIcon-back"})],1),a("v-uni-view",{staticClass:"content text-bold",style:[{top:t.StatusBar+"px"}]},[t._v("售出的订单")]),a("v-uni-view",{staticClass:"action"})],1)],1),a("v-uni-view",{style:[{padding:t.NavBar+"px 10px 0px 10px"}]}),0==t.orderList.length?a("v-uni-view",{staticClass:"no-data"},[a("v-uni-text",{staticClass:"cuIcon-text"}),t._v("暂时没有数据")],1):t._e(),t._l(t.orderList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"order-box"},[a("v-uni-view",{staticClass:"order-main"},[a("v-uni-view",{staticClass:"order-info"},[a("v-uni-text",{staticClass:"order-id"},[t._v("订单ID："+t._s(e.id)+t._s(e.created))]),e.shopInfo?a("v-uni-text",{staticClass:"order-type bg-blue"},[t._v(t._s(t.getType(e.shopInfo.type)))]):t._e()],1),e.shopInfo?a("v-uni-view",{staticClass:"order-shop",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.shopInfo(e.shopInfo.id)}}},[t._v(t._s(e.shopInfo.title)),a("v-uni-view",{staticClass:"order-time"},[t._v(t._s(t.formatDate(e.created)))])],1):t._e(),e.shopInfo?t._e():a("v-uni-view",{staticClass:"order-shop"},[t._v("[该商品已失效！]"),a("v-uni-view",{staticClass:"order-time"},[t._v(t._s(t.formatDate(e.created)))])],1),e.shopInfo?a("v-uni-view",{staticClass:"order-btn"},[a("v-uni-text",{staticClass:"text-red"},[t._v(t._s(e.shopInfo.price)+" 积分")]),a("v-uni-text",{staticClass:"text-green margin-left",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toUser(e.userEmail)}}},[t._v("联系用户")]),1==e.shopInfo.type?a("v-uni-text",{staticClass:"text-blue",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.addressInfo(e.address)}}},[t._v("查看用户地址")]):t._e()],1):t._e()],1)],1)})),t.orderList.length>0?a("v-uni-view",{staticClass:"load-more",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.loadMore.apply(void 0,arguments)}}},[a("v-uni-text",[t._v(t._s(t.moreText))])],1):t._e(),a("v-uni-view",{staticClass:"cu-modal",class:"Modal"==t.modalName?"show":""},[a("v-uni-view",{staticClass:"cu-dialog"},[a("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[a("v-uni-view",{staticClass:"content"},[t._v("用户地址信息")]),a("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),a("v-uni-view",{staticClass:"padding-xl"},[t._v(t._s(t.address))])],1)],1),a("v-uni-view",{staticClass:"cu-modal",class:"Modal1"==t.modalName?"show":""},[a("v-uni-view",{staticClass:"cu-dialog"},[a("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[a("v-uni-view",{staticClass:"content"},[t._v("用户联系信息")]),a("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),a("v-uni-view",{staticClass:"padding-xl"},[a("v-uni-text",{staticClass:"text-blue",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.ToCopy(t.userEmail)}}},[t._v(t._s(t.userEmail))])],1)],1)],1),0==t.isLoading?a("v-uni-view",{staticClass:"loading"},[a("v-uni-view",{staticClass:"loading-main"},[a("v-uni-image",{attrs:{src:i("14d6")}})],1)],1):t._e()],2)},s=[]},"9a48":function(t,e,i){"use strict";i.r(e);var a=i("48dc"),s=i("2cd1");for(var n in s)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(n);var o=i("f0c5"),c=Object(o["a"])(s["default"],a["b"],a["c"],!1,null,"246902c4",null,!1,a["a"],void 0);e["default"]=c.exports},f07c:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("99af"),i("e25e"),i("fb6a");var a=i("625a"),s={data:function(){return{StatusBar:this.StatusBar,CustomBar:this.CustomBar,NavBar:this.StatusBar+this.CustomBar,AppStyle:this.$store.state.AppStyle,isLoad:0,token:"",orderList:[],address:"",userEmail:"",modalName:null,page:1,moreText:"加载更多",isLoading:0}},onPullDownRefresh:function(){setTimeout((function(){uni.stopPullDownRefresh()}),1e3)},onReachBottom:function(){0==this.isLoad&&this.loadMore()},onShow:function(){a.localStorage.getItem("token")&&(this.token=a.localStorage.getItem("token")),this.getOrderList(!1)},onLoad:function(){},methods:{back:function(){uni.navigateBack({delta:1})},showModal:function(t){this.modalName=t.currentTarget.dataset.target},hideModal:function(t){this.modalName=null},getType:function(t){return["实体商品","源码","软件工具","付费阅读"][t-1]},loadMore:function(){this.moreText="正在加载中...",this.isLoad=1,this.getOrderList(!0)},getOrderList:function(t){var e=this,i=e.page;t&&i++;var a={limit:8,page:i,token:e.token};e.$Net.request({url:e.$API.orderSellList(),data:a,header:{"Content-Type":"application/x-www-form-urlencoded"},method:"get",dataType:"json",success:function(i){if(e.isLoad=0,e.moreText="加载更多",1==i.data.code){var a=i.data.data;a.length>0?t?(e.page++,e.orderList=e.orderList.concat(a)):e.orderList=a:e.moreText="没有更多数据了"}setTimeout((function(){e.isLoading=1,clearTimeout("timer")}),300)},fail:function(t){e.moreText="加载更多",e.isLoad=0,uni.showToast({title:"网络开小差了哦",icon:"none"});setTimeout((function(){e.isLoading=1,clearTimeout("timer")}),300)}})},shopInfo:function(t){uni.navigateTo({url:"../shop/shopinfo?sid="+t})},formatDate:function(t){t=new Date(parseInt(1e3*t));var e=t.getFullYear(),i=("0"+(t.getMonth()+1)).slice(-2),a=("0"+t.getDate()).slice(-2),s=("0"+t.getHours()).slice(-2),n=("0"+t.getMinutes()).slice(-2),o=e+"-"+i+"-"+a+" "+s+":"+n;return o},addressInfo:function(t){this.address=t,this.modalName="Modal"},toUser:function(t){if(!t||""==t)return uni.showToast({title:"该用户未配置邮箱或已失效",icon:"none"}),!1;this.userEmail=t,this.modalName="Modal1"},ToCopy:function(t){uni.showToast({title:"复制成功"});var e=document.createElement("textarea");e.value=t,e.readOnly="readOnly",document.body.appendChild(e),e.select(),e.setSelectionRange(0,t.length);document.execCommand("copy");e.remove()}}};e.default=s}}]);